/* BuildVersion: 4.0.1.133 */(function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(R){if(this==null){throw new TypeError()}var S=Object(this);var P=S.length>>>0;if(P===0){return -1}var T=0;if(arguments.length>0){T=Number(arguments[1]);if(T!=T){T=0}else{if(T!=0&&T!=Infinity&&T!=-Infinity){T=(T>0||-1)*Math.floor(Math.abs(T))}}}if(T>=P){return -1}var Q=T>=0?T:Math.max(P-Math.abs(T),0);for(;Q<P;Q++){if(Q in S&&S[Q]===R){return Q}}return -1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(R){if(this==null){throw new TypeError()}var S=Object(this);var P=S.length>>>0;if(P===0){return -1}var T=P;if(arguments.length>1){T=Number(arguments[1]);if(T!=T){T=0}else{if(T!=0&&T!=(1/0)&&T!=-(1/0)){T=(T>0||-1)*Math.floor(Math.abs(T))}}}var Q=T>=0?Math.min(T,P-1):P-Math.abs(T);for(;Q>=0;Q--){if(Q in S&&S[Q]===R){return Q}}return -1}}if(!Array.prototype.filter){Array.prototype.filter=function(Q){if(this==null){throw new TypeError()}var U=Object(this);var P=U.length>>>0;if(typeof Q!="function"){throw new TypeError()}var T=[];var S=arguments[1];for(var R=0;R<P;R++){if(R in U){var V=U[R];if(Q.call(S,V,R,U)){T.push(V)}}}return T}}if(!Array.prototype.forEach){Array.prototype.forEach=function(W,Q){var S,R;if(this==null){throw new TypeError("this is null or not defined")}var V=Object(this);var P=V.length>>>0;if({}.toString.call(W)!="[object Function]"){throw new TypeError(W+" is not a function")}if(Q){S=Q}R=0;while(R<P){var U;if(R in V){U=V[R];W.call(S,U,R,V)}R++}}}if(!Array.prototype.every){Array.prototype.every=function(Q){if(this==null){throw new TypeError()}var T=Object(this);var P=T.length>>>0;if(typeof Q!="function"){throw new TypeError()}var S=arguments[1];for(var R=0;R<P;R++){if(R in T&&!Q.call(S,T[R],R,T)){return false}}return true}}if(!Array.prototype.map){Array.prototype.map=function(Y,X){var Q,P,R;if(this==null){throw new TypeError(" this is null or not defined")}var U=Object(this);var V=U.length>>>0;if({}.toString.call(Y)!="[object Function]"){throw new TypeError(Y+" is not a function")}if(X){Q=X}P=new Array(V);R=0;while(R<V){var S,W;if(R in U){S=U[R];W=Y.call(Q,S,R,U);P[R]=W}R++}return P}}if(!Array.prototype.some){Array.prototype.some=function(Q){if(this==null){throw new TypeError()}var T=Object(this);var P=T.length>>>0;if(typeof Q!="function"){throw new TypeError()}var S=arguments[1];for(var R=0;R<P;R++){if(R in T&&Q.call(S,T[R],R,T)){return true}}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function l(Q){if(this===null||this===k){throw new TypeError("Object is null or undefined")}var R=0,P=this.length>>0,S;if(typeof Q!=="function"){throw new TypeError("First argument is not callable")}if(arguments.length<2){if(P===0){throw new TypeError("Array length is 0 and no second argument")}S=this[0];R=1}else{S=arguments[1]}while(R<P){if(R in this){S=Q.call(k,S,this[R],R,this)}++R}return S}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function(Q){if(this==null){throw new TypeError()}var T=Object(this);var P=T.length>>>0;if(typeof Q!="function"){throw new TypeError()}if(P===0&&arguments.length===1){throw new TypeError()}var S=P-1;var R;if(arguments.length>=2){R=arguments[1]}else{do{if(S in this){R=this[S--];break}if(--S<0){throw new TypeError()}}while(true)}while(S>=0){if(S in T){R=Q.call(k,R,T[S],S,T)}S--}return R}}if(!Function.prototype.bind){Function.prototype.bind=function(P){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var T=Array.prototype.slice.call(arguments,1),S=this,Q=function(){},R=function(){return S.apply(this instanceof Q?this:P,T.concat(Array.prototype.slice.call(arguments)))};Q.prototype=this.prototype;R.prototype=new Q();return R}}if(!Object.create){Object.create=function(Q){if(arguments.length>1){throw new Error("Object.create implementation only accepts the first parameter.")}function P(){}P.prototype=Q;return new P()}}function x(T,Q){function U(aa){function V(ab,ac){return Object.prototype.hasOwnProperty.call(ab,ac)}function Z(ab){return typeof ab==="function"}if(typeof aa!=="object"||aa===null){throw new TypeError("bad desc")}var Y={};if(V(aa,"enumerable")){Y.enumerable=!!T.enumerable}if(V(aa,"configurable")){Y.configurable=!!T.configurable}if(V(aa,"value")){Y.value=T.value}if(V(aa,"writable")){Y.writable=!!aa.writable}if(V(aa,"get")){var X=aa.get;if(!Z(X)&&X!=="undefined"){throw new TypeError("bad get")}Y.get=X}if(V(aa,"set")){var W=aa.set;if(!Z(W)&&W!=="undefined"){throw new TypeError("bad set")}Y.set=W}if(("get" in Y||"set" in Y)&&("value" in Y||"writable" in Y)){throw new TypeError("identity-confused descriptor")}return Y}if(typeof T!=="object"||T===null){throw new TypeError("bad obj")}Q=Object(Q);var R=Object.keys(Q);var S=[];for(var P=0;P<R.length;P++){S.push([R[P],U(Q[R[P]])])}for(var P=0;P<S.length;P++){Object.defineProperty(T,S[P][0],S[P][1])}return T}if(!Object.keys){Object.keys=(function(){var R=Object.prototype.hasOwnProperty,S=!({toString:null}).propertyIsEnumerable("toString"),Q=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],P=Q.length;return function(V){if(typeof V!=="object"&&typeof V!=="function"||V===null){throw new TypeError("Object.keys called on non-object")}var T=[];for(var W in V){if(R.call(V,W)){T.push(W)}}if(S){for(var U=0;U<P;U++){if(R.call(V,Q[U])){T.push(Q[U])}}}return T}})()}if(typeof Object.getPrototypeOf!=="function"){if(typeof"test".__proto__==="object"){Object.getPrototypeOf=function(P){return P.__proto__}}else{Object.getPrototypeOf=function(P){return P.constructor.prototype}}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}var k=void (0);if(window.sap!==k&&window.sap.riv!==k&&window.sap.riv.module!==k){return}var o=typeof jQuery!=="undefined"?true:false;var p=function(P){if(o){if(jQuery.holdReady){jQuery.holdReady(P)}else{if(P){jQuery.readyWait+=1}else{jQuery.ready(true)}}}};var f=k;var J="/";var i=document.getElementsByTagName("script");var s=function(){};if(i.length&&i[i.length-1].getAttribute("src")&&i[i.length-1].getAttribute("base-url")){f=i[i.length-1];if(((f.getAttribute("trace")||"").toLowerCase()==="true")&&(typeof console!==k)){s=function(P){console.log(P)}}var J=f.getAttribute("base-url");if(J.charAt(J.length-1)!=="/"){J=J+"/"}}else{J="./"}window.sap=window.sap||{};window.sap.riv=window.sap.riv||{};var H=0,j=1,m=2,B=3;var c=Object.prototype.hasOwnProperty;var a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};var O=function(P){return P==null?String(P):a[Object.prototype.toString.call(P)]||"object"};var n=function(P){return O(P)==="function"};var u=Array.isArray||function(P){return O(P)==="array"};var h=function(P){return O(P)==="string"};var F=function(P){return P&&typeof P==="object"&&"setInterval" in P};var N=function(P){return P===null||P===k||P!=+P};var M=function(P){return !N(parseFloat(P))&&isFinite(P)};var t=function(P){return typeof(P)!=="undefined"};var q=function(P){return typeof(P)==="undefined"};var L=function(Q){if(!Q||O(Q)!=="object"||Q.nodeType||F(Q)){return false}if(Q.constructor&&!c.call(Q,"constructor")&&!c.call(Q.constructor.prototype,"isPrototypeOf")){return false}var P;for(P in Q){}return P===k||c.call(Q,P)};var C=function(Q){for(var P in Q){return false}return true};var e=function(Q,P){this._qname=Q;this._version=P;this._moduleSetupFunc=k;this._status=H;this._moduleObject=k;this._exportToGlobal=false;this._depList=[];this._pendingDefTaskList=[];p(true)};e.prototype.moduleObject=function(P){return this._moduleObject};e.prototype.setupFunction=function(P){if(t(P)){this._moduleSetupFunc=P;return this}else{return this._moduleSetupFunc}};e.prototype.setModuleObject=function(P){this._moduleObject=P};e.prototype.qname=function(){return this._qname};e.prototype.version=function(){return this._version};e.prototype.status=function(P){if(P!==k){this._status=P;return this}else{return this._status}};e.prototype.dependentModules=function(P){if(t(P)){this._depList=P;return this}else{return this._depList}};e.prototype.exportToGlobal=function(P){if(t(P)){this._exportToGlobal=P;return this}else{return this._exportToGlobal}};e.prototype.waitUntilDefined=function(P){this._pendingDefTaskList.push(P)};e.prototype.getPendingDefTasks=function(){return this._pendingDefTaskList};var K={};var E={};var r=function(R,T){if(!E.hasOwnProperty(R)){E[R]=false;var S=document.getElementsByTagName("head")[0]||document.documentElement;var Q=document.createElement("script");Q.type="text/javascript";Q.src=R;var P=false;Q.onload=Q.onreadystatechange=function(){if(!P&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){P=true;Q.onload=Q.onreadystatechange=null;if(S&&Q.parentNode){S.removeChild(Q)}E[R]=true;if(T){T()}}};if(Q.addEventListener){Q.addEventListener("error",function(){throw new Error("Loading "+R+" failed.")},true)}S.insertBefore(Q,S.firstChild)}return k};var d=function(Q){if(Q===k||typeof Q!=="string"){return false}var S=Q.split(".");if(S.length>3){return false}for(var R=0,P=S.length;R<P;R++){if(parseInt(S[R])===NaN){return false}}return true};var z=function(S,P){var Q=S.split(".");var R=Q.splice(Q.length-1,1);return J+Q.join("/")+"/"+R+"."+P+".js"};var A=function(V){var P;if(n(V.setupFunction())){var X=[];for(var T=0,S,aa=V.dependentModules(),W=aa.length;T<W;T++){S=aa[T];X.push(K[S.qname][S.version].moduleObject())}P=V.setupFunction().apply(window,X)}else{P=V.moduleObject()}if(V.exportToGlobal()){var Y=V.qname().split(".");var U=window;for(var T=0,R,W=Y.length;T<W;T++){R=Y[T];if(T===W-1){U[R]=P}else{U[R]=U[R]||{};U=U[R]}}}V.setModuleObject(P);V.status(m);s(V.qname()+" "+V.version()+" loaded");var Z=V.getPendingDefTasks();while(Z.length){var Q=Z.pop();Q(V)}p(false)};var v=function(Q,P){return(function(R){delete Q[R.qname()][R.version()];if(C(Q[R.qname()])){delete Q[R.qname()]}if(C(Q)){A(P)}})};sap.riv.module=function(R,aa,V){if(q(R)||q(R.qname)||q(R.version)){throw new Error("Bad Arguments: you have to specify the qname and version for the module.")}if(!h(R.qname)||!d(R.version)){throw new Error("Invalid qname or version string")}if(arguments.length===2){if(!L(aa)&&!n(aa)){throw new Error("You must specify a plain object or a module setup function")}V=aa;aa=[]}if(arguments.length===3){if(!u(aa)||(!L(V)&&!n(V))){throw new Error("Dependencies must be array, and you must specify an plain object or a module setup function")}}var P=R.qname,Z=R.version,W=q(R.exported)?false:R.exported,X;if(!c.call(K,P)||!c.call(K,Z)){K[P]=K[P]||{};K[P][Z]=K[P][Z]||new e(P,Z)}X=K[P][Z];if(X.status()===H){if(typeof V==="object"){X.exportToGlobal(W).setModuleObject(V)}else{var T=[];for(var U=0,Q,Y=aa.length;U<Y;U++){Q=aa[U];if(!h(Q.qname)||!d(Q.version)){throw new Error("You must specify qname and version for the depending module")}T.push({qname:Q.qname,version:Q.version})}X.exportToGlobal(W).dependentModules(T).setupFunction(V)}}if(X.status()===m||X.status()===j){return}X.status(j);if(X.dependentModules().length===0){A(X);return}else{var S={};for(var U=0,ab,T=X.dependentModules(),Y=T.length;U<Y;U++){ab=T[U];if(!(c.call(K,ab.qname)&&c.call(K[ab.qname],ab.version))||(K[ab.qname][ab.version].status()!==m)){if(ab.qname===g&&!(c.call(K,ab.qname)&&c.call(K[ab.qname],ab.version))){ab.version=G(ab.version);if(K[ab.qname][ab.version].status()===m){continue}}S[ab.qname]=S[ab.qname]||{};S[ab.qname][ab.version]=S[ab.qname][ab.version]||{qname:ab.qname,version:ab.version,url:ab.url||z(ab.qname,ab.version)}}}if(C(S)){A(X);return}else{for(var P in S){for(var Z in S[P]){if(!c.call(K,P)||!c.call(K[P],Z)){K[P]=K[P]||{};K[P][Z]=K[P][Z]||new e(P,Z);K[P][Z].waitUntilDefined(v(S,X));r(S[P][Z].url)}else{K[P][Z].waitUntilDefined(v(S,X))}}}}}};var g="jquery";var G=function(Q){var S=+Q,R;if(N(S)){throw TypeError(Q+" is not an one-decimal number.")}for(var P in K[g]){if(+P>S&&(R===k||+P<R)){R=P}}if(R===k){throw Error("Can't find a jQuery module with version "+Q+" or higher.")}return""+R};sap.riv.config=(function(){var Q=g+"-";var S=function(T,V,U){var X=g,W;T=""+T;if(!c.call(K,X)||!c.call(K,T)){K[X]=K[X]||{};K[X][T]=K[X][T]||new e(X,T)}W=K[X][T];if(W.status()===H){W.setupFunction(function(){var Y=$;if(!V){$.noConflict()}return Y})}if(W.status()===m||W.status()===j){return}W.status(j);if(V===true){A(W)}else{r(U,function(){A(W)})}};var R=function(U){var V=U.split(".");var T=+(V[0]+"."+V[1]);if(N(T)){console.warn("Can't parse version number from "+T);return k}return T};if(typeof $!=="undefined"){if($&&$.fn&&$.fn.jquery){var P=R($.fn.jquery);S(P,true)}}return function(W){if(!W.paths){return}for(var V in W.paths){if(V<=Q.length||V.indexOf(Q)!==0){console.warn('Unknown config option "'+V+'", must start with jquery-');continue}var X=V.substring(Q.length).split(".");var T=+(X[0]+"."+X[1]);if(N(T)){console.warn("Can't parse version number from "+V);continue}var U=W.paths[V];if(U.indexOf(":")<0&&U.charAt(0)!=="/"){U=J+U}S(T,false,U)}}})();var w=function(T,Q){var R=[];for(var S=0,U,P=Q.length;S<P;S++){U=Q[S];R.push(K[U.qname][U.version].moduleObject())}T.apply(window,R)};var I=function(Q,R,P){return(function(S){delete Q[S.qname()][S.version()];if(C(Q[S.qname()])){delete Q[S.qname()]}if(C(Q)){w(R,P)}})};sap.riv.require=function(T,R){if(arguments.length===1){if(!n(T)){throw new Error("You have to specify a function to run")}R=T;T=[]}if(arguments.length===2){if(!u(T)||!n(R)){throw new Error("the first argument has to be array of depending modules, the second argument should be function type")}}if(!T.length){w(R,T);return}var V={};for(var S=0,U,P=T.length;S<P;S++){U=T[S];if(!(c.call(K,U.qname)&&c.call(K[U.qname],U.version))||(K[U.qname][U.version].status()!==m)){if(U.qname===g&&!(c.call(K,U.qname)&&c.call(K[U.qname],U.version))){U.version=G(U.version);if(K[U.qname][U.version].status()===m){continue}}V[U.qname]=V[U.qname]||{};V[U.qname][U.version]=V[U.qname][U.version]||{qname:U.qname,version:U.version,url:U.url||z(U.qname,U.version)}}}if(C(V)){w(R,T);return}else{for(var W in V){for(var Q in V[W]){if(!c.call(K,W)||!c.call(K[W],Q)){K[W]=K[W]||{};K[W][Q]=K[W][Q]||new e(W,Q);K[W][Q].waitUntilDefined(I(V,R,T));r(V[W][Q].url)}else{K[W][Q].waitUntilDefined(I(V,R,T))}}}}};var D=function(R){if(R&&/\S/.test(R)){var Q=document.getElementsByTagName("head")[0]||document.documentElement,P=document.createElement("script");P.type="text/javascript";try{P.appendChild(document.createTextNode(R))}catch(S){P.text=R}Q.insertBefore(P,Q.firstChild);Q.removeChild(P)}};sap.riv.setBaseUrl=function(P){J=P};if(f){var b=f.innerHTML;if(b){D(b)}}})();sap.riv.module({qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},[],function Setup(){var c={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};var b=Object.prototype.hasOwnProperty;var e=/\d/;var d=function(f){return f==null?String(f):c[Object.prototype.toString.call(f)]||"object"};var a={isFunction:function(f){return d(f)==="function"},isArray:Array.isArray||function(f){return d(f)==="array"},isString:function(f){return d(f)==="string"},isNonEmptyString:function(f){return this.isString(f)&&f.length!==0},isEmptyString:function(f){return a.isString(f)&&f.length===0},isNaN:function(f){return f===null||f===undefined||!e.test(f)||isNaN(f)},isNumber:function(f){return !a.isNaN(parseFloat(f))&&isFinite(f)},isDefined:function(f){return typeof(f)!=="undefined"},isUndefined:function(f){return typeof(f)==="undefined"},isPlainObject:function(g){if(!g||d(g)!=="object"||g.nodeType||(g&&typeof g==="object"&&"setInterval" in g)){return false}if(g.constructor&&!b.call(g,"constructor")&&!b.call(g.constructor.prototype,"isPrototypeOf")){return false}var f;for(f in g){}return f===undefined||b.call(g,f)},isEmptyObject:function(g){for(var f in g){return false}return a.isPlainObject(g)},equals:function(f,h){if(f===h){return true}if(!(f instanceof Object)||!(h instanceof Object)){return false}if(f.constructor!==h.constructor){return false}for(var g in f){if(!f.hasOwnProperty(g)){continue}if(!h.hasOwnProperty(g)){return false}if(f[g]===h[g]){continue}if(typeof(f[g])!=="object"){return false}if(!a.equals(f[g],h[g])){return false}}for(g in h){if(h.hasOwnProperty(g)&&!f.hasOwnProperty(g)){return false}}return true}};return a});sap.riv.module({qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(a){var g=/\{(\d+)\}/g;var d=Array.prototype.slice;function c(){}function b(i){var h=arguments;if(h[0]){var i=h[0].replace(g,function(j,k){return h[parseInt(k)+1]});throw i}else{throw"Unknown error!"}}function f(){var j=[];function i(){for(var l=0,k=j.length;l<k;l++){j[l].apply(this,arguments)}}function h(){for(var l=0,k=arguments.length;l<k;l++){if(a.isFunction(arguments[l])){j.push(arguments[l])}else{b("Could not create call chain for non-function object")}}}i.chain=function(){return f.apply(null,[].concat(j,d.call(arguments)))};h.apply(null,arguments);return i}var e={noop:c,unsupported:function(h){if(arguments.length){return function(){throw new Error(h||"Unsupported function!")}}else{throw new Error("Unsupported function!")}},unimplemented:function(h){if(arguments.length){return function(){throw new Error(h||"Unimplemented function!")}}else{throw new Error("Unimplemented function!")}},error:b,ascending:function(i,h){return i<h?-1:i>h?1:i>=h?0:NaN},descending:function(i,h){return h<i?-1:h>i?1:h>=i?0:NaN},createCallChain:f};return e});sap.riv.module({qname:"sap.viz.base.Class",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(e,a){var d=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;var c=e.createCallChain;function b(){}function g(j){var l=b.prototype=this.prototype;var h=this.chain?this.chain(j.constructor):c(this,j.constructor);var k=h.prototype=new b();k.constructor=h;delete j.constructor;var i;for(var m in j){i=j[m];k[m]=typeof i==="function"&&typeof l[m]==="function"&&d.test(i)?(function(n,o){return function(){this._super=l[n];var p=o.apply(this,arguments);return p}})(m,i):i}h.extend=g;return h}function f(h){if(typeof h==="function"){h.extend=g;return h}else{var i=h.constructor||function(){},j=i.prototype;for(var k in h){if(h.hasOwnProperty(k)){j[k]=h[k]}}i.extend=g;return i}}return{define:f,extend:g}});sap.riv.module({qname:"sap.viz.data.description.DataContainer",version:"4.0.1",exported:true},[{qname:"sap.viz.base.Class",version:"4.0.1"}],function Setup(a){var b=a.define({constructor:function(c){this._uId=c;this._isFake=false;this._infos=null},getId:function(){return this._uId},fake:function(c){if(!arguments.length){return this._isFake}this._isFake=c},infos:function(c){if(!arguments.length){return this._infos}this._infos=c}});return b});sap.riv.module({qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(a,c){rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g;var b={extend:function(){var n,f,d,e,k,l,j=arguments[0]||{},h=1,g=arguments.length,m=false;if(typeof j==="boolean"){m=j;j=arguments[1]||{};h=2}if(typeof j!=="object"&&!a.isFunction(j)){j={}}if(g===h){j=this;--h}for(;h<g;h++){if((n=arguments[h])!=null){for(f in n){d=j[f];e=n[f];if(j===e){continue}if(m&&e&&(a.isPlainObject(e)||(k=a.isArray(e)))){if(k){k=false;l=d&&a.isArray(d)?d:[]}else{l=d&&a.isPlainObject(d)?d:{}}j[f]=b.extend(m,l,e)}else{if(e!==undefined){j[f]=e}}}}}return j},each:function(g,l,f){var e,h=0,j=g.length,d=j===undefined||a.isFunction(g);if(f){if(d){for(e in g){if(l.apply(g[e],f)===false){break}}}else{for(;h<j;){if(l.apply(g[h++],f)===false){break}}}}else{if(d){for(e in g){if(l.call(g[e],e,g[e])===false){break}}}else{for(var k=g[0];h<j&&l.call(k,h,k)!==false;k=g[++h]){}}}return g},parseJSON:function(d){if(typeof d!=="string"||!d){return null}d=d.trim();if(rvalidchars.test(d.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return window&&window.JSON&&window.JSON.parse?window.JSON.parse(d):(new Function("return "+d))()}else{a.error("Invalid JSON: "+d)}},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){var e=Math.random()*16|0,d=f=="x"?e:e&3|8;return d.toString(16)})}};return b});sap.riv.module({qname:"sap.viz.data.description.MeasureValues",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.data.description.DataContainer",version:"4.0.1"}],function Setup(c,a){var b=a.extend({constructor:function(e,d){this._values=d},getValues:function(){return this._values}});return b});sap.riv.module({qname:"sap.viz.data.info.Handler",version:"4.0.1"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(d,b){var c="analysisAxis";var a="measureValuesGroup";var l={};var e={};function k(q,p){var n=q[c].concat(q[a]);var o=[];n.forEach(function(t,s){var r=t.data;r.forEach(function(v,u){if(v.name===p){o.push(v)}},this)},this);return o}var h={type:"valueinfo",process:function(A,u){var w,o,v,C,t,z,q,n;var p,s,x,r,B=u[a];for(w=0,o=A.length;w<o;w++){p=A[w];if(p!==undefined){for(v=0,C=B.length;v<C;v++){x=B[v];s=x.data;for(t=0,z=s.length;t<z;t++){r=s[t];if(!r.infos){r.infos=[]}for(q=0,n=r.values.length;q<n;q++){if(!r.infos[q]){r.infos[q]=[]}if(!r.infos[q][w]){r.infos[q][w]={}}r.infos[q][w][h.type]=p}}}}}},merge:function(n){},remove:function(n){m(h.type,n)}};var f={type:"defaultSelection",process:function(r,v){var t;var q,o,A;var x=v[c][0].data[0].values.length,C=v[c][1].data[0].values.length;var u,s,p;var z=[],B;for(s=0;s<C;s++){B=[];for(p=0;p<x;p++){var w={defaultSelection:{isSelected:false}};B.push(w)}z.push(B)}for(u=0,A=r.length;u<A;u++){q=new Array(x),o=new Array(C);t=r[u];g(v,t,q,o);for(s=0;s<o.length;s++){if(o[s]){for(p=0;p<q.length;p++){if(q[p]){z[s][p]["defaultSelection"].isSelected=true}}}}j(v,t,z)}},remove:function(n){m(f.type,n)},merge:function(n){}};function m(C,u){var q,x,w,A=u[a];var v,o,t,B,r,z,p,n;var s=false;for(v=0,o=A.length;v<o;v++){q=A[v].data;for(t=0,B=q.length;t<B;t++){x=q[t];if(x.infos){s=false;for(r=0,z=x.infos.length;r<z;r++){w=x.infos[r];for(p=0,n=w.length;p<n;p++){if(w[p]){delete w[p][C];if(b.isEmptyObject(w[p])){w[p]=undefined}else{s=true}}}}}if(!s){delete x.infos}}}}function g(q,p,r,o){var n=q[c];n.forEach(function(u,t){var s=u.data;s.forEach(function(A,z){var x=p[A.name];for(var v=0;v<A.values.length;v++){var w=(x!==null&&A.values[v]===x);if(w){if(z===0){if(u.index===1){r[v]=true}else{o[v]=true}}else{if(u.index===1){if(r[v]!==true){r[v]=undefined}}else{if(o[v]!==true){o[v]=undefined}}}}else{if(u.index===1){r[v]=undefined}else{o[v]=undefined}}}},this)},this)}function j(o,n,q){var p=o[a];p.forEach(function(v,s){var r=v.data;var u,t;r.forEach(function(B,z){if(B.name===n.Measure){if(!B.infos){B.infos=q}else{for(u=0;u<q.length;u++){var A=q[u];var x=B.infos[u];for(t=0;t<A.length;t++){var w=x[t]["defaultSelection"].isSelected;if(!w){x[t]["defaultSelection"]=A[t]["defaultSelection"]}}}}}},this)},this)}var i={type:"customlabel",process:function(w,s){var p,r,z,o,q,n,x,v;for(var t=0,u=w.length;t<u;t++){p=w[t];r=p.name;z=k(s,r);z.forEach(function(B,A){x=false;if(!B.infos){v=true;B.infos=[]}n=B.values;o=p.mapping;n.forEach(function(D,C){if(o[D]){if(o[D].type==="string"&&o[D].val===D){if(B.infos[C]){delete B.infos[C][i.type];if(b.isEmptyObject(B.infos[C])){B.infos[C]=undefined}}}else{x=true;B.infos[C]=B.infos[C]?B.infos[C]:{};B.infos[C][i.type]=o[D]}}else{if(!B.infos[C]){B.infos[C]=undefined}}},this);if(v&&!x){delete B.infos}},this)}},merge:function(q){var o={};o.type=i.type;o.value=[];var n=q[c];var p;n.forEach(function(t,s){var r=t.data;r.forEach(function(w,u){if(w.infos){var v={};v.name=w.name;v.mapping={};p=false;w.infos.forEach(function(z,x){if(z&&z[i.type]){p=true;v.mapping[w.values[x]]=z[i.type]}},this);if(p){o.value.push(v)}}},this)},this);if(o.value.length>0){return o}},remove:function(p){var n=p[c];var o=false;n.forEach(function(s,r){var q=s.data;q.forEach(function(u,t){if(u.infos){o=false;u.infos.forEach(function(w,v){if(w){delete w[i.type];if(b.isEmptyObject(w)){u.infos[v]=undefined}else{o=true}}},this);if(!o){delete u.infos}}},this)},this)}};l.register=function(n){e[n.type]=n};l.get=function(n){return e[n]};l.mergeInfo=function(r){var n,o=[],p;for(var q in e){if(e.hasOwnProperty(q)){n=e[q];p=n.merge(r);if(p){o.push(d.extend(true,{},p))}}}return o};l.register(i);l.register(f);l.register(h);return l});sap.riv.module({qname:"sap.viz.data.description.MeasureValuesGroup",version:"4.0.1",exported:true},[{qname:"sap.viz.data.description.MeasureValues",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(b,c){var a=function(d){this._measureValues=[];this.init(d)};a.prototype.init=function(e){for(var d=0;d<e.length;d++){this._measureValues[d]=new b(e[d]["name"],e[d]["values"]);this._measureValues[d].fake(e[d]["isFake"]?e[d]["isFake"]:false);this._measureValues[d].infos(e[d]["infos"]?e[d]["infos"]:null)}};a.prototype.getMeasureValues=function(){return this._measureValues};a.prototype.getType=function(){return"measureValuesGroup"};a.prototype.validate=function(k){var h,g,f,e;if(!arguments.length){var d=[1,1];h=this.getMeasureValues();for(f=0;f<h.length;f++){g=h[f].getValues();if(f===0){if(g.length!==d[1]){c.error(h[f].getId()+" wrong values count in aa2. should be "+d[1])}d[0]=g[0].length}else{if(g.length!==d[1]){c.error(h[f].getId()+" wrong values count in aa2. should be "+d[1])}for(e=0;e<g.length;e++){if(g[e].length!==d[0]){c.error(h[f].getId()+" wrong values count in aa1. should be "+d[0])}}}}return d}else{h=this.getMeasureValues();for(f=0;f<h.length;f++){g=h[f].getValues();if(g.length!==k[1]){c.error(h[f].getId()+" wrong values count in aa2. should be "+k[1])}for(e=0;e<g.length;e++){if(g[e].length!==k[0]){c.error(h[f].getId()+" wrong values count in aa1. should be "+k[0])}}}}};a.prototype.hasFakeData=function(){var e=this.getMeasureValues();for(var d=0;d<e.length;d++){if(e[d].fake()){return true}}return false};return a});sap.riv.module({qname:"sap.viz.util.TypeUtils",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"}],function Setup(b,c){var a=c.extend(b,{isExist:function(d){if((typeof(d)==="undefined")||(d===null)){return false}return true}});return a});sap.riv.module({qname:"sap.viz.data.description.DimensionLabels",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.data.description.DataContainer",version:"4.0.1"}],function Setup(c,b){var a=b.extend({constructor:function(e,f,d){this._type=f;this._values=d},getValues:function(){return this._values},getType:function(){return this._type}});return a});sap.riv.module({qname:"sap.viz.data.description.AnalysisAxis",version:"4.0.1",exported:true},[{qname:"sap.viz.data.description.DimensionLabels",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"}],function Setup(c,d,b){var a=function(e){this._dimensionLabels=[];this.init(e)};a.prototype.init=function(f){for(var e=0;e<f.length;e++){this._dimensionLabels[e]=new c(f[e]["name"],f[e]["type"]?f[e]["type"]:"Dimension",f[e]["values"]);this._dimensionLabels[e].fake(f[e]["isFake"]?f[e]["isFake"]:false);this._dimensionLabels[e].infos(f[e]["infos"]?f[e]["infos"]:null)}};a.prototype.getDimensionLabels=function(){return this._dimensionLabels};a.prototype.getType=function(){return"analysisAxis"};a.prototype.validate=function(){var g=1;var f=this.getDimensionLabels();for(var e=0;e<f.length;e++){if(e===0){g=f[e].getValues().length;if(b.isExist(f[e].infos())&&g!==f[e].infos().length){d.error(f[e].getId()+" wrong infos count")}}else{if(g!==f[e].getValues().length){d.error(f[e].getId()+" wrong dimension labels count")}if(b.isExist(f[e].infos())&&g!==f[e].infos().length){d.error(f[e].getId()+" wrong infos count")}}}return g};a.prototype.hasFakeData=function(){var f=this.getDimensionLabels();for(var e=0;e<f.length;e++){if(f[e].fake()){return true}}return false};return a});sap.riv.module({qname:"sap.viz.data.feed.feed",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(a){return function(s,o,e,m,p,d,c,l,n){var g=s;var u=o;var q=e;var r=m;var t=p;var k=d;var i=c;var b=l;var f=n;var j=[];function h(){return h}h.feedId=function(v){if(!arguments.length){return g}g=v;return h};h.feedName=function(v){if(!arguments.length){return u}u=v;return h};h.type=function(v){if(!arguments.length){return q}q=v;return h};h.min=function(v){if(!arguments.length){return r}r=v;return h};h.max=function(v){if(!arguments.length){return t}t=v;return h};h.analysisAxisIndex=function(v){if(!arguments.length){return k}k=v;return h};h.measureGroupIndex=function(v){if(!arguments.length){return b}b=v;return h};h.acceptMND=function(v){if(!arguments.length){return i}i=v;return h};h.maxStackedDims=function(v){if(!arguments.length){return f}f=v;return h};h.data=function(v){if(!arguments.length){return j}j=v;return h};h.addData=function(v){j.push(v);return h};h.getMeasureNames=function(){var w=b-1;var x=[];for(var v=0;v<j.length;v++){x.push({val:j[v]["name"],ctx:{mg:w,mi:v}})}return x};h.getMeasureValues=function(){var v=[];if(j.length>0){return j[0].getMeasureValues()}return v};h.getMeasureCount=function(){return j.length};h.hasMNDFeeded=function(){var w=h.data();for(var v=0;v<w.length;v++){if(w[v].getType()==="measureNamesDimension"){return true}}return false};h.hasFeeded=function(){return h.data().length>0?true:false};h.getIndex=function(){return h.analysisAxisIndex()?h.analysisAxisIndex():h.measureGroupIndex()};h.getDataCount=function(){if(h.type()==="Dimension"){return h.data().length}else{return h.data().length>0?h.data()[0].getMeasureValues().length:0}};return h}});sap.riv.module({qname:"sap.viz.data.feed.feeder",version:"4.0.1"},[{qname:"sap.viz.data.feed.feed",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.data.description.DimensionLabels",version:"4.0.1"}],function Setup(c,d,a,b){return function(s,m,u){var n="Dimension";var h="Measure";var t="feedId";var r="binding";var p="type";var w="index";var i=[];var o=[];var e=[];var f={};var v=[];function g(){return g}g.init=function(){j(s);if(m){if(u){k(m,u)}else{l(m)}g.checkValid()}};g.getFeeds=function(){return e};g.findFeed=function(x){return f[x]};g.getAnalysisAxisIndex=function(z){for(var x=0;x<i.length;x++){if(i[x]===z){return x}}};g.getMeasureValuesGroupIndex=function(z){for(var x=0;x<o.length;x++){if(o[x]===z){return x}}};g.getMeasureValuesGroupFeeds=function(){return o};g.checkValid=function(){for(var x=0;x<e.length;x++){var z=e[x];var A;if(z.type()==="Dimension"){A=z.getDataCount();if(A<z.min()||(z.max()!==Number.POSITIVE_INFINITY&&A>z.max())){d.error(z.feedId()+": does not meet min or max number of feed definition")}}else{if(z.type()==="Measure"){A=z.getDataCount();if(A<z.min()||(z.max()!==Number.POSITIVE_INFINITY&&A>z.max())){d.error(z.feedId()+": does not meet min or max number of feed definition")}}else{d.error(z.feedId()+": wrong feed type")}}}};g.getBindingInfo=function(){return v};function j(D){if(a.isArray(D)){var A=0;for(var C=0;C<D.length;C++){var z=D[C]["type"];var x=D[C]["aaIndex"];var B=D[C]["id"];if(z!==n&&z!==h){d.error("wrong feed type in feed definition: "+D[C]["id"])}if(D[C]["type"]===n){if(D[C]["aaIndex"]<=0){d.error("wrong analysis axis index in feed definition: "+D[C]["id"])}A++}if(D[C]["type"]===h){if(D[C]["mgIndex"]<=0){d.error("wrong  measure axis index in feed definition: "+D[C]["id"])}}var E=e.push(c(B,D[C]["name"],z,D[C]["min"],D[C]["max"],x,D[C]["acceptMND"],D[C]["mgIndex"],D[C]["maxStackedDims"]));f[B]=e[E-1]}for(C=0;C<A;C++){v[C]=false}}}function l(D){var C=D.getAnalysisAxisCount();var B;for(var x=0;x<C;x++){B=q(e,n,x+1);if(B){var z=D.getAnalysisAxisByIdx(x);if(a.isExist(B.maxStackedDims())&&z.getDimensionLabels().length>B.maxStackedDims()){d.error("Invalid Feeding: exceed max stacked dimension number "+B.feedId()+" feed")}i[x]=B;v[x]=true;B.addData(z)}}var A=D.getMeasureValuesGroupCount();for(x=0;x<A;x++){B=q(e,h,x+1);if(B){o[x]=B;B.addData(D.getMeasureValuesGroupByIdx(x))}}}function q(x,B,z){for(var A=0;A<x.length;A++){if(x[A].type()===B&&x[A].getIndex()===z){return x[A]}}return null}function k(D,I){var B;for(var F=0;F<I.length;F++){var G=I[F];var C=G[t];if(!C){d.error("Invalid Feeding: no feed id")}var K=f[C];if(!K){d.error("Invalid Feeding: no "+C+" feed")}var z=G[r];for(var E=0;E<z.length;E++){var J=z[E][p];var H=z[E][w];if(J==="analysisAxis"){var x=D.getAnalysisAxisByIdx(H-1);if(!x){d.error("could not find axis "+H+" in data set"+C+" feed")}if(a.isExist(K.maxStackedDims())&&x.getDimensionLabels().length>K.maxStackedDims()){d.error("Invalid Feeding: exceed max stacked dimension number "+C+" feed")}B=K.getDataCount();if(K.max()!==Number.POSITIVE_INFINITY&&B>=K.max()){d.error(C+" feed could not accept more data containers")}K.addData(x);i[H-1]=K;v[K.getIndex()-1]=true}else{if(J==="measureValuesGroup"){var A=D.getMeasureValuesGroupByIdx(H-1);if(!A){d.error("could not find measure values group "+H+" in data set"+C+" feed")}B=K.getDataCount();if(K.max()!==Number.POSITIVE_INFINITY&&B>=K.max()){d.error(C+" feed could not accept more data containers")}K.addData(A);o[H-1]=K}else{if(J==="measureNamesDimension"){if(K.acceptMND()<0){d.error("could not accpet MeasureNamesDimension "+C+" feed")}B=K.getDataCount();if(K.max()!==Number.POSITIVE_INFINITY&&B>=K.max()){d.error(C+" feed could not accept more data containers")}K.addData(new b("","measureNamesDimension",""))}else{d.error("Invalid Binding")}}}}}}g.init();return g}});sap.riv.module({qname:"sap.viz.data.CrosstableDataset",version:"4.0.1",exported:true},[{qname:"sap.viz.data.feed.feeder",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.data.description.AnalysisAxis",version:"4.0.1"},{qname:"sap.viz.data.description.MeasureValuesGroup",version:"4.0.1"},{qname:"sap.viz.data.info.Handler",version:"4.0.1"}],function Setup(m,b,f,n,j,i){var g="type";var o="name";var l="values";var k="feedId";var h="MeasureNamesDimension";var e="analysisAxis";var a="measureValuesGroup";function d(q){var p=q.getValues();return p.length>0?p.length*p[0].length:0}function c(){this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet={};this._emptyDataset=false}c.prototype.data=function(p){if(!arguments.length){return this._dataSet}this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet=p;this.init(this._dataSet);return this};c.prototype.setData=function(p){this.data(p)};c.prototype.info=function(q){if(!arguments.length){return i.mergeInfo(this._dataSet)}if(q&&q.type){var p=i.get(q.type);if(p){p.process(q.value,this._dataSet)}this._analysisAxis=[];this._measureValuesGroup=[];this.init(this._dataSet)}return this};c.prototype.clearInfo=function(q){if(q){var p=i.get(q);if(p){p.remove(this._dataSet)}}return this};c.prototype.init=function(u){if(!u||!u[a]||(u[e]&&!u[a])){return}var x=[1,1];var w=u[e];var v=0;var t,q,A;if(w){if(w.length>2){f.error("could not accept more than 2 axes")}for(;v<w.length;v++){var r=w[v];var z=r.index;if(z!==1&&z!==2){f.error("Axis index should be 1 or 2")}if(this._analysisAxis[z-1]){f.error("Axis "+z+" already exists")}var p=new n(r.data);x[z-1]=p.validate();this._analysisAxis[z-1]=p}if(x[0]===0){x[1]=0;this._emptyDataset=true}t=u[a];for(v=0;v<t.length;v++){q=t[v];var s=q.index;if(this._measureValuesGroup[s-1]){f.error("MeausreValuesGroup "+s+" already exists")}A=new j(q.data);A.validate(x);this._measureValuesGroup[s-1]=A}}else{t=u[a];for(v=0;v<t.length;v++){q=t[v];A=new j(q.data);if(v===0){x=A.validate()}else{A.validate(x)}this._measureValuesGroup[q.index-1]=A}}};c.prototype.getAnalysisAxisCount=function(){return this._analysisAxis.length};c.prototype.getAnalysisAxisByIdx=function(p){return this._analysisAxis[p]};c.prototype.getMeasureValuesGroupCount=function(){return this._measureValuesGroup.length};c.prototype.getMeasureValuesGroupByIdx=function(p){return this._measureValuesGroup[p]};c.prototype.hasFakeData=function(){for(var p=0;p<this._measureValuesGroup.length;p++){if(this._measureValuesGroup[p].hasFakeData()){return true}}for(p=0;p<this._analysisAxis.length;p++){if(this._analysisAxis[p].hasFakeData()){return true}}return false};c.prototype.getDataPointCount=function(){var r=0;var q=d(this._measureValuesGroup[0].getMeasureValues()[0]);for(var p=0;p<this._measureValuesGroup.length;p++){r+=q*this._measureValuesGroup[p].getMeasureValues().length}return r};c.prototype.isEmptyDataset=function(){return this._emptyDataset};return c});sap.riv.module({qname:"sap.viz.util.elementutil",version:"4.0.1"},[],function Setup(){var a={isSVG:function(b){return a.isGElement(b)||a.isSVGElement(b)},isGElement:function(b){return b.node().nodeName.toLowerCase()==="g"},isSVGElement:function(b){return b.node().nodeName.toLowerCase()==="svg"},isDIV:function(b){return b.node().nodeName.toLowerCase()==="div"}};return a});sap.riv.module({qname:"sap.viz.Constants",version:"4.0.1"},[],function Setup(){var a={SAPColorSingleAxis:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],SAPColorDualAxis1:["#8FBADD","#B8D4E9","#7AAED6","#A3C7E3","#3D88C4","#66A1D0","#297CBE","#5295CA","#005BA3","#146FB7","#005395","#0063B1"],SAPColorDualAxis2:["#F6A09B","#F9C3C0","#F58E88","#F8B1AD","#F05B52","#F37D76","#EE4A40","#F16C64","#D92419","#ED382D","#C52117","#EB271B"]};a.SAPColor=a.SAPColorSingleAxis;return a});sap.riv.module({qname:"sap.viz.util.fn.domposition",version:"4.0.1"},[{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.util.elementutil",version:"4.0.1"}],function Setup(c,a){var b=function(g,f){if(g&&f){if(a.isSVGElement(g)){g.attr("width",f.width);g.attr("height",f.height)}g.attr("transform","translate("+f.x+", "+f.y+")")}};var e=function(g,f){if(g&&f){g.attr("style","position: absolute; box-sizing: border-box; overflow: hidden; width: "+f.width+"px; height: "+f.height+"px; left: "+f.x+"px; top: "+f.y+"px;")}};var d=function(h,g){var f;for(f in g){if(g.hasOwnProperty(f)){if(h[f]){var i=h[f];if(a.isSVG(g[f])){b(g[f],i.bounds)}else{if(a.isDIV(g[f])){e(g[f],i.bounds)}}}}}};return d});sap.riv.module({qname:"sap.viz.util.append",version:"4.0.1"},[],function Setup(){return function(a,b){var d=this.append(a);for(var c in b){if(b.hasOwnProperty(c)){d.attr(c,b[c])}}return d}});sap.riv.module({qname:"sap.viz.modules.Constants",version:"4.0.1"},[{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(b){var a={Type:{Chart:"CHART",Container:"CONTAINER",Supplementary:"SUPPLEMENTARY",Behavior:"BEHAVIOR",Controller:"CONTROLLER",ThirdParty:"THIRDPARTY"},RenderTo:{SVG:"SVG",DIV:"DIV",NONE:"NONE"},CSS:{CLASS:{DATAPOINT:"v-datapoint"}},Event:{SelectData:{name:"selectData",desc:'Event fires when certain data point(s) is(are) selected, data context of selected item(s) would be passed in accordance with the following format.<code>{name: "selectData",data:[{\n//selected element\'s detail\ntarget:"Dom Element",//an object pointed to corresponding dom element\ndata:[{val: "...",//value of this element\nctx:{type:"Dimension"||"Measure"||"MND",\n//for Dimension\npath:{aa:"...",di:"...",dii:"..."},\n//for Measure\npath:{mg:"...",mi:"...",dii_a1:"...",dii_a2:"..."},\n//for MND\npath:{mg:"...",mi:"..."}\n//path: analysis path\n//aa: analysis axis index // 0 for analysis axis 1,  1 for analysis 2\n//di: dimension index //zero based\n//dii: dimension item index //zero based\n//mg: measure group index // 0 for measure group 1,1 for measure group 2\n//mi: measure index // measure index in measure group zero based\n//dii_a1: each dii of di in analysis axis 1 index\n//dii_a2: each dii of di in analysis axis 2 index\n}},{\n//for bubble, tagcloud and scatter, there will be more than one values in one selected element.\nvar:"...",ctx:"..."}]},{\n//if under multi selection, there will be more than one selected elements\ntarget:"...",data:["..."]}]}'},DeSelectData:{name:"deselectData",desc:'Event fires when certain data point(s) is(are) deselected, data context of deselected item(s) would be passed in accordance with the following format.<code>{name: "deselectData",data:["---the same as selectedData---"]}'},TooltipShow:{name:"showTooltip",desc:'Event fires when the mouse hover onto the specific part of chart, data context of tooltip would be passed in accordance with the following format.<code>{name:"showTooltip",data:{body:[{\n//data of one group\nname:"...",val:[{\n//data of one row\ncolor:"...",label:"...",shape:"...",value:"..."},"..."]},"..."],footer:[{label:"...",value:"..."},"..."],plotArea:{\n//this object specifies the plot area of the chart\nheight:"...",width:"...",x:"...",y:"..."},point:{\n//this object specifies a point which affects the position of tooltip\nx:"...",y:"..."}}}'},TooltipHide:{name:"hideTooltip",desc:"Event fires when the mouse hover out of the specific part of chart, no data is passed."},Initialized:{name:"initialized",desc:'Event fires when the loading ends. To use the event listener when creating charts, you must use an event that is passed by the events option. For more information on events options, see the usrOptions section of the <a href="sap.viz.core.html#createViz" target="_blank">createViz</a> function in the API document.'},highlightedByLegend:{desc:"Event fires when legend item is clicked, which contains its data context."}}};b.Module=a;return a});sap.riv.module({qname:"sap.viz.data.feed.Constants",version:"4.0.1"},[{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(a){var b={Type:{Dimension:"Dimension",Measure:"Measure"},Constraints:{INF:Number.POSITIVE_INFINITY}};a.Feed=b;return b});sap.riv.module({qname:"sap.viz.style.Element",version:"4.0.1"},[],function Setup(){function d(e){this.update(e)}d.prototype={toString:function(){var f="",e;for(e in this){if(this.hasOwnProperty(e)){f+=e+":"+this[e]+";"}}return f},toAttrs:function(f){for(var e in this){if(this.hasOwnProperty(e)){f.attr(e,this[e])}}},update:function(f){for(var e in f){if(f.hasOwnProperty(e)){this[e]=f[e]}}}};var b=document.documentElement,c=b.matchesSelector||b.mozMatchesSelector||b.webkitMatchesSelector||b.msMatchesSelector;function a(e){if(!e){e=d3.select(document.implementation.createHTMLDocument("").body)}this.el=e}a.prototype={child:function(e,r,o,s){if(!Array.isArray(r)){r=[r]}if(!Array.isArray(e)){e=[e]}var g=this.el,n=false;var p=Math.max(r.length,e.length);for(var m=0;m<p;m++){var h=r[m];var q=e[m];if(!h&&!q){n=true}h=h||o;if(!n){var k=h;if(q){k+="."+q.replace(" ",".")}var j=g.node();var f=g.selectAll(k).filter(function(){return this.parentNode===j});if(!f.empty()){g=f;continue}n=true}g=d3.select(g.node()).append(h).attr("class",q).datum({defaultStyle:new d(),currentStyle:new d(),meta:{}})}var t=new a(g);if(s){var l=g.datum();l.defaultStyle.update(s);l.currentStyle.update(s)}return t},defaultStyle:function(){return this.el.datum().defaultStyle},currentStyle:function(){return this.el.datum().currentStyle},queryAll:function(f){var e=[];this.el.selectAll(f).each(function(){e.push(new a(d3.select(this)))});return e},match:function(e){return c.call(this.el.node(),e)},update:function(e,i){var g=this.currentStyle();var f=this.currentStyle();var h=this.el.datum().meta;$.each(i,function(k,n){var l=h[k];var j=false,m;if(l){j=l.important;m=l.selector}var o=n.important;if((o&&(!j||e.nlt(m)))||(!o&&!j&&e.nlt(m))){f[k]=n.value;if(!l){l={};h[k]=l}l.important=o;l.selector=e}});return this},cleanChildren:function(){var e=this.el.node();var f;while((f=e.firstChild)){e.removeChild(f)}return this}};return a});sap.riv.module({qname:"sap.viz.style.Manager",version:"4.0.1"},[{qname:"sap.viz.style.Element",version:"4.0.1"}],function Setup(b){function a(g,d,f,c){var h={};if(!f){f=new b()}this.el=f;if(d){var e=d.css;if(e){$.each(e,function(i,l){var k=i.substring(1).replace("."," ");var j=f.child(k,null,c||"g",l.value);k.split(" ").forEach(function(m){h[m]=j});if(g){g.forEach(function(m){m.iterate(function(n,o){if(j.match(n.text)){j.update(n,o)}})})}})}}this.subEls=h;this.sheets=g}a.prototype={query:function(c){var d=this.subEls[c];if(d){return d.currentStyle()}},queryDefault:function(c){var d=this.subEls[c];if(d){return d.defaultStyle()}},cssText:function(c){return this.query(c).toString()},child:function(e,f,c,d){return new a(this.sheets,e,this.el.child(f,c,d||"g"),d)},applyCSS:function(d){var c=this.el;d.rules.forEach(function(e){e.selectors.forEach(function(f){c.queryAll(f.text).forEach(function(g){g.update(f,e.properties)})})});return this},cleanChildren:function(){this.el.cleanChildren();return this}};return a});sap.riv.module({qname:"sap.viz.util.fn.createContext",version:"4.0.1"},[{qname:"sap.viz.style.Manager",version:"4.0.1"}],function Setup(a){return function(e,c,f,b){var d=c.styleManager;if(!d){d=new a()}d=d.child(e,f,b);return{effectManager:c.effectManager,styleManager:d}}});sap.riv.module({qname:"sap.viz.util.Objects",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(a){var b={extend:function(){var m,e,c,d,j,k,h=arguments[0]||{},g=1,f=arguments.length,l=false;if(typeof h==="boolean"){l=h;h=arguments[1]||{};g=2}if(typeof h!=="object"&&!a.isFunction(h)){h={}}if(f===g){h=this;--g}for(;g<f;g++){if((m=arguments[g])!==null){for(e in m){if(m.hasOwnProperty(e)){c=h[e];d=m[e];if(h===d){continue}if(l&&d&&(a.isPlainObject(d))){if(j){j=false;k=c&&a.isArray(c)?c:[]}else{k=c&&a.isPlainObject(c)?c:{}}h[e]=b.extend(l,k,d)}else{if(d!==undefined){h[e]=d}}}}}}return h},equal:function(f,d){if(typeof arguments[0]!==typeof arguments[1]){return false}if(f===undefined){if(d!==undefined){return false}}if(f===null){if(d!==null){return false}}if(f instanceof Array){if(!(d instanceof Array)){return false}if(f.length!==d.length){return false}var h=true;for(var e=0;e<f.length;e++){if(typeof f[e]!==typeof d[e]){return false}if(typeof f[e]==="boolean"||typeof f[e]==="number"||typeof f[e]==="string"||typeof f[e]==="undefined"||f[e]===null){h=(f[e]===d[e])}else{if(f[e] instanceof Object){h=this.equal(f[e],d[e])}else{return false}}if(!h){return false}}return true}if(f instanceof Object&&d instanceof Object&&typeof f!=="function"&&typeof d!=="function"){if(d===null||d instanceof Array){return false}var j=0,g=0;var c;for(c in f){if(f.hasOwnProperty(c)){if(typeof f[c]==="boolean"||typeof f[c]==="number"||typeof d[c]==="string"||typeof f[c]==="undefined"||f[c]===null){if(f[c]!==d[c]){return false}}else{if(!this.equal(f[c],d[c])){return false}}j++}}for(c in d){if(d.hasOwnProperty(c)){g++}}if(j!==g){return false}return true}return f===d}};return b});sap.riv.module({qname:"sap.viz.manifest",version:"4.0.1",exported:true},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"}],function Setup(a,c,d){var b={};b.registerCategory=function(f,e,h){if(!a.isNonEmptyString(f)){c.error("The category name must be a non-empty string.")}if(e&&!a.isFunction(e)){c.error("The category factory must be a function.")}if(b.hasOwnProperty(f)){c.error('There is already a category named "{0}"',f)}var i=d3.map();var g={get:function(m,l){var j=i.get(m);if(j===undefined&&l){c.error('Cannot find "{0}" in category "{1}"',m,f)}if(j&&j.__needParsed__===true){var k=j["abstract"]===true;j=d.extend(true,null,j.base!==undefined?g.get(j.base,true):null,j);Object.defineProperty(j,"abstract",{value:k,enumerable:false});if(e&&!k){e.call(h,j,b)}delete j.__needParsed__;i.set(m,j)}return j},each:function(k,j){i.forEach(function(l){k.call(j,g.get(l),l)});return b},unregister:function(k){var j;if(a.isExist(k)){j=i.get(k);i.remove(k)}return j},register:function(){Array.prototype.forEach.call(arguments,function(k){if(a.isUndefined(k)){c.error("Cannot register a undefined object.")}var j=k.id;if(!a.isNonEmptyString(j)){c.error("Cannot register without a valid id.")}if(i.has(j)){c.error('There is already an item named "{0}" in category "{1}".',j,f)}k.__needParsed__=true;i.set(j,k)});return b}};b[f]=g;return g};b.unregisterCategory=function(e){return e in b&&delete b[e]};return b});sap.riv.module({qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},[{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.fn.createContext",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"},{qname:"sap.viz.modules.Constants",version:"4.0.1"}],function Setup(e,g,d,a,c){var b=true;function f(i,m,l){var k=m.id;if(k===undefined){g.error('Cannot find module id in sub module config "{0}"',JSON.stringify(m))}var j=e.module.get(m.id,true);i.push({module:j,config:m,moduleRef:l,subModules:j.subModules(m,l)})}function h(i,j){var m={},l,k;for(l in i){if(i.hasOwnProperty(l)){k=i[l];if(k){if(j===true){m[l]=d.extend(true,{},k)}else{m[l]=k.supportedValueType==="Object"?h(k.supportedValues,!b):k.defaultValue}}}}return m}e.registerCategory("module",function(k){var i;var j;Object.defineProperties(k,{subModules:{value:function(q,o){var p;var l=d.extend(true,{},q.modules,q.controllers);if(!a.isEmptyObject(l)){p=[];var m;for(var n in l){if(l.hasOwnProperty(n)){m=l[n];if(m){f(p,m,o+"."+n)}}}}return p}},props:{value:function(l){if(l===b){if(!j){j=h(k.properties,b)}return j}else{if(!i){i=h(k.properties,!b)}return d.extend(true,{},i)}}},execute:{value:function(m,n,l){return k.fn(k,n===true?m:c(this,m,n,l))}}});return k});e.module.loadModule=f;return e.module});sap.riv.module({qname:"sap.viz.util.fn.dombuilder",version:"4.0.1"},[{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.util.append",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.elementutil",version:"4.0.1"}],function Setup(c,e,a,d,b){var f=function(m,j){var h=b.isSVG(m);var g=m;var i={};var n=true;for(var l in j){if(j.hasOwnProperty(l)){var k=e.get(j[l].id);if(k&&k.renderto===c.Module.RenderTo.DIV){if(h){d.error("Configuration Error! Does not allow append div under svg element!")}else{n=false;break}}}}for(var l in j){if(j.hasOwnProperty(l)){var k=e.get(j[l].id);if(k){if(k.renderto===c.Module.RenderTo.DIV){i[l]=a.apply(g,["div",{"class":"v-m-"+l}])}else{if(k.renderto===c.Module.RenderTo.NONE){i[l]=undefined}else{i[l]=a.apply(g,[h?"g":"svg",{"class":"v-m-"+l}])}}}}}return i};return f});sap.riv.module({qname:"sap.viz.style.Selector",version:"4.0.1"},[],function Setup(){function b(c){this.b=0;this.c=c?(c.split(".").length-1):0;this.d=0}b.prototype={nlt:function(c){if(this.b===c.b){if(this.c===c.c){return this.d>=c.d}return this.c>c.c}return this.b>c.b}};function a(d){this.text=d;var c;Object.defineProperty(this,"specificity",{get:function(){if(!c){c=new b(d)}return c}})}a.prototype={nlt:function(c){if(!c){return true}return this.specificity.nlt(c.specificity)}};return a});sap.riv.module({qname:"sap.viz.style.Sheet",version:"4.0.1"},[{qname:"sap.viz.style.Selector",version:"4.0.1"}],function Setup(a){function b(c,h){this.source=c;var m="."+h+" ";this.styleElement=document.createElement("style");document.head.appendChild(this.styleElement);var r=this.styleElement.sheet;r.disabled=true;var g=c.split("}");for(var n=0,o=g.length-1;n<o;n++){r.insertRule(g[n]+"}",n)}this.rules=[];var p=r.cssRules;for(n=0,o=p.length;n<o;n++){var f=p[n];var s=f.selectorText.split(",");f.selectorText=s.map(function(i){return m+i}).join(",");var t=s.map(function(i){return new a(i)});var q={};var e=f.style;for(var l=0,k=e.length;l<k;l++){var d=e[l];q[d]={value:e.getPropertyValue(d),important:e.getPropertyPriority(d)==="important"}}this.rules.push({selectors:t,properties:q})}r.disabled=false}b.prototype={destroy:function(){this.styleElement.parentNode.removeChild(this.styleElement);return this},iterate:function(c){this.rules.forEach(function(d){d.selectors.forEach(function(e){c(e,d.properties)})});return this}};return b});sap.riv.module({qname:"sap.viz.TemplateManager",version:"4.0.1",exported:true},[{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"}],function Setup(b,k,a,g){function n(t,q,v){var u=document.getElementsByTagName("head")[0]||document.documentElement;var s=document.createElement("script");s.type="text/javascript";s.src=t;var r=false;s.onload=s.onreadystatechange=function(){if(!r&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){r=true;h(s);q()}};if(s.addEventListener){s.addEventListener("error",function(){h(s);v()},true)}u.insertBefore(s,u.firstChild)}function d(x,t,u,q,w){if(t<x.length){var s=x[t]+u+"/template.js";var r=function(){d(x,t+1,u,q,w)};n(s,r,r)}else{var v=e(u);if(v){q(v)}else{w()}}}function o(r,q){d(i.loadPath,0,r,q,function(){k.error("Loading template {0} failed.",r)})}function h(q){q.onload=q.onreadystatechange=null;q.parentNode.removeChild(q)}var m=b.registerCategory("template",function(t){var s=t.css;if(!a.isString(s)){var u="";for(var q in s){if(s.hasOwnProperty(q)){u+=q+"{";var v=s[q];for(var r in v){if(v.hasOwnProperty(r)){u+=r+":"+v[r]+";"}}u+="}"}}t.css=u}Object.defineProperties(t,{props:{value:function(x){var w=t.properties;if(w){return w[x]}}}});return t});var l;function e(q){return m.get(q)}function p(r,q,s){l=r;if(q){q.call(s,l)}}var j="default",c={id:j,name:"Default"};var i={constructor:function(){return},loadPath:["../../../resources/templates/"],current:function(){return l},apply:function(t,q,s){var r=e(t);if(!r){o(t,function(u){p(u,q,s)})}else{p(r,q,s)}return i},register:function(){m.register.apply(m,arguments);return i},extend:function(s,r){var q=m.get(s,true);g.extend(true,q.properties,r.properties);q.css+=r.css||"";return i}};delete i.constructor;var f={writable:false,configurable:false};Object.defineProperties(i,{loadPath:{configurable:false},current:f,apply:f,register:f});i.register(c);l=e(j);return i});sap.riv.module({qname:"sap.viz.config",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(d){var c={};var a=false;var b={constructor:function(){return},enableCanvg:function(e){if(!arguments.length){return a}a=e;return b},register:function(e){if(c[e.id]){return}c[e.id]=e.value;return b},get:function(e){if(c[e]){return c[e]}}};return b});sap.riv.module({qname:"sap.viz.Locale",version:"4.0.1",exported:true},[],function Setup(f,b){var a="en",c=[];function d(g){c.forEach(function(h){h.fn.apply(h.scope,[g])})}var e={constructor:function(){return},locale:function(g){if(!arguments.length){return a}a=g;d(a);return e},addListener:function(g){c.push(g);return e},removeListener:function(h){var g=c.indexOf(h);if(g!=-1){c.splice(g,1)}return e}};return e});sap.riv.module({qname:"sap.viz.lang.langManager",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.Locale",version:"4.0.1"}],function Setup(h,e,b,a){function o(t,q,v){var u=document.getElementsByTagName("head")[0]||document.documentElement;var s=document.createElement("script");s.type="text/javascript";s.src=t;var r=false;s.onload=s.onreadystatechange=function(){if(!r&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){r=true;s.onload=s.onreadystatechange=null;if(u&&s.parentNode){u.removeChild(s)}q()}};if(s.addEventListener){s.addEventListener("error",function(){s.onload=s.onreadystatechange=null;s.parentNode.removeChild(s);v()},true)}u.insertBefore(s,u.firstChild)}function p(s,u,x,q,w){if(u<s.length){var t=s[u]+"language_"+x+".js";var r=function(){p(s,u+1,x,q,w)};o(t,r,r)}else{var v=d(x);if(v){q(v)}else{w()}}}function m(){var q=d3.map();q.set("ar_AE","ar");q.set("ar_EG","ar");q.set("ar_SA","ar");q.set("bg_BG","bg");q.set("ca_ES","ca");q.set("cs_CZ","cs");q.set("da_DK","da");q.set("de_CH","de");q.set("de_AT","de");q.set("de_BE","de");q.set("de_LU","de");q.set("de_DE","de");q.set("el_CY","el");q.set("el_GR","el");q.set("en_AU","en");q.set("en_CA","en");q.set("en_GB","en");q.set("en_HK","en");q.set("en_ID","en");q.set("en_IE","en");q.set("en_IN","en");q.set("en_IS","en");q.set("en_MY","en");q.set("en_NZ","en");q.set("en_PH","en");q.set("en_SG","en");q.set("en_US","en");q.set("en_ZA","en");q.set("es_AR","es");q.set("es_BO","es");q.set("es_CL","es");q.set("es_CO","es");q.set("es_ES","es");q.set("es_MX","es");q.set("es_PE","es");q.set("es_UY","es");q.set("es_VE","es");q.set("et_EE","et");q.set("fa_IR","fa");q.set("fi_FI","fi");q.set("fr_BE","fr");q.set("fr_CA","fr");q.set("fr_CH","fr");q.set("fr_FR","fr");q.set("fr_LU","fr");q.set("he_IL","iw");q.set("hr_HR","hr");q.set("hu_HU","hu");q.set("it_CH","it");q.set("it_IT","it");q.set("ja_JP","ja");q.set("ko_KR","ko");q.set("lt_LT","lt");q.set("lv_LV","lv");q.set("nl_BE","nl");q.set("nl_NL","nl");q.set("nn_NO","no");q.set("pl_PL","pl");q.set("pt_BR","pt");q.set("pt_PT","pt");q.set("ro_RO","ro");q.set("ru_KZ","ru");q.set("ru_RU","ru");q.set("ru_UA","ru");q.set("sh_ME","sr");q.set("sh_RS","sr");q.set("sk_SK","sk");q.set("sl_SL","sl");q.set("sv_SE","sv");q.set("th_TH","th");q.set("tr_CY","tk");q.set("tr_TR","tk");q.set("uk_UA","uk");q.set("vi_VI","vi");q.set("zf_TW","zh_TW");q.set("zh_CN","zh_CN");q.set("zh_HK","zh_CN");q.set("ar","ar");q.set("bg","bg");q.set("ca","ca");q.set("cs","cs");q.set("da","da");q.set("de","de");q.set("el","el");q.set("en","en");q.set("es","es");q.set("et","et");q.set("fi","fi");q.set("fr","fr");q.set("iw","iw");q.set("hr","hr");q.set("hu","hu");q.set("it","it");q.set("ja","ja");q.set("ko","ko");q.set("lt","lt");q.set("lv","lv");q.set("nl","nl");q.set("no","no");q.set("pl","pl");q.set("pt","pt");q.set("ro","ro");q.set("ru","ru");q.set("sr","sr");q.set("sk","sk");q.set("sl","sl");q.set("sv","sv");q.set("th","th");q.set("tk","tk");q.set("uk","uk");q.set("vi","vi");q.set("zh_TW","zh_TW");return q}var k=[];var l=m();function g(q){k.forEach(function(r){r.fn.apply(r.scope,[c])});if(q){q()}}function d(q){return n[q]}var n={};var c=n.dev={IDS_DEFAULTMND:"All Measures",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_ISNOVALUE:"No value",IDS_BARCHART:"Bar Chart",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_LINECHART:"Line Chart",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_VERTICALBARCHART:"Column Chart",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_WATERFALLCHART:"Waterfall Chart",IDS_DONUTCHART:"Donut Chart",IDS_PIECHART:"Pie Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_SCATTERCHART:"Scatter Plot",IDS_BASECHART:"Base Chart",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_BASESINGLECHART:"Base Single Chart",IDS_HEATMAPCHART:"Heat Map",IDS_TREEMAPCHART:"Tree Map",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_MULTIDONUTCHART:"Multiple Donut Chart",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_MULTILINECHART:"Multiple Line Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_RADARCHART:"Radar Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_MEKKOCHART:"Mekko chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Mekko Chart",IDS_PERCENTAGEMEKKOCHART:"100% Mekko Chart",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Mekko Chart",IDS_AREACHART:"Area Chart",IDS_PERCENTAGEAREACHART:"100% Area Chart",IDS_HORIZONTALAREACHART:"Horizontal Area Chart",IDS_PERCENTAGEHORIZONTALAREACHART:"100% Horizontal Area Chart",IDS_MULTIAREACHART:"Multiple Area Chart",IDS_MULTIHORIZONTALAREACHART:"Multiple Horizontal Area Chart",IDS_MULTIPERCENTAGEAREACHART:"Multiple 100% Area Chart",IDS_MULTIPERCENTAGEHORIZONTALAREACHART:"Multiple 100% Horizontal Area Chart",IDS_3D_BAR:"3D Bar Chart",IDS_3D_COLUMN:"3D Column Chart",IDS_PIEWITHDEPTHCHART:"Pie With Depth Chart",IDS_DONUTWITHDEPTHCHART:"Donut With Depth Chart",IDS_REGIONCOLOR:"Region Color",IDS_PRIMARYVALUES:"Primary Values",IDS_SECONDARYVALUES:"Secondary Values",IDS_AXISLABELS:"Axis Labels",IDS_RECTANGLETITLE:"Rectangle Title",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_TAGNAME:"Tags Name",IDS_TAGWEIGHT:"Tags Weight",IDS_TAGFAMILY:"Tags Family",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_REGIONSHAPE:"Region Shape",IDS_BUBBLEWIDTH:"Bubble Width",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_RADARAXES:"Radar Axes",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_PIESECTORSIZE:"Sector Size",IDS_PIEDEPTHSIZE:"Depth Size",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_SELECTABILITY:"selectability",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_DRAWINGEFFECT:"drawingEffect",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_ANIMATION:"animation",IDS_DATALOADING:"dataLoading",IDS_DATAUPDATING:"dataUpdating",IDS_BAR:"bar",IDS_LINE:"line",IDS_WIDTH:"width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MARKER:"marker",IDS_VISIBLE:"visible",IDS_SHAPE:"shape",IDS_SIZE:"size",IDS_HEADERVISIBLE:"headerVisible",IDS_AXISVISIBLE:"axisVisible",IDS_GRIDVISIBLE:"gridVisible",IDS_COLUMNSEQUENCE:"columnSequence",IDS_COLUMNCONFIG:"columnConfig",IDS_STARTCOLUMN:"startColumn",IDS_LABEL:"label",IDS_VALUEFORMAT:"valueFormat",IDS_ENDCOLUMN:"endColumn",IDS_HIGHCOLUMN:"highColumn",IDS_LOWCOLUMN:"lowColumn",IDS_LINECONFIG:"lineConfig",IDS_MARKERS:"markers",IDS_FILLVISIBLE:"fillVisible",IDS_REFINEVISIBLE:"reflineVisible",IDS_MODE:"mode",IDS_TITLE:"title",IDS_TEXT:"text",IDS_GRIDLINE:"gridline",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_TYPE:"type",IDS_FORMAT:"format",IDS_POSITION:"position",IDS_BORDER:"border",IDS_STARTCOLOR:"startcolor",IDS_ENDCOLOR:"endcolor"};var j="dev",i="en";var f={constructor:function(){return},loadPath:["../../../resources/langs/"],current:function(){return j},register:function(q){j=q.id;c=n[q.id]=e.extend(true,n[q.id],q.value);return f},apply:function(r,q){if(r){r=l.get(r);p(f.loadPath,0,r,function(){g(q)},function(){p(f.loadPath,0,i,function(){g(q);h.error("Loading language {0} failed.",r)},function(){j="dev",c=n.dev;g(q);h.error("Loading language {0}, {1} failed.",r,i)})})}return f},get:function(q){if(c[q]){return c[q]}return n.dev[q]},addListener:function(q){k.push(q);return f},removeListener:function(r){var q=k.indexOf(r);if(q!=-1){k.splice(q,1)}return f}};a.addListener({fn:function(q,r){f.apply(q,r)},scope:f});return f});sap.riv.module({qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(a,c){function b(d){this._bindingInfo=d;this._aa=[];this._mg=[];this._fakeData=false;this._dataPointCount=0;this._emptyDataset=false}b.prototype.addAnalysisAxis=function(d){if(d){this._aa.push(d)}};b.prototype.addMeasureValuesGroup=function(d){if(d){this._mg.push(d)}};b.prototype.getAnalysisAxisDataByIdx=function(d){if(!arguments.length){return this._aa}for(var e=0;e<this._aa.length;e++){if(this._aa[e].index===d){return this._aa[e]}}return null};b.prototype.getMeasureValuesGroupDataByIdx=function(d){if(!arguments.length){return this._mg}for(var e=0;e<this._mg.length;e++){if(this._mg[e].index===d){return this._mg[e]}}return null};b.prototype.createDataAdapterForModule=function(d){var g=new b();var f;if(d&&d.aa){for(f=0;f<d.aa.length;f++){var h=this.getAnalysisAxisDataByIdx(d.aa[f]-1);if(h){g.addAnalysisAxis({index:f,values:h.values})}}}if(d&&d.mg){for(f=0;f<d.mg.length;f++){var e=this.getMeasureValuesGroupDataByIdx(d.mg[f]-1);if(e){g.addMeasureValuesGroup({index:f,values:e.values})}}}return g};b.prototype.getBindingInfo=function(){return this._bindingInfo};b.prototype.fakeData=function(d){if(!arguments.length){return this._fakeData}this._fakeData=d};b.prototype.dataPointCount=function(d){if(!arguments.length){return this._dataPointCount}this._dataPointCount=d};b.prototype.emptyDataset=function(d){if(!arguments.length){return this._emptyDataset}this._emptyDataset=d};return b});sap.riv.module({qname:"sap.viz.data.handler.BaseDataHandler",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"}],function Setup(g,a,c){function f(j){var m=[];var k=true;var l=0;for(;l<j.length;l++){var n=j[l];if(n.type()==="Dimension"&&n.acceptMND()>=0){if(n.hasMNDFeeded()){return n.feedId()}else{if(n.getDataCount()<n.max()){m[n.acceptMND()]=n;if(k){k=n.hasFeeded()}}}}}if(m.length===0){return""}if(k){return m[m.length-1].feedId()}for(l=m.length-1;l>=0;l--){if(m[l]&&!m[l].hasFeeded()){return m[l].feedId()}}return""}function e(i){if(a.isString(i)){return i}else{if(a.isNumber(i)){return i.toString()}else{return null}}}function d(i){if(a.isNumber(i)){return parseFloat(i)}else{return null}}function b(j,m){var l=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];var n=j.getDataPointCount();if(m===Number.POSITIVE_INFINITY||!a.isNumber(m)||m>=n){return l}var q=0;var k=j.getMeasureValuesGroupCount();for(var o=0;o<k;o++){q+=j.getMeasureValuesGroupByIdx(o).getMeasureValues().length}var p=Math.floor(m/q);var r=j.getAnalysisAxisCount();if(r===0||r===1){l[0]=p}else{if(r===2){var t=j.getMeasureValuesGroupByIdx(0).getMeasureValues()[0];var s=t.getValues()[0].length;if(p/s<1){l[0]=p;l[1]=1}else{l[1]=Math.floor(p/s)}}}return l}function h(i,k,j){this._feeder=i;this._feeds=i.getFeeds();this._mndFeed=f(this._feeds);this._limit=b(k,j)}h.prototype.getFeedValues=function(i){var j=this._feeder.findFeed(i);if(!j){g.error("could not find feed definition of "+i)}if(j.type()==="Dimension"){return this.getDimensionFeedValues(j)}else{if(j.type()==="Measure"){return this.getMeasureFeedValues(j)}}};h.prototype.getDimensionFeedValues=function(A){var B=[];var q=false;var u=A.data();var r;var n=c.get("IDS_DEFAULTMND");if(u.length>0){for(var t=0;t<u.length;t++){var s=u[t];if(s){if(s.getType()==="measureNamesDimension"){r={};r.col={val:n};r.type="MND";r.rows=this.getMeasureNamesValues();B.push(r);q=true}else{if(s.getType()==="analysisAxis"){var p=s.getDimensionLabels();var w=this._feeder.getAnalysisAxisIndex(A);for(var o=0;o<p.length;o++){r={};r.col={val:e(p[o].getId())};var C=[];var z=p[o].getValues();var v=p[o].infos();var m=z.length;if(this._limit[w]!==Number.POSITIVE_INFINITY){m=this._limit[w]}for(var l=0;l<m;l++){var x={val:e(z[l]),ctx:{type:"Dimension",path:{aa:w,di:o,dii:l}}};if(a.isExist(v)){x.info=v[l]}C.push(x)}r.rows=C;B.push(r)}}else{g.error("wrong type when getting data")}}}}}if(A.feedId()===this._mndFeed&&q===false){r={};r.col={val:n};r.type="MND";r.rows=this.getMeasureNamesValues();B.unshift(r)}return B.length>0?B:null};h.prototype.getMeasureFeedValues=function(v){var w=[];var r=v.getMeasureValues();var l=this._feeder.getMeasureValuesGroupIndex(v);for(var q=0;q<r.length;q++){var p={};p.col=e(r[q].getId());var B=[];var x=r[q].getValues();var t=r[q].infos();var s=x.length;if(this._limit[1]!==Number.POSITIVE_INFINITY){s=this._limit[1]}for(var o=0;o<s;o++){var u=x[o];var A=[],z={};var m=u.length;if(this._limit[0]!==Number.POSITIVE_INFINITY){m=this._limit[0]}for(var n=0;n<m;n++){z={val:d(u[n]),ctx:{type:"Measure",path:{mg:l,mi:q,dii_a1:n,dii_a2:o}}};if(a.isExist(t)){z.info=t[o][n]}A.push(z)}B.push(A)}p.rows=B;w.push(p)}return w.length>0?w:null};h.prototype.getMeasureNamesValues=function(){var k=[];var o=this._feeder.getMeasureValuesGroupFeeds();for(var n=0;n<o.length;n++){if(o[n].hasFeeded()){var m=o[n].getMeasureValues();for(var l=0;l<m.length;l++){k.push({val:e(m[l].getId()),ctx:{path:{mg:n,mi:l}}})}}}return k};return h});sap.riv.module({qname:"sap.viz.util.ignite",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"}],function Setup(a,b){return function(f,d,g,c){var e;if(a.isString(f)){e=b.get(f)}else{e=f;g=true}return e.execute(d,g,c)}});sap.riv.module({qname:"sap.viz.modules.manifests.controller.Base",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.controller.base","abstract":true,type:b.Module.Type.Controller,renderto:b.Module.RenderTo.NONE,name:"controller base module",properties:null,events:null,feeds:null};c.register(a)});sap.riv.module({qname:"sap.viz.util.BoundingBox",version:"4.0.1"},[],function Setup(){var a={};a.getBBox=function(d,c){var b;if(arguments.length===1){b=d.getCTM()}else{b=d.getTransformToElement(c)}return a.getBBoxHelp(d,b)};a.getBBoxHelp=function(e,m){var h=e.getBBox();var j=new Array();var n=d3.select("svg")[0][0].createSVGPoint();n.x=h.x;n.y=h.y;j.push(n.matrixTransform(m));n.x=h.x+h.width;n.y=h.y;j.push(n.matrixTransform(m));n.x=h.x+h.width;n.y=h.y+h.height;j.push(n.matrixTransform(m));n.x=h.x;n.y=h.y+h.height;j.push(n.matrixTransform(m));var f=j[0].x;var c=j[0].x;var d=j[0].y;var b=j[0].y;for(var g=1;g<j.length;g++){var l=j[g].x;var k=j[g].y;if(l<f){f=l}else{if(l>c){c=l}}if(k<d){d=k}else{if(k>b){b=k}}}return{x:f,y:d,width:c-f,height:b-d}};a.intersects=function(d,c){return(d.x<=(c.x+c.width)&&c.x<=(d.x+d.width)&&d.y<=(c.y+c.height)&&c.y<=(d.y+d.height))};a.intersection=function(d,b){if(a.intersects(d,b)){var e=Math.max(d.x,b.x),c=Math.min(d.x+d.width,b.x+b.width),g=Math.max(d.y,b.y),f=Math.min(d.y+d.height,b.y+b.height);return{x:e,y:g,width:c-e,height:f-g}}return null};return a});sap.riv.module({qname:"sap.viz.modules.dispatch",version:"4.0.1"},[],function Setup(){return d3.dispatch});sap.riv.module({qname:"sap.viz.base.UADetector",version:"4.0.1"},[],function Setup(){var n=window.devicePixelRatio||1;var t;var h=function(x){for(var u=0;u<x.length;u++){var v=x[u].string;var w=x[u].prop;t=x[u].versionSearch||x[u].identity;if(v){if(v.indexOf(x[u].subString)!=-1){return x[u].identity}}else{if(w){return x[u].identity}}}};var p=[";"," "];var l=function(x){var v=x.indexOf(t);if(v==-1){return}var z=x.substring(v+t.length+1);var w=0,u=p.length,A=-1;while(A===-1&&w<u){A=z.indexOf(p[w++])}if(A!==-1){z=z.slice(0,A)}return z};var c=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.userAgent,subString:"Safari",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"Apple",identity:"UIWebView",versionSearch:"AppleWebKit"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];var b=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];var r=[{string:navigator.userAgent,subString:"Presto",identity:"Presto"},{string:navigator.userAgent,subString:"KHTML",identity:"KHTML"},{string:navigator.userAgent,subString:"Gecko",identity:"Gecko"},{string:navigator.userAgent,subString:"Trident",identity:"Trident"}];var g=[{string:navigator.userAgent,subString:"Android",identity:"Android",},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"}];var i=h(c)||"An unknown browser",o=l(navigator.userAgent)||l(navigator.appVersion)||"an unknown version",d=h(c)==="Explorer",q=h(c)==="Firefox",e=h(c)==="Chrome",a=h(c)==="Safari",j=h(c)==="UIWebView",s=h(b)||"an unknown OS",k=h(r)||"An unknown RenderEngine",m=h(g);var f={userAgent:function(){return i},version:function(){return o},isIE:function(){return d},isFirefox:function(){return q},isChrome:function(){return e},isSafari:function(){return a},isUIWebView:function(){return j},os:function(){return s},devicePixelRatio:function(){return n},renderEngine:function(){return k},isMobile:function(){return m!==undefined}};return(f)});sap.riv.module({qname:"sap.viz.util.TextUtils",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"}],function Setup(a,f){var h="http://www.w3.org/2000/svg";var e;var c=["font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","alignment-baseline","baseline-shift","dominant-baseline"];var b=[];function d(){if(!e){var j=document.body.appendChild(document.createElementNS(h,"svg"));j.style.cssText="position:absolute;left:-1000px;top:-1000px;z-index:-9000;width:1px;height:1px";e=j.appendChild(document.createElementNS(h,"text"))}return e}function g(n,l){var m=d();if(!l){m.removeAttribute("style")}else{if(!a.isString(l)){var j=f.isIE()?l.ownerSVGElement.getComputedStyle(l):window.getComputedStyle(l);var k="";c.forEach(function(o){var p=j.getPropertyValue(o);if(p!==null){k+=o+":"+p+";"}});l=k}m.style.cssText=l}if(n===undefined||n===null){n=""}m.textContent=n;return m}function i(q,k,r,p,l){if(r>0){var j=l?d():g(q,p||k);if(j.getComputedTextLength()<=r){if(k){k.textContent=q}return q}j.textContent="...";r-=j.getComputedTextLength();j.textContent=q;if(r>0){var o=q.length;var n=0;while(++n<o){if(j.getSubStringLength(0,o-n)<=r){var m=q.substring(0,o-n)+"...";if(k){k.textContent=m;k.appendChild(document.createElementNS(k.namespaceURI,"title")).textContent=q}return m}}}}if(k){k.textContent=""}return""}return{measure:function(l,j){if(l===""){return{width:0,height:0,x:0,y:0}}var k=g(l,j).getBBox();return{width:k.width,height:k.height,x:k.x,y:k.y}},fastMeasure:function(n,l,o,m){var j=n+l+o+m;var k=b[j];if(!k){b[j]=this.measure(n,"font-size:"+l+"; font-weight:"+o+"; font-family:"+m);k=b[j]}return k},ellipsis:function(l,k,j,m){return i(l,k,j,m,false)},ellipsisInCircle:function(o,n,m,k,p){var l=g(o,n);var j=Math.sqrt(Math.pow(m,2)-Math.pow(k+l.getBBox().height/2,2))*2;i(o,n,j,p,true)},verticalCentralOffset:function(n,m){var j=g(n,m);var k=j.getBBox();var o=-k.y;var l=parseInt(j.ownerSVGElement.getComputedStyle(j)["fontSize"],0);return(o-(k.height-l))/2}}});sap.riv.module({qname:"sap.viz.modules.controller.lasso",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.BoundingBox",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(d,b,f,a,e,c){return function(){var D=null;var J,G,k,P,M,F=[],p=[],r="multiple",s=[];var Q,x,l={},t=".v-datapoint",O=false,j=false;var u=null,i=[],L=null,q=[];var N=function(){F=[]};var A=function(){return A};A.lastOvered=function(g){if(!arguments.length){return i}i=g;return A};A.unhighlightTarget=function(g){if(!arguments.length){return u}u=g;return A};A.lastHovered=function(g){if(!arguments.length){return q}q=g;return A};A.eventLayer=function(g){if(!arguments.length){return L}L=g;return A};A.registerEvent=function(){var g=G.modules();for(var m in g){if(g.hasOwnProperty(m)&&!(g[m] instanceof Array)&&g[m].parent()){F.push(g[m])}}J.on("mousedown.lasso",v,true);J.on("mousemove.lasso",z,true);J.on("mouseup.lasso",H,true);$(J.node()).mouseleave(o)};A.dispatch=function(g){if(!arguments.length){return D}D=g;return A};A.properties=function(g){if(!arguments.length){return k}k=g;r=k.selectability&&k.selectability.mode?k.selectability.mode:"multiple";j=k.selectability&&k.selectability.selectWithCtrlKey;return A};A.isLasso=function(){return O};A.selected=function(g){if(!arguments.length){return p}p=g;return A};A.module=function(g){if(!arguments.length){return G}N();G=g,J=G.parent(),P=J.node();return A};var C=function(){var S=d3.event,R=!L.empty()?L.node():P,m=R.getBoundingClientRect(),g=S.clientX-m.left,T=S.clientY-m.top;return[g,T]};var B=function(m){var g=m.getBoundingClientRect();return{x:g.left,y:g.top,height:g.height,width:g.width}};var K=function(){if(d3.event){d3.event.stopPropagation();d3.event.preventDefault()}};var w=function(R,m){var g=[];R.filter(function(U,S){var T=B(this);if(e.intersects(T,m)){g.push(this)}});return g};var v=function(){if(r!=="multiple"){return}if(j&&!(d3.event.ctrlKey)){return}Q=C();x=J.append("rect").attr("x",Q[0]).attr("y",Q[1]).attr("width",0).attr("height",0).attr("pointer-events","none").attr("fill","rgba(64,176,240, 0.4)").style("stroke-width","2px").attr("stroke","rgb(64, 176, 240)");O=true;K()};var h=function(g){for(var m=0;m<F.length;m++){if(F[m].clear){F[m].clear(g)}}};var z=function(){if(r!=="multiple"||!O){return}var T=C(),m=Math.min(T[0],Q[0]),S=Math.min(T[1],Q[1]),R=Math.abs(T[0]-Q[0]),g=Math.abs(T[1]-Q[1]);x.attr("x",m).attr("y",S).attr("width",R).attr("height",g)};var H=function(){var g={x:d3.event.clientX,y:d3.event.clientY};E(g)};var E=function(am){if(r!=="multiple"||!O){return}O=false;var U=x.node(),aa=B(U),af=parseFloat(U.getAttribute("width")),Z=parseFloat(U.getAttribute("height")),T=[],X=[];setTimeout(function(){x.remove()},0);if(af||Z){var ai,V,ad=false,Y=null,S=[],W=null,ac=null,ak=null;for(var aj=0,al=F.length;aj<al;aj++){ai=F[aj];V=null;if(a.isFunction(ai.getDatapointsInRect)){V=ai.getDatapointsInRect(x.node())}else{W=ai.parent().select("rect.viz-event-sub-layer").node();ac=W?B(W):null;ak=ac?e.intersection(ac,aa):aa;if(!ak){continue}Y=ai.parent().selectAll(".v-datapoint");if(Y[0].length>0){V=w(Y,ak)}}if(V&&V.length>0){S.push({plot:ai,selected:V})}}if(S.length>0){if(p.length==0){u(p,false);h(true)}var ai=null,ag=null,R=false,g=f.extend(true,[],p);for(var aj=0,al=S.length;aj<al;aj++){ai=S[aj].plot,ag=S[aj].selected;for(var ah=0,ae=ag.length;ah<ae;ah++){for(var ab=0,m=g.length;ab<m;ab++){if(ag[ah]==g[ab]){R=true;break}}if(R){T.push(ag[ah])}else{p.push(ag[ah]);T.push(ag[ah])}R=false}ai.highlight(ag)}}else{if(p.length>0){u(p,false);h()}X=X.concat(p);p.splice(0,p.length)}if(T.length>0){n(T)}if(X.length>0){I(X)}for(var aj=0,al=i.length;aj<al;aj++){if(i[aj].plot.mouseout){i[aj].plot.mouseout(i[aj].target,true)}}i.splice(0,i.length);K()}};var o=function(m){if(O){var S={x:m.clientX,y:m.clientY};E(S);O=false}for(var R=0,g=q.length;R<g;R++){if(q[R].blurOut){q[R].blurOut()}}q.splice(0,q.length)};function n(R){var U=[];for(var T=0,g=R.length;T<g;T++){var W=[],V=R[T].__data__;if(V.val instanceof Array){for(var S=0,m=V.val.length;S<m;S++){W.push({val:V.val[S],ctx:V.ctx[S]})}}else{W.push({val:R[T].__data__.val,ctx:R[T].__data__.ctx})}U.push({target:R[T],data:W})}D.selectData({name:c.Module.Event.SelectData.name,data:U})}function I(R){var T=[];for(var U=0,g=R.length;U<g;U++){var W=[],V=R[U].__data__;if(V.val instanceof Array){for(var S=0,m=V.val.length;S<m;S++){W.push({val:V.val[S],ctx:V.ctx[S]})}}else{W.push({val:R[U].__data__.val,ctx:R[U].__data__.ctx})}T.push({target:R[U],data:W})}D.deselectData({name:c.Module.Event.DeSelectData.name,data:T})}return A}});sap.riv.module({qname:"sap.viz.modules.controller.interaction",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.controller.lasso",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"}],function Setup(e,b,f,a,c,d){return function(r){var R=null,O,Q=[],T="multiple",J=[],D=r.props(null),q=f(),u=[];var E=true,L=[],n=null,H=[];var x=new b("selectData","deselectData","deselectLegend");var U={mouseup:null,mousemove:null,mouseout:null,mouseover:null,touchstart:null},C=false,P=["mouseup","mousemove","mouseout","mouseover","touchstart"],N=null,z=false;var F=true,i=true,A=true,v=false;var I=function(){C=false;J=[];Q.splice(0,Q.length);L.splice(0,L.length);H.splice(0,H.length)};var s=function(){q.dispatch(x).selected(Q).lastOvered(H).lastHovered(L).unhighlightTarget(l);return s};var k=function(g){for(var m=0;m<J.length;m++){if(J[m].clear){J[m].clear(g)}}};var h=function(g,V){var m=V.parent()[0][0].getBoundingClientRect();return(g.x>=m.left&&g.x<=m.left+m.width&&g.y>=m.top&&g.y<=m.top+m.height)};var M=function(){var m=[];for(var V=0,g=J.length;V<g;V++){if(J[V].parent()){m.push(J[V].parent().node())}}return m};var S=function(W,V){var X=W,m=V||M(),g;for(;X&&X.ownerSVGElement;X=X.parentNode){g=m.indexOf(X);if(g!==-1){return g}}return -1};var K=function(V,g){var m=S(V,g);if(m!==-1){return J[m]}return null};var B=function(V){var W=M(),Y=[];for(var X=0,m=J.length;X<m;X++){Y.push([])}for(var X=0,m=V.length;X<m;X++){var Z=V[X],g=S(Z,W),aa;if(g!==-1){aa=Y[g];aa.push(Z)}else{}}return Y};var o=function(m){var g=K(m);if(g&&g.highlight){g.highlight(m,T)}};var l=function(Y,X){var g=a.isArray(Y)?Y:[Y],m=B(g);for(var V=J.length-1;V>=0;V--){var W=J[V],Z=m[V];if(Z&&Z.length>0&&W.unhighlight){W.unhighlight(Z,X)}}};s.registerEvent=function(){if(C==false){C=true;var m=O.modules();for(var V in m){if(m.hasOwnProperty(V)&&!(m[V] instanceof Array)&&m[V].parent()){J.push(m[V])}}if(!n){n=R.insert("rect","g").attr("x",0).attr("y",0).attr("fill-opacity",0);q.eventLayer(n)}n.attr("width",O.width()).attr("height",O.height());if(u!=null&&u instanceof Array){for(var V=0,g=u.length;V<g;V++){if(U[u[V]]){R.on(u[V]+".interaction",U[u[V]])}}}if(E==true){q.registerEvent()}if(z===true){R.on("mousedown.preserveSelectionWhenDragging",function(){N=d3.mouse(R.node())},true)}}else{n.attr("width",O.width()).attr("height",O.height());q.eventLayer(n);for(var V=0,g=L.length;V<g;V++){if(L[V].blurOut){L[V].blurOut()}}L.splice(0,L.length);for(var V=0,g=H.length;V<g;V++){if(H[V].plot.mouseout){H[V].plot.mouseout()}}H.splice(0,H.length);if(v==false){Q.splice(0,Q.length)}}};s.getSelectionMode=function(){return T};s.highlightedByLegend=function(W,aa){if(T==="single"||T==="none"){return}var m=[],ag,ai=true,aj=[],V=true,ab=[],X=[],ak=[],Z=[],am=[];for(var af=0,ah=J.length;af<ah;af++){aj=[];if(W.ctx.ranges){if(J[af].getDatapointsByRange){aj=J[af].getDatapointsByRange(W);ab.push({plot:J[af],ctxDatapoints:aj})}}else{if(J[af].getDatapointsByLegend){aj=J[af].getDatapointsByLegend(W);ab.push({plot:J[af],ctxDatapoints:aj})}else{m=J[af].parent().selectAll(".v-datapoint")[0];for(var ae=0,al=m.length;ae<al;ae++){if(m[ae].__data__&&m[ae].__data__.ctx){if(m[ae].__data__.ctx.path){ag=m[ae].__data__.ctx.path}else{ag=m[ae].__data__.ctx[0].path}ai=true;for(var ad in ag){if(W.ctx.path[ad]!=undefined){if(W.ctx.path[ad].length>0){if(j(W.ctx.path[ad],ag[ad])===false){ai=false}}else{if(W.ctx.path[ad]!==ag[ad]){ai=false}}}}if(ai===true){aj.push(m[ae])}}}if(m.length>0){ab.push({plot:J[af],ctxDatapoints:aj})}}}}if(Q.length===0){V=false}else{var ac=0;for(var af=0,ah=ab.length;af<ah;af++){aj=ab[af].ctxDatapoints;var g=aj.length;ac+=g;for(var ad=0;ad<g;ad++){if(j(Q,aj[ad])===false){V=false;break}}}if(V&&!ac){V=false}}for(var af=0,ah=ab.length;af<ah;af++){aj=ab[af].ctxDatapoints;Z=[],am=[];for(var ad=0,g=aj.length;ad<g;ad++){var Y=j(Q,aj[ad]);if(V){am.push(aj[ad]);Q.splice(Y,1);ak.push(aj[ad])}else{if(Q.length==0){k(true)}Z.push(aj[ad]);X.push(aj[ad]);if(Y===false){Q.push(aj[ad])}}}if(am.length>0){ab[af].plot.unhighlight(am,false,T)}if(Z.length>0){ab[af].plot.highlight(Z,false,T)}if(V){x.deselectLegend(W)}if(Q.length===0){k()}}if(X.length>0){w(X)}if(ak.length>0){p(ak)}return V};var j=function(g,V){for(var m=0;m<g.length;m++){if(g[m]===V){return m}}return false};s.dispatch=function(g){if(!arguments.length){return x}x=g;return s};U.mousemove=function(){if(q.isLasso()||F==false){return}var aa={x:d3.event.clientX,y:d3.event.clientY};var V=[];for(var Y=0,m=J.length;Y<m;Y++){if(J[Y].parent()&&h(aa,J[Y])){V.push(J[Y])}}var Z=false;for(var Y=0,m=L.length;Y<m;Y++){for(var X=0,W=V.length;X<W;X++){if(L[Y]==V[X]){Z=true;break}}if(Z==false&&L[Y].blurOut){L[Y].blurOut()}Z=false}for(var Y=0,m=V.length;Y<m;Y++){if(V[Y].hoverOnPoint){var g=V[Y].parent().node().getBoundingClientRect();V[Y].hoverOnPoint({x:aa.x-g.left,y:aa.y-g.top})}}L.splice(0,L.length);for(var Y=0,m=V.length;Y<m;Y++){L.push(V[Y])}};U.mouseover=function(){if(q.isLasso()||i==false){return}var Y=d3.event.target,X=Y.getAttribute("class");if(X!=null&&X.indexOf("v-datalabel")!=-1){Y=Y.__data__.dataShape}else{Y=t(Y);X=Y.getAttribute("class")}if(X!=null&&(X.indexOf("v-datapoint")!=-1||X.indexOf("v-datalabel")!=-1)){var m=false;for(var V=0,g=Q.length;V<g;V++){if(Y===Q[V]){m=true;break}}if(Q.length==0){m=true}var W=K(Y);if(W){H.push({plot:W,target:Y});if(W.mouseover){W.mouseover(Y,m)}}}};U.mouseout=function(){if(q.isLasso()||A==false){return}var Z=d3.event.target,Y=Z.getAttribute("class");if(Y!=null&&Y.indexOf("v-datalabel")!=-1){Z=Z.__data__.dataShape}else{Z=t(Z);Y=Z.getAttribute("class")}if(Y!=null&&(Y.indexOf("v-datapoint")!=-1||Y.indexOf("v-datalabel")!=-1)){var m=false;for(var V=0,g=Q.length;V<g;V++){if(Z===Q[V]){m=true;break}}if(Q.length==0){m=true}var X=K(Z);for(var V=0,g=H.length;V<g;V++){var W=H[V];if(W.target===Z){H.splice(V,1);if(X.mouseout){X.mouseout(Z,m)}break}}}};var t=function(g){if(g===R.node()){return g}else{var m=g.getAttribute("class");if(m!=null&&m.indexOf("v-datapoint")!=-1){return g}else{return t(g.parentNode)}}};U.mouseup=function(){if(z&&N){var aa=d3.mouse(R.node());if(Math.abs(aa[0]-N[0])>5||Math.abs(aa[1]-N[1])>5){return}}if(T!=="none"){var X=d3.event.target,m=X.getAttribute("class"),Y=[],g=[];if(m!=null&&m.indexOf("v-datalabel")!=-1){X=X.__data__.dataShape}else{X=t(X);m=X.getAttribute("class")}if(m==null||(m.indexOf("v-datapoint")==-1&&m.indexOf("v-datalabel")==-1)){l(Q,false);k();g=g.concat(Q);Q.splice(0,Q.length);x.deselectLegend()}else{var ab=false;for(var V=0,W=Q.length;V<W;V++){if(X==Q[V]){ab=true;break}}if(Q.length==0){k(true);o(X);Q.push(X);Y.push(X)}else{if(ab){if(T=="single"){l(Q[0]);k();Q.splice(0,Q.length);g.push(X)}else{var Z=Q.splice((V),1);g=g.concat(Z);if(Q.length==0){l(X);k()}else{l(X);g.push(X)}}}else{if(T=="single"){l(Q[0]);g.push(Q[0]);o(X);Y.push(X);Q[0]=X}else{Y.push(X);o(X);Q.push(X)}}}}if(Y.length>0){w(Y)}if(g.length>0){p(g)}}};U.touchstart=U.mouseup;function w(V){var Y=[];for(var X=0,g=V.length;X<g;X++){var aa=[],Z=V[X].__data__;if(Z.val instanceof Array){for(var W=0,m=Z.val.length;W<m;W++){aa.push({val:Z.val[W],ctx:Z.ctx[W]})}}else{aa.push({val:V[X].__data__.val,ctx:V[X].__data__.ctx})}Y.push({target:V[X],data:aa})}x.selectData({name:c.Module.Event.SelectData.name,data:Y})}function p(V){var X=[];for(var Y=0,g=V.length;Y<g;Y++){var aa=[],Z=V[Y].__data__;if(Z.val instanceof Array){for(var W=0,m=Z.val.length;W<m;W++){aa.push({val:Z.val[W],ctx:Z.ctx[W]})}}else{aa.push({val:V[Y].__data__.val,ctx:V[Y].__data__.ctx})}X.push({target:V[Y],data:aa})}x.deselectData({name:c.Module.Event.DeSelectData.name,data:X})}function G(){T=D.selectability.mode;u=D.supportedEventNames;F=D.enableMouseMove;i=D.enableMouseOver;A=D.enableMouseOut;E=D.supportLassoEvent;v=D.holdSelection;z=D.preserveSelectionWhenDragging}s.properties=function(g){if(!arguments.length){return D}d.extend(true,D,g);q.properties(D);G()};s.module=function(g){if(!arguments.length){return O}I();O=g,R=O.parent();q.module(g);return s};return s}});sap.riv.module({qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.controller.interaction",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Base",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.controller.interaction",name:"selection",base:"sap.viz.modules.controller.base",description:"Settings for the interactions of the chart.",properties:{selectability:{name:"selectability",supportedValueType:"Object",supportedValues:{mode:{name:"mode",supportedValueType:"List",supportedValues:["single","multiple","none"],defaultValue:"multiple",description:"Set the selection mode. Single means you only can select one at the same time. Multiple means you can select several ones. None means you can not select anything. "},selectWithCtrlKey:{name:"selectWithCtrlKey",supportedValueType:"Boolean",defaultValue:false,description:"Set whether lasso selection needs ctrl key pressed.",isExported:false}},description:"Settings for selectability."},supportedEventNames:{name:"supportedEventNames",supportedValueType:"StringArray",supportedValues:["mouseup","mousemove","mouseout","mouseover","touchstart"],defaultValue:["mouseup","mousemove","mouseout","mouseover","touchstart"],description:"Set supported event names.",isExported:false},enableMouseMove:{name:"enableMouseMove",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse move is enabled.",isExported:false},enableMouseOver:{name:"enableMouseOver",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse over is enabled.",isExported:false},enableMouseOut:{name:"enableMouseOut",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse out is enabled.",isExported:false},supportLassoEvent:{name:"supportLassoEvent",supportedValueType:"Boolean",defaultValue:true,description:"Set whether support lasso event is enabled.",isExported:false},holdSelection:{name:"holdSelection",supportedValueType:"Boolean",defaultValue:false,description:"Set whether hold selection is enabled.",isExported:false},preserveSelectionWhenDragging:{name:"preserveSelectionWhenDragging",supportedValueType:"Boolean",defaultValue:false,description:"Set whether preserve selection when dragging is enabled.",isExported:false}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.format.XCFormat",version:"4.0.1"},[{qname:"sap.viz.util.Objects",version:"4.0.1"}],function Setup(b){var c={format:function(e){return e},locale:function(){},DEFAULT_FORMAT_DATE_TIME:"",DEFAULT_FORMAT_TIME:"",DEFAULT_FORMAT_SHORT_DATE:"",DEFAULT_FORMAT_LONG_DATE:"",DEFAULT_FORMAT_NUMBER:"",DEFAULT_FORMAT_BOOLEAN:""},d=null,a="en";if(sap&&sap.common&&sap.common.globalization&&sap.common.globalization.NumericFormatManager){d=sap.common.globalization.NumericFormatManager;c=b.extend(true,c,{format:function(f,e){return d.formatToText(f,e,true)},locale:function(e){if(!arguments.length){return a}a=e;d.setPVL(a);c.DEFAULT_FORMAT_DATE_TIME=d.DEFAULT_FORMAT_DATE_TIME;c.DEFAULT_FORMAT_TIME=d.DEFAULT_FORMAT_TIME;c.DEFAULT_FORMAT_SHORT_DATE=d.DEFAULT_FORMAT_SHORT_DATE;c.DEFAULT_FORMAT_LONG_DATE=d.DEFAULT_FORMAT_LONG_DATE;c.DEFAULT_FORMAT_NUMBER=d.DEFAULT_FORMAT_NUMBER;c.DEFAULT_FORMAT_BOOLEAN=d.DEFAULT_FORMAT_BOOLEAN},DEFAULT_FORMAT_DATE_TIME:d.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:d.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:d.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:d.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:d.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:d.DEFAULT_FORMAT_BOOLEAN})}return c});sap.riv.module({qname:"sap.viz.format.FormatManager",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.format.XCFormat",version:"4.0.1"},{qname:"sap.viz.Locale",version:"4.0.1"}],function Setup(b,f,g){var a="en",c=f,d=null;var e={constructor:function(){return},apply:function(h){a=h;c.locale(a)},format:function(i,h){return c.format(i,h)},formatFunc:function(h){if(!arguments.length){return c}c=h},DEFAULT_FORMAT_DATE_TIME:c.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:c.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:c.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:c.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:c.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:c.DEFAULT_FORMAT_BOOLEAN};g.addListener({fn:function(h){e.apply(h)},scope:e});return e});sap.riv.module({qname:"sap.viz.modules.tooltip",version:"4.0.1"},[{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"}],function Setup(b,c,f,a,g,d){var e=function(w,I){var Z={imageMode:false,imagePalette:[],radio:1};var ak={singleMeasure:{label:{font:"bold 11px sans-serif",color:"#333333"},value:{font:"bold 14px sans-serif",color:"#333333"},padding:{vertical:9,horizontal:10}},multipleMeasure:{label:{font:"12px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},value:{font:"12px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},padding:{vertical:8,horizontal:10,inline:6,symbolGap:7,defaultSpace:8}},title:{color:"#333333",font:"bold 13px 'Open Sans', Arial, Helvetica, sans-serif",formatString:""},footer:{label:{font:"bold 10.5px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},value:{font:"10.5px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},padding:{inline:6}},valueFormat:[],labelFormat:[],maxDimensionLabelWidth:150,maxMeasureLabelWidth:80};var L={padding:5,radius:4,markerWidth:12,markerHeight:8,borderWidth:1,separationLineBorderWidth:1};var ab={backgroundColor:"#ffffff",borderColor:"#000000",separationLineColor:["#ffffff","#8a8a8a","#ffffff"],separationLineSingleColor:"#AAAAAA",guideLineColor:"#AAAAAA"};var i={arcA:"A",lineToA:"L",moveToA:"M",closePath:"z"};var O={symbolSize:8,hasSymbol:false};var v="tooltipsymbol",ad="v-body-title tooltipparagraphtitle",p="v-body-label tooltipparagraphlabel",X="v-body-value tooltipparagraphvalue",ah="v-footer-label tooltipfooterlabel",m="v-footer-value tooltipfootervalue",j="v-background",k="v-separationline";var W={bodyName:"v-body",footerName:"v-footer"};var ae=null,J=null;var al=0,M=0,aj=0,H=I.effectManager,x={width:200,height:100},o={width:160,height:70,x:0,y:0},P={},U=null,Y={isTruncated:false,currentFooterIndex:-1,currentBodyIndex:-1,defaultValue:"...",font:"bold 20px Arial",color:"#000000"};var R=d.get("IDS_ISNOVALUE");var am=function(ao){if(ao===null||ao===undefined){return R}else{return ao}};function af(){Y.isTruncated=false;Y.currentFooterIndex=-1;Y.currentBodyIndex=-1}function T(ao){ae=d3.select(ao).append("svg").style("position","absolute").attr("pointer-events","none").attr("width","0").attr("height",0).attr("class","v-m-tooltip");return T}function z(aC,aN){var aw=ak.multipleMeasure.padding.inline,az=ak.multipleMeasure.padding.vertical,aM=ak.multipleMeasure.label.font,aK=ak.multipleMeasure.value.font,aF=ak.footer.padding.inline,aI=ak.footer.label.font,aB=ak.title.font;var aD=0,ao=aN.body,aE=aN.footer;if(ao&&ao.length>0){aD=az;if(aE&&aE.length>0){var av=0;if(ao[0].name!==null){av=N(aC,ao[0].name,aB).height+aw+N(aC,Y.defaultValue,Y.font).height}if(aE[0].label!==null){var aA=N(aC,aE[0].label,aI);aD+=az*3;aD+=(aE.length*aA.height+aF*(aE.length-1));aD+=av;if(aD>x.height){Y.isTruncated=true;Y.currentBodyIndex=0;var au=0;while(aD>x.height){aD-=aA.height;aD-=aF;au++}Y.currentFooterIndex=aE.length-au-1;return aD}aD-=av}}else{aD+=az}var aG=0,aL=0;for(var aH=0;aH<ao.length;aH++){aG++;aL+=ao[aH].val.length}if(ao[0].name!==null){aD+=(aG*N(aC,ao[0].name,aB).height)}var aJ=0;if(ao[0].val.length>0){if(ao[0].val[0].label!==null){aJ=N(aC,ao[0].val[0].label,aM).height}if(ao[0].val[0].value!==null){var ap=N(aC,ao[0].val[0].value,aK).height;if(ap>aJ){aJ=ap}}aD+=(aL*aJ)}aD+=(aw*(aG+aL-1));if(aD>x.height){Y.isTruncated=true;var ar=0;while(aD>x.height){aD-=aJ;aD-=aw;ar++}Y.currentBodyIndex=aG+aL-ar-2;var at=N(aC,Y.defaultValue,Y.font);return aD+(at.height-aJ)}}else{if(aE&&aE.length>0){if(aE[0].label!==null){var ay=N(aC,aE[0].label,aI);aD+=az;aD+=(aE.length*ay.height+aF*(aE.length-1));if(aD>x.height){Y.isTruncated=true;var ax=0;while(aD>x.height){aD-=ay.height;aD-=aF;ax++}Y.currentFooterIndex=aE.length-ax-1;var aq=N(aC,Y.defaultValue,Y.font);return aD+(aq.height-ay.height)}}}}return aD}function ac(av,au){var at=0,ap=ak.multipleMeasure.padding.horizontal,aq=ak.multipleMeasure.padding.symbolGap,ao=ak.multipleMeasure.padding.defaultSpace,ar=O.symbolSize;at=aj+(ap*2)+ao;if(O.hasSymbol){at+=ar+aq}return at}function C(ao,at){var aw=0,av=0,ap=at.body,az=at.footer;if(ap){for(var au=0;au<ap.length;au++){if(ap[au].name!==null){av=N(ao,ap[au].name,ak.title.font).width;if(av>aw){aw=av}}var ay=ap[au].val;if(ay){if(ay.length===1&&(ay[0].value!==null)){var ax=N(ao,ay[0].value,ak.multipleMeasure.value.font);O.symbolSize=ax.height*0.8;O.hasSymbol=true;if(ax.width>aw){aw=ax.width}}else{if(ay.length>1){if(ay[0].label!==null){if(ay[0].shape!==null&&ay[0].color!==null){O.symbolSize=N(ao,ay[0].label,ak.multipleMeasure.label.font).height*0.8;O.hasSymbol=true}}if(ay[0].value!==null){if(ay[0].shape!==null&&ay[0].color!==null){O.symbolSize=N(ao,ay[0].value,ak.multipleMeasure.value.font).height*0.8;O.hasSymbol=true}}for(var ar=0;ar<ay.length;ar++){if((ay[ar].label!==null)&&(ay[ar].value!==null)){av=N(ao,ay[ar].label,ak.multipleMeasure.label.font).width+N(ao,ay[ar].value,ak.multipleMeasure.value.font).width;if(av>aw){aw=av}}else{if(ay[ar].label!==null){av=N(ao,ay[ar].label,ak.multipleMeasure.label.font).width;if(av>aw){aw=av}}else{if(ay[ar].value!==null){av=N(ao,ay[ar].value,ak.multipleMeasure.value.font).width;if(av>aw){aw=av}}}}}}}}}}if(az){for(var aq=0;aq<az.length;aq++){var aA=az[aq];if(aA.label&&aA.value){av=N(ao,aA.label,ak.footer.label.font).width+N(ao,aA.value,ak.footer.value.font).width;if(av>aw){aw=av}}}}return aw}function u(ar,aq){var ap="",at,av,au;switch(ar){case"circle":at=aq/2;ap="M0,"+at+"A"+at+","+at+" 0 1,1 0,"+(-at)+"A"+at+","+at+" 0 1,1 0,"+at+"Z";break;case"cross":av=aq/6;au=aq/6;ap="M"+-3*av+","+-au+"H"+-av+"V"+-3*au+"H"+av+"V"+-au+"H"+3*av+"V"+au+"H"+av+"V"+3*au+"H"+-av+"V"+au+"H"+-3*av+"Z";break;case"triangle-down":av=aq/2;au=aq/2;ap="M0,"+au+"L"+av+","+-au+" "+-av+","+-au+"Z";break;case"triangle-up":av=aq/2;au=aq/2;ap="M0,"+-au+"L"+av+","+au+" "+-av+","+au+"Z";break;case"diamond":av=aq/2;au=aq/2;ap="M0,"+-au+"L"+av+",0 0,"+au+" "+-av+",0Z";break;case"squareWithRadius":at=aq/2;var ao=at-3;ap="M0,"+-at+"L"+-ao+","+-at+"Q"+-at+","+-at+" "+-at+","+-ao+"L"+-at+","+ao+"Q"+-at+","+at+" "+-ao+","+at+"L"+ao+","+at+"Q"+at+","+at+" "+at+","+ao+"L"+at+","+-ao+"Q"+at+","+-at+" "+ao+","+-at+"Z";break;case"square":at=aq/2;ap="M"+-at+","+-at+"L"+at+","+-at+" "+at+","+at+" "+-at+","+at+"Z";break;case"triangle-left":av=aq/2;au=aq/2;ap="M"+-av+",0L"+av+","+au+" "+av+","+-au+"Z";break;case"triangle-right":av=aq/2;au=aq/2;ap="M"+av+",0L"+-av+","+au+" "+-av+","+-au+"Z";break;case"intersection":av=aq/2;au=aq/2;ap="M"+av+","+au+" "+av/3+",0 "+av+","+-au+" "+av/2+","+-au+" 0,"+-au/3+" "+-av/2+","+-au+" "+-av+","+-au+" "+-av/3+",0 "+-av+","+au+" "+-av/2+","+au+" 0,"+au/3+" "+av/2+","+au;break}return ap}var A=function(ap){var aq="";var ao=Z.imagePalette.length;if(ao>0){aq=Z.imagePalette[ap%ao]}return aq};function t(at,ap,ax,az,ar,aq,au){if(!Z.imageMode){var ay={drawingEffect:P.drawingEffect,fillColor:ar,graphType:az,direction:"vertical"};var aw=H.register(ay);ap.append("path").attr("d",u(az,aq)).attr("transform","translate("+ax.x+","+ax.y+")").attr("fill",aw).attr("class",au)}else{var av=ap.append("g").attr("transform","translate("+(ax.x-aq/2)+","+(ax.y-aq/2)+")");var ao=av.select("image");if(ao.empty()){ao=av.append("image")}ao.attr("xlink:xlink:href",A(at)).attr("width",aq).attr("height",aq)}}function K(a5,aQ,bb,bh){var aw=aQ.x,aX=aQ.y-L.radius/2;var aO=L.markerWidth,aq=L.markerHeight;if(bh==="left"){aw+=aq}if(bh==="top"){aX+=aq}var ap=ak.multipleMeasure.padding.horizontal,aB=ak.multipleMeasure.padding.vertical,aD=ak.multipleMeasure.padding.inline,ay=ak.multipleMeasure.padding.symbolGap,aI=ak.multipleMeasure.padding.defaultSpace;var bf=O.symbolSize,ba=O.hasSymbol;var aS=ak.title.color,a0=ak.title.font;var aU=ak.multipleMeasure.label.font,av=ak.multipleMeasure.label.color,az=ak.singleMeasure.label.font,aL=ak.singleMeasure.label.color;var ar=ak.multipleMeasure.value.font,aJ=ak.multipleMeasure.value.color,aW=ak.singleMeasure.value.font,a1=ak.singleMeasure.value.color;var a7=ak.footer.padding.inline,bc=ak.footer.label.font,aG=ak.footer.value.font,aK=ak.footer.label.color,aZ=ak.footer.value.color;var aT=bb.body,aV=bb.footer;var ax=-1,aP=-1;var aR={x:0,y:0};var a4=false;if(aT){var au=a5.append("g").attr("class","v-body");for(var a9=0;a9<aT.length;a9++){if(a4){break}var aC=aT[a9];if(aC.name){var bg=N(au,aC.name,a0);var at=bg.height;aR.x=aw+ap;if(a9===0){aR.y=aX+at+aB}else{aR.y+=(aX+at+aD)}s(au,aR,aC.name,aS,a0,ad);ax++;if(Y.isTruncated&&ax===Y.currentBodyIndex){var aH=N(au,Y.defaultValue,Y.font);aR.x=aw+(al-aH.width-ap);aR.y+=(aD+aH.height);s(au,aR,Y.defaultValue,Y.color,Y.font,X);break}}if(aC.val.length>0){if(aC.val.length>1){var a3=null,aM=null,aY=null;for(var a8=0;a8<aC.val.length;a8++){if((aC.val[a8].shape!==null)&&(aC.val[a8].color!==null)&&(aC.val[a8].label!==null)&&(aC.val[a8].value!==null)){a3=N(au,aC.val[a8].label,aU);aM=N(au,aC.val[a8].value,ar);aY=(a3.height>=aM.height)?a3.height:aM.heigth;aR.x=aw+ap+bf/2;aR.y+=(aD+aY);t(a9*aC.val.length+a8,au,{x:aR.x,y:(aR.y-bf/2)},aC.val[a8].shape,aC.val[a8].color,bf,v);aR.x=aw+ap+bf+ay;s(au,aR,aC.val[a8].label,av,aU,p);aR.x=aw+(al-aM.width-ap);s(au,aR,aC.val[a8].value,aJ,ar,X)}else{if((aC.val[a8].shape!==null)&&(aC.val[a8].color!==null)&&(aC.val[a8].label!==null)){a3=N(au,aC.val[a8].label,aU);aR.x=aw+ap+bf/2;aR.y+=(aD+a3.height);t(a9*aC.val.length+a8,au,{x:aR.x,y:(aR.y-bf/2)},aC.val[a8].shape,aC.val[a8].color,bf,v);aR.x=aw+ap+bf+ay;s(au,aR,aC.val[a8].label,av,aU,p)}else{if((aC.val[a8].shape!==null)&&(aC.val[a8].color!==null)&&(aC.val[a8].value!==null)){aM=N(au,aC.val[a8].value,ar);aR.x=aw+ap+bf/2;aR.y+=(aD+aM.height);t(a9*aC.val.length+a8,au,{x:aR.x,y:(aR.y-bf/2)},aC.val[a8].shape,aC.val[a8].color,bf,v);aR.x=aw+al-aM.width-ap;s(au,aR,aC.val[a8].value,aJ,ar,X)}else{if((aC.val[a8].label!==null)&&(aC.val[a8].value!==null)){a3=N(au,aC.val[a8].label,aU);aM=N(au,aC.val[a8].value,ar);aY=(a3.height>=aM.height)?a3.height:aM.heigth;aR.x=aw+ap;aR.y+=(aD+aY);s(au,aR,aC.val[a8].label,av,aU,p);aR.x=aw+(al-aM.width-ap);s(au,aR,aC.val[a8].value,aJ,ar,X)}}}}ax++;if(Y.isTruncated&&ax===Y.currentBodyIndex){var aF=N(au,Y.defaultValue,Y.font);aR.x=aw+(al-aF.width-ap);aR.y+=(aD+aF.height);s(au,aR,Y.defaultValue,Y.color,Y.font,X);a4=true;break}}}else{if(aC.val.length===1){if(aC.val[0].value!==null){var be=N(au,aC.val[0].value,ar);aR.y+=(aD+be.height);if(P.chartType==="heatmap"||P.chartType==="treemap"||P.chartType==="tagcloud"||P.chartType==="geo"||P.chartType==="mekko"){aR.x=aw+(al-be.width-ap)}else{if(aC.val[0].shape!==null&&aC.val[0].color!==null){aR.x=aw+ap+bf/2;t(a9*aC.val.length+0,au,{x:aR.x,y:(aR.y-bf/2)},aC.val[0].shape,aC.val[0].color,bf,v);aR.x=aw+(al-be.width-ap)}}s(au,aR,aC.val[0].value,aJ,ar,X);ax++;if(Y.isTruncated&&ax===Y.currentBodyIndex){var aE=N(au,Y.defaultValue,ar);aR.x=aw+(al-aE.width-ap);aR.y+=(aD+aE.height);s(au,aR,Y.defaultValue,Y.color,Y.font,X);break}}}}}}}if(aV&&aV.length>0){var ao={x:aw,y:aR.y+aB};var a2={x:aw+al,y:aR.y+aB};var bd=a5.append("g").attr("class","v-footer");a5.append("line").attr("class",k).attr("x1",ao.x+1).attr("y1",ao.y).attr("x2",a2.x-1).attr("y2",a2.y).attr("stroke",ab.separationLineSingleColor).attr("stroke-width",L.separationLineBorderWidth).style("shape-rendering","crispEdges");aR.y+=(aB*2);for(var a6=0;a6<aV.length;a6++){if(a.isExist(aV[a6].label)&&a.isExist(aV[a6].value)){var aN=N(bd,aV[a6].label,bc),aA=N(bd,aV[a6].value,aG);aR.x=aw+ap;if(a6>0){aR.y+=a7}aR.y+=(aN.height);s(bd,aR,aV[a6].label,aK,bc,ah);aR.x=aw+(al-aA.width-ap);s(bd,aR,aV[a6].value,aZ,aG,m);aP++;if(Y.isTruncated&&aP===Y.currentFooterIndex){break}}}}}var ai=function(ax){if(a.isExist(P.formatString)){var ay=ax.body,av;var aq=0,ap=0,aC;var at=P.formatString,aA;if(a.isExist(ay)){for(var aw=0,az=ay.length;aw<az;aw++){av=ay[aw];if(a.isPlainObject(av.name)){if(a.isExist(at)){aA=at[av.name.ctx.path.mg];if(a.isExist(aA)){aC=av.name.ctx.path.mi>=aA.length?aA.length-1:av.name.ctx.path.mi;for(var au=0,aD=av.val.length;au<aD;au++){av.val[au].value=f.format(av.val[au].value,aA[aC])}}}}else{var ao;if(a.isExist(av.val[0].valueAxis)){ao=av.val[0].valueAxis}else{ao=0}aA=at[ao];if(a.isExist(aA)){aC=0;if(ao===0){aC=aq>=aA.length?aA.length-1:aq;aq++}else{if(ao===1){aC=ap>=aA.length?aA.length-1:ap;ap++}}for(var ar=0,aB=av.val.length;ar<aB;ar++){av.val[ar].value=f.format(av.val[ar].value,aA[aC])}}}}}}return ax};T.imageInfo=function(ao){if(!arguments.length){return Z}Z=ao;return T};T.showTooltip=function(ap){var ar=g.extend(true,{},ap.data);ar=ai(ar);if(J!==null){J.remove()}if(P.visible){if(ar.plotArea){T.plotArea(ar.plotArea)}U=P.orientation;J=ae.append("svg:g");ag();aj=C(ae,ar);al=ac(J,ar);M=z(J,ar);var ao=al,at=M;if(U==="top"||U==="bottom"){at+=L.markerHeight}if(U==="left"||U==="right"){ao+=L.markerHeight}ae.attr("width",ao+L.padding).attr("height",at+L.padding);var aq=aa(ar.point,o,x,al,M);D(J,{x:0,y:0,absoluteMarkerOffset:aq.absoluteMarkerOffset},al,M,U);K(J,{x:0,y:0},ar,U);ae.style("left",aq.x+"px").style("top",aq.y+"px");af()}};T.hideTooltip=function(){if(J!==null){J.remove();ae.attr("width",0).attr("height",0);J=null}};function q(ao){if(ao.labels){O.symbolSize=N(ae,ao.labels[0].label,ak.multipleMeasure.label.font).height}}function aa(aG,aq,aM,aJ,aD){var ap={x:0,y:0,absoluteMarkerOffset:0};var ar=P.chartType;var aF=L.markerHeight,aI=L.markerWidth;var aA=0,ay=0,aH=0,ao=0;if(P.chartType===undefined){ap.x=aG.x;ap.y=aG.y-aD/2}else{if(ar==="heatmap"||ar==="treemap"||ar==="tagcloud"){if(U==="bottom"){var aL=aM.height-aG.y+aD+aF;if(aL>aM.height){U="top";ap.y=aG.y}else{ap.y=aG.y-aD-aF}}var aP;if(ar==="heatmap"||ar==="treemap"||ar==="tagcloud"){aP=Q(aG,aq,aM,aJ)}else{aP=n(aG,aq,aM,aJ)}ap.x=aP.x;ap.absoluteMarkerOffset=aP.absoluteMarkerOffset}else{if(ar==="line"||ar==="verticalboxplot"||ar==="verticalbar"){if(U==="left"){var aN=aG.x+aJ+aF;if(aN>aM.width){U="right";ap.x=aG.x-aJ-aF}else{ap.x=aG.x}}if(aD/2<aq.y){ap.y=aq.y-(aD-aI)/2}else{ap.y=0}}else{if(ar==="radar"){aA=0;ay=0;aH=0;ao=0;var ax=0,aw=0;U=aG.orientation;ap.x=aG.x;ap.y=aG.y-aD/2;if(aG.orientation==="right"){ap.x-=(aJ+aF)}if(aG.orientation==="left"){aA=aG.x+aJ+aF-aM.width}if(aG.orientation==="right"){ay=aG.x-aJ-aF}aH=aG.y-aD/2;ao=aG.y+aD/2-aM.height;if(aA<=0&&ay>=0&&aH>=0&&ao<=0){return ap}if(aA>0&&aA>aG.range.x){return ap}if(ay<0&&Math.abs(ay)>aG.range.x){return ap}if(aH<0&&Math.abs(aH)>aG.range.y){return ap}if(ao>0&&ao>aG.range.y){return ap}var aK=aG.angle*180/Math.PI,az=aG.angle;if(aK>=0){if(aK===0&&aA>0){ap.x-=aA}else{if(aK===90&&aH<0){ap.y-=aH}else{if(aK===180&&ay<0){ap.x-=ay}else{if(aK>0&&aK<90){if(aH<0&&aA>0){var av=Math.abs(aH);if(av>=aA){aw=av;ax=aw/Math.tan(az)}else{ax=aA;aw=ax*Math.tan(az)}}else{if(aH<0&&aA<=0){aw=Math.abs(aH);ax=aw/Math.tan(az)}else{if(aH>=0&&aA>0){ax=aA;aw=ax*Math.tan(az)}}}ap.x-=ax;ap.y+=aw}else{if(aK>90&&aK<180){if(aH<0&&ay<0){var au=Math.abs(aH),aE=Math.abs(ay);if(au>=aE){aw=au;ax=aw/Math.tan(Math.PI-az)}else{ax=aE;aw=ax*Math.tan(Math.PI-az)}}else{if(aH<0&&ay>=0){aw=Math.abs(aH);ax=aw/Math.tan(Math.PI-az)}else{if(aH>=0&&ay<0){ax=Math.abs(ay);aw=ax*Math.tan(Math.PI-az)}}}ap.x+=ax;ap.y+=aw}}}}}}else{var aO=Math.abs(aK);if(aO===0&&aA>0){ap.x-=aA}else{if(aO===90&&ao>0){ap.y-=ao}else{if(aO===180&&ay<0){ap.x-=ay}else{if(aO>0&&aO<90){if(ao>0&&aA>0){if(ao>=aA){aw=ao;ax=aw/Math.tan(Math.abs(az))}else{ax=aA;aw=ax*Math.tan(Math.abs(az))}}else{if(ao>0&&aA<=0){aw=ao;ax=aw/Math.tan(Math.abs(az))}else{if(ao<=0&&aA>0){ax=aA;aw=ax*Math.tan(Math.abs(az))}}}ap.x-=ax;ap.y-=aw}else{if(aO>90&&aO<180){if(ao>0&&ay<0){var aC=Math.abs(ay);if(ao>=aC){aw=ao;ax=aw/Math.tan(Math.PI-Math.abs(az))}else{ax=aC;aw=ax*Math.tan(Math.PI-Math.abs(az))}}else{if(ao>0&&ay>=0){aw=ao;ax=aw/Math.tan(Math.PI-Math.abs(az))}else{if(ao<=0&&ay<0){ax=Math.abs(ay);aw=ax*Math.tan(Math.PI-Math.abs(az))}}}ap.x+=ax;ap.y-=aw}}}}}}}else{if(ar==="geo"&&U==="left"){aH=aG.y-aD/2;ao=aG.y+aD/2-aM.height;ap.y=aH;if(aq.x+aq.width+aJ-aF>aM.width){ap.x=aq.x-aq.width-aJ;U="right"}else{ap.x=aq.x+aq.width-aF}if(aH<0){ap.y=0;ap.absoluteMarkerOffset=aH}if(ao>0){ap.y=aM.height-aD;ap.absoluteMarkerOffset=ao}}else{if(P.orientation==="left"){aA=aq.x+aq.width+aJ+aF-aM.width;aH=aG.y-aD/2;ao=aG.y+aD/2-aM.height;ap.y=aG.y-aD/2;if(aA>0){ap.x=aM.width-aF-aJ}else{ap.x=aq.x+aq.width-aF}if(aH<0){ap.y=0;ap.absoluteMarkerOffset=aH}if(ao>0){ap.y=aM.height-aD;ap.absoluteMarkerOffset=ao}}else{if(P.orientation==="bottom"){var aB=aq.y-aD;if(aB<0){ap.y=0}else{ap.y=aq.y-aD}var at;if(ar==="heatmap"||ar==="treemap"||ar==="tagcloud"){at=Q(aG,aq,aM,aJ)}else{at=n(aG,aq,aM,aJ)}ap.x=at.x;ap.absoluteMarkerOffset=at.absoluteMarkerOffset}}}}}}}return ap}function n(ao,au,aq,at){var av={x:0,absoluteMarkerOffset:0};var ap=at/2-(ao.x-au.x)+au.width;var ar=ao.x-au.x+at/2;if(ap>aq.width){av.x=au.x;av.absoluteMarkerOffset=ao.x-au.x-at/2}else{if(ar>aq.width){av.x=au.x+(au.width-at);av.absoluteMarkerOffset=au.width-(ao.x-au.x)-at/2}else{av.x=ao.x-at/2;av.absoluteMarkerOffset=0}}return av}function Q(ao,au,aq,at){var av={x:0,absoluteMarkerOffset:0};var ap=at-(ao.x-au.x)+au.width;var ar=ao.x-au.x+at;if(ap>aq.width){av.x=au.x;av.absoluteMarkerOffset=ao.x-au.x-at/2}else{if(ar>aq.width){av.x=au.x+(au.width-at);if(av.x+at>au.width){av.absoluteMarkerOffset=ao.x-au.x-au.width+at/2}else{av.absoluteMarkerOffset=au.width-(ao.x-au.x)-at/2}}else{av.x=ao.x-at/2;av.absoluteMarkerOffset=0}}return av}function l(ao,aq,ap,au){var at={y:0,absoluteMarkerOffset:0};var av=aq.height+(au/2-(ao.y-aq.y));var ar=ao.y-aq.y+au/2;if(av>ap.height){at.y=aq.y;at.absoluteMarkerOffset=ao.y-aq.y-au/2}else{if(ar>ap.height){at.y=aq.y+aq.height-au;at.absoluteMarkerOffset=ao.y-(aq.height-au)-aq.y-au/2}else{at.y=ao.y-au/2;at.absoluteMarkerOffset=0}}return at}function D(aq,aA,ar,aD,ay){var az=aA.x,aF=aA.y,av=aA.absoluteMarkerOffset,ax=L.radius,au=L.markerWidth,aB=L.markerHeight;var ao=" ";var at=i.lineToA,aC=i.moveToA,ap=i.arcA,aw=i.closePath;if(ay==="left"){az+=aB}if(ay==="top"){aF+=aB}var aE=aC+ao+az+ao+(aF+ax)+ao;if(ay==="left"){aE+=at+ao+az+ao+(aF+aD/2+av-au/2)+ao;aE+=at+ao+(az-aB)+ao+(aF+aD/2+av)+ao;aE+=at+ao+az+ao+(aF+aD/2+av+au/2)+ao}aE+=at+az+ao+(aF+aD-ax)+ao;aE+=ap+ao+ax+ao+ax+ao+"0"+ao+"0"+ao+"0"+ao+(az+ax)+ao+(aF+aD)+ao;if(ay==="bottom"){aE+=at+ao+(az+ar/2+av-au/2)+ao+(aF+aD)+ao;aE+=at+ao+(az+ar/2+av)+ao+(aF+aD+aB)+ao;aE+=at+ao+(az+ar/2+av+au/2)+ao+(aF+aD)+ao}aE+=at+ao+(az+ar-ax)+ao+(aF+aD)+ao;aE+=ao+ap+ao+ax+ao+ax+ao+"0"+ao+"0"+ao+"0"+ao+(az+ar)+ao+(aF+aD-ax)+ao;if(ay==="right"){aE+=at+ao+(az+ar)+ao+(aF+aD/2+av+au/2)+ao;aE+=at+ao+(az+ar+aB)+ao+(aF+aD/2-av)+ao;aE+=at+ao+(az+ar)+ao+(aF+aD/2+av-au/2)+ao}aE+=at+ao+(az+ar)+ao+(aF+ax)+ao;aE+=ao+ap+ao+ax+ao+ax+ao+"0"+ao+"0"+ao+"0"+ao+(az+ar-ax)+ao+aF+ao;if(ay==="top"){aE+=at+ao+(az+ar/2+av+au/2)+ao+aF+ao;aE+=at+ao+(az+ar/2+av)+ao+(aF-aB)+ao;aE+=at+ao+(az+ar/2+av-au/2)+ao+aF+ao}aE+=at+ao+(az+ax)+ao+aF+ao;aE+=ap+ao+ax+ao+ax+ao+"0"+ao+"0"+ao+"0"+ao+az+ao+(aF+ax)+ao;aE+=aw;aq.append("path").attr("d",aE).attr("class",j).attr("fill",ab.backgroundColor).attr("stroke",ab.borderColor).attr("stroke-width",L.borderWidth).style("-webkit-svg-shadow","3px 3px 8px rgba(0, 0, 0, 0.3)")}function F(aq){var ap;if(aq.info){var ao=aq.info.customlabel;if(ao){if(ao.type==="url"){ap=aq.val}else{if(ao.type==="string"){ap=ao.val}}}else{ap=aq.val}}else{ap=aq.val}ap=am(ap);return ap}function E(ap){var ao=[];if(a.isPlainObject(ap)){ao.push(F(ap))}else{if(a.isArray(ap)){ap.forEach(function(aq,ar){ao.push(E(aq))},this)}else{ao.push(ap)}}return ao}function N(at,av,aq){var ao=E(av);var ar=ao.join("*");var ap=at.append("svg:text").attr("x",0).attr("y",0).attr("visibility","hidden").style("font",aq).text(ar);var au=ap.node().getBBox();ap.remove();return au}function S(au,at){var av=0,aw=0;if(at.title!==null){if(at.labels.length>0){var ar=N(au,at.title,ak.title.font);var aq=ar.width;for(var ap=0,ao=at.labels.length;ap<ao;ap++){aw=N(au,at.labels[ap].label,ak.multipleMeasure.label.font).width+N(au,at.labels[ap].value,ak.multipleMeasure.value.font).width;if(aw>aq){aq=aw}}av=aq}}else{av=N(au,at.labels[0].label,ak.singleMeasure.label.font).width;aw=N(au,at.labels[0].value,ak.singleMeasure.value.font).width;if(aw>av){av=aw}}return av}function V(aw,av){var au=0,at=O.symbolSize;var ap=ak.singleMeasure.padding.horizontal,aq=ak.multipleMeasure.padding.horizontal,ar=ak.multipleMeasure.padding.symbolGap,ao=ak.multipleMeasure.padding.defaultSpace;if(av.title!==null){au=aj+(aq*2)+ao;if(av.shapes&&av.colors){au+=at+ar}}else{au=aj+(ap*2)}return au}function G(aq,au){var av=ak.multipleMeasure.padding.inline,ap=ak.multipleMeasure.padding.vertical,aw=ak.singleMeasure.padding.vertical;var ar=ak.multipleMeasure.value.font,ao=ak.singleMeasure.value.font;var at=ak.title.font;var ax=0;if(au.title!==null){ax=(ap*3)+(av*(au.labels.length-1))+N(aq,au.title,at).height+N(aq,au.labels[0].value,ar).height*au.labels.length}else{ax=(aw*3)+N(aq,au.labels[0].value,ao).height}return ax}function B(ao){var ap=ao.append("svg:defs").append("svg:linearGradient").attr("id","tooltipGradient1").attr("x1","0%").attr("y1","0%").attr("x2","80%").attr("y2","0%").attr("x3","100%").attr("y3","0%");ap.append("svg:stop").attr("offset","30%").attr("style","stop-color:"+ab.separationLineColor[0]);ap.append("svg:stop").attr("offset","60%").attr("style","stop-color:"+ab.separationLineColor[1]);ap.append("svg:stop").attr("offset","100%").attr("style","stop-color:"+ab.separationLineColor[2])}function an(at,aw,ar,au,ap){var ao=d3.svg.symbol().type(au).size(ar*ar);var av={drawingEffect:P.drawingEffect,fillColor:ap,graphType:au,direction:"vertical"};var aq=H.register(av);at.append("path").attr("d",ao).attr("transform","translate("+aw.x+","+aw.y+")").attr("fill",aq)}function h(aq,at,ar,ao,ap){aq.append("text").attr("x",at.x).attr("y",at.y).attr("fill",ao).style("font",ap).text(ar)}function s(au,aw,av,ap,ar,aq){var ao=E(av);var at=ao.join("/");au.append("text").attr("x",aw.x).attr("y",aw.y).attr("fill",ap).style("font",ar).text(at).attr("class",aq)}function r(ap,aq,ao){}T.zone=function(ao){if(!arguments.length){return x}x=ao;return this};T.plotArea=function(ao){if(!arguments.length){return o}o=ao;return this};T.properties=function(ao){if(!arguments.length){return P}c.extend(true,P,ao);return this};function ag(){var ao;ao=I.styleManager.queryDefault("viz-tooltip-background");if(ao&&(ao.fill)&&(ab.backgroundColor!==ao.fill)){ab.backgroundColor=ao.fill}ao=I.styleManager.queryDefault("viz-tooltip-title");if(ao&&(ao.fill)&&(ak.title.color!==ao.fill)){ak.title.color=ao.fill}ao=I.styleManager.queryDefault("viz-tooltip-label");if(ao&&ao.fill){ak.singleMeasure.label.color=ao.fill;ak.multipleMeasure.label.color=ao.fill}ao=I.styleManager.queryDefault("viz-tooltip-value");if(ao&&ao.fill){ak.singleMeasure.value.color=ao.fill;ak.multipleMeasure.value.color=ao.fill}ao=I.styleManager.queryDefault("v-footer-label");if(ao&&ao.fill){ak.footer.label.color=ao.fill}ao=I.styleManager.queryDefault("v-footer-value");if(ao&&ao.fill){ak.footer.value.color=ao.fill}ao=I.styleManager.queryDefault("v-separationline");if(ao&&ao.fill){ab.separationLineSingleColor=ao.fill}}P=w.props(null);return T};return e});sap.riv.module({qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.tooltip",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.tooltip",type:b.Module.Type.Supplementary,name:"tooltip",description:"Settings for the tooltip that appears when the user hovers over a series or point.",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of tooltip."},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of Tooltip.",isExported:true},formatString:{name:"formatString",supportedValueType:"Two-Dimensions-Array",defaultValue:null,description:"Set format string of tooltip. As we may have dual axis with serveral measures, the first array is applied to primary axis and the second one is applied to the second one.If the length of format string list is less than the length of data series, the last format string in the list will be applied to exceeded data series."}},css:{".viz-tooltip-background.v-background":{description:"Define color for the tooltip background.",value:{fill:"#ffffff"}},".viz-tooltip-title.v-body-title":{description:"Define color for the title of tooltip body.",value:{fill:"#333333"}},".viz-tooltip-label.v-body-label":{description:"Define color for the label of tooltip body.",value:{fill:"#333333"}},".viz-tooltip-value.v-body-value":{description:"Define color for the value of tooltip body.",value:{fill:"#333333"}},".v-footer-label":{description:"Define color for the label of tooltip footer.",value:{fill:"#333333"}},".v-footer-value":{description:"Define color for the value of tooltip footer.",value:{fill:"#333333"}},".v-separationline":{description:"Define color for the value of tooltip separation line.",value:{stroke:"#AAAAAA"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},[],function Setup(){var b="v-bound";var a={drawBound:function(e,d,c){if(e.select("."+b).node()==null){e.insert("rect",":first-child").attr("class",b).attr("width",d).attr("height",c).attr("visibility","hidden")}else{e.select("."+b).attr("width",d).attr("height",c)}}};return a});sap.riv.module({qname:"sap.viz.modules.background",version:"4.0.1"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(d,a,b,c){return function(g,r){var k="v-background-border",i="viz-plot-background-border",n="v-background-body",q="viz-plot-background";var j=d.guid();var h=0,o=0;var m=r.effectManager,l,s;var e=new a("initialized");function f(w){s=w;if(l.visible){p();var v=s.select("#background-rect-"+j);if(v.empty()){v=s.append("svg:rect").attr("class",n+" "+q).attr("id","background-rect-"+j)}var u=m.register({graphType:"background",fillColor:l.style.body.fill,drawingEffect:l.drawingEffect,direction:l.direction});v.attr("x",0).attr("y",0).attr("width",h).attr("height",o).attr("style","fill:"+u);var x=[];if(l.border.left.visible){x.push({x1:0,y1:0,x2:0,y2:o})}if(l.border.right.visible){x.push({x1:h,y1:0,x2:h,y2:o})}if(l.border.top.visible){x.push({x1:0,y1:0,x2:h,y2:0})}if(l.border.bottom.visible){x.push({x1:0,y1:o,x2:h,y2:o})}var z=w.selectAll("."+k).data(x);z.enter().append("svg:line").attr("class",k+" "+i);z.exit().remove();z.attr("x1",function(A){return A.x1}).attr("y1",function(A){return A.y1}).attr("x2",function(A){return A.x2}).attr("y2",function(A){return A.y2});z.each(function(B){d3.select(this).attr("shape-rendering","crispEdges");for(var A in l.style.border){if(l.style.border.hasOwnProperty(A)){d3.select(this).attr(A,l.style.border[A])}}})}else{var t=s.node();while(t.hasChildNodes()){t.removeChild(t.firstChild)}}e.initialized();return f}f.properties=function(t){if(!arguments.length){return l}b.extend(true,l,t);return f};f.size=function(t){if(arguments.length===0){return{width:h,height:o}}h=t.width;o=t.height;return f};f.width=function(t){if(arguments.length===0){return h}h=t;return f};f.height=function(t){if(arguments.length===0){return o}o=t;return f};f.data=function(t){if(!arguments.length){return{}}return f};f.parent=function(){return null};f.dispatch=function(t){if(!arguments.length){return e}e=t;return f};function p(){if(!l.style){l.style={}}l.style.body=r.styleManager.query(n);if(!l.style.border){l.style.border=r.styleManager.queryDefault(k)}}l=g.props(null);return f}});sap.riv.module({qname:"sap.viz.modules.manifests.Background",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.background",version:"4.0.1"}],function Setup(e,c,d){var a={name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of background."};var b={id:"sap.viz.modules.background",type:c.Module.Type.Supplementary,name:"background",description:"Settings for the background for the outer chart area.",properties:{visible:a,border:{name:"border",description:"Settings for border property.",supportedValueType:"Object",supportedValues:{left:{name:"left",description:"Set left border property.",supportedValueType:"Object",supportedValues:{visible:a,},},right:{name:"right",description:"Set right border property.",supportedValueType:"Object",supportedValues:{visible:a,},},top:{name:"top",description:"Set top border property.",supportedValueType:"Object",supportedValues:{visible:a,},},bottom:{name:"bottom",description:"Set bottom border property.",supportedValueType:"Object",supportedValues:{visible:a,},},},},drawingEffect:{name:"drawingEffect",description:"Set drawing effect of background.",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",isExported:true,},direction:{name:"direction",description:"Set gradient direction of background, only taking effect when drawingEffect of background has been set to 'golossy'.",supportedValueType:"List",supportedValues:["horizontal","vertical"],defaultValue:"vertical",}},css:{".v-background-body.viz-plot-background":{description:"Define style for the plot background body.",value:{fill:"transparent",}},".v-background-border.viz-plot-background-border":{description:"Define style for the plot background border.",value:{stroke:"#d8d8d8","stroke-width":1,}},},configure:null,fn:d};e.register(b)});sap.riv.module({qname:"sap.viz.modules.threeD.Vector",version:"4.0.1"},[],function Setup(b){function a(){this.values=[];for(var d=0,c=arguments.length;d<c;d++){this.values.push(arguments[d])}}a.prototype.dotProduct=function(c){var f=c.dimension();if(f!==this.dimension()){throw new Error("The vectors to be dot-producted must have same dimension, but the dimension of this vector is "+this.dimension+" and another one is "+f+".")}var e=0;for(var d=0;d<f;d++){e+=this.value(d)*c.value(d)}return e};a.prototype.dimension=function(c){return this.values.length};a.prototype.value=function(c,e){if(arguments.length>=2){this.values[c]=e}return this.values[c]};return a});sap.riv.module({qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.1"},[{qname:"sap.viz.modules.threeD.Vector",version:"4.0.1"}],function Setup(a){function b(f,e,d,c){a.apply(this,arguments)}b.prototype=Object.create(a.prototype);return b});sap.riv.module({qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},[{qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.1"}],function Setup(e){var b=4;var a=b*b;function d(f){return f*Math.PI/180}var c=function(){var g=new Array(a);var f={unit:function(){for(var h=0;h<a;h++){g[h]=(h%(b+1)===0)?1:0}return f},value:function(k,j,h){var i=k*b+j;if(arguments.length>=3){g[i]=h;return f}return g[i]},row:function(j){var l=[];var k=j*b;for(var h=0;h<b;h++){l[h]=g[k+h]}return new e(l[0],l[1],l[2],l[3])},col:function(h){var k=[];for(var j=0;j<b;j++){k[j]=g[b*j+h]}return new e(k[0],k[1],k[2],k[3])},translate:function(i,h,j){return f.transform(c().value(0,3,i||0).value(1,3,h||0).value(2,3,j||0))},scale:function(i,h,j){return f.transform(c().value(0,0,i||0).value(1,1,h||0).value(2,2,j||0))},rotateX:function(j){var i=d(j);var h=Math.sin(i);var k=Math.cos(i);return f.transform(c().value(1,1,k).value(1,2,-h).value(2,1,h).value(2,2,k))},rotateY:function(j){var i=d(j);var h=Math.sin(i);var k=Math.cos(i);return f.transform(c().value(0,0,k).value(0,2,h).value(2,0,-h).value(2,2,k))},rotateZ:function(j){var i=d(j);var h=Math.sin(i);var k=Math.cos(i);return f.transform(c().value(0,0,k).value(0,1,-h).value(1,0,h).value(1,1,k))},transform:function(h){if(h){var o=[],p=[];for(var n=0;n<b;n++){o.push(h.row(n));p.push(f.col(n))}for(var n=0;n<b;n++){var q=n*b;for(var l=0;l<b;l++){var k=q+l;g[k]=o[n].dotProduct(p[l])}}}return f},clone:function(){var k=c();for(var l=0;l<b;l++){for(var h=0;h<b;h++){k.value(l,h,f.value(l,h))}}return k},projection:function(){return"matrix("+f.value(0,0)+","+f.value(1,0)+","+f.value(0,1)+","+f.value(1,1)+","+f.value(0,3)+","+f.value(1,3)+")"},translatedProjection:function(){return"translate("+this.value(0,3)+","+this.value(1,3)+")"},toString:function(){var j="";for(var h=0;h<a;h++){if(h%4!==0){j+=", "}j+=g[h];if((h-3)%4===0){j+="\n"}}return j}};return f.unit()};return c});sap.riv.module({qname:"sap.viz.util.NumberUtils",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(a){var b={isNoValue:function(c){return a.isNaN(c)}};return b});sap.riv.module({qname:"sap.viz.modules.threeD.Point",version:"4.0.1"},[{qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.1"}],function Setup(b){function a(c,e,d){this.x=c;this.y=e;this.z=d}a.prototype.transform=function(c){var d=new b(this.x,this.y,this.z,1);this.x=c.row(0).dotProduct(d);this.y=c.row(1).dotProduct(d);this.z=c.row(2).dotProduct(d);return this};return a});sap.riv.module({qname:"sap.viz.modules.axis.categoryAxisCore",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"}],function Setup(e,h,d,g,b,f,c,a){return function(){var F;var A;var p=6;var s=5;var C=1;var o="#d8d8d8";var D="viz-axis-label";var j=false;var I=null;var n={title:{visible:false,text:undefined,},gridline:{visible:false,color:o,showFirstLine:false,length:0,showLastLine:false,type:"line"},type:"value",visible:true,label:{visible:true,formatString:"",hideStrategy:""},position:"left",color:"#333333",shapeRendering:true,forceVerticalFont:false};var k={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",};var x=c(),i=null,N=null,J=null,z=null;var M=-1;l.spaceLimit=function(O){if(!arguments.length){return M}if(!j){M=O}return l};var B=function(){var Q=[];var R=A.length>1?true:false;for(var P=0;P<A.length;P++){var O=A[P].domain;var U=A[P].range;var S=v(O,U);var T=S.isVertical;if(F=="left"||F=="right"){A[P].labelsToDraw=t(O,U,R)}else{A[P].labelsToDraw=E(O,U,T,R)}if(P===0){Q.push(A[P])}else{if(A[P].labelsToDraw.length==A[P].domain.length){Q.push(A[P])}else{if(A[P].labelsToDraw.length>0&&b.isExist(A.noEqual)&&A.noEqual===true){Q.push(A[P])}}}}return Q};var H=function(T,Q,S,P,R){var O=T.append("line").attr("y1",S).attr("y2",R).attr("x1",Q).attr("x2",P).attr("stroke",n.gridline.color).attr("stroke-width",n.gridline.size).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if(n.gridline.type=="dotted"){O.attr("stroke-dasharray","3, 2")}};function l(Y){var aj=B();if(M>=0){var O=[];var at=l.getPreferredSize().spacings;var ag=M;for(var av=0;av<at.length;av++){if(ag>=at[av]){O.push(aj[av]);ag-=at[av]}else{break}}if(O.length==0&&aj.length>0){var au=[];for(var av=0;av<aj[0].domain.length;av++){au.push("")}O.push({domain:au,range:aj[0].range})}aj=O}var X=aj.length>1?true:false;if(F=="left"){var Q=0;var W=0;for(var ai=0;ai<aj.length;ai++,Q++){if(!n.label.visible&&ai!=(aj.length-1)){continue}var an=aj[ai].domain;var S=aj[ai].range;var ap=w(an,S);var ak=ap.maxLabelTextWidth;if(!n.label.visible){ak=0}if(ai==(aj.length-1)){if(n.gridline.showFirstLine){H(Y,W+(ak+2*p),S[S.length-1][1],W+(ak+2*p)+n.gridline.length,S[S.length-1][1])}if(n.gridline.showLastLine){H(Y,W+(ak+2*p),S[0][0],W+(ak+2*p)+n.gridline.length,S[0][0])}}if(aj.length==1){var ac=W+(ak+2*p);var ab=W+(ak+2*p);var az=S[0][0];var ax=S[S.length-1][1];var Z="M"+(ac-s)+" "+az;Z+="L"+ac+" "+az;Z+="L"+ab+" "+ax;Z+="L"+(ab-s)+" "+ax;var aa=Y.append("path").attr("d",Z).attr("fill","none").attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}else{if(aj.length>=2&&(ai==aj.length-1)){var aa=Y.append("line").attr("x1",W+(ak+2*p)).attr("x2",W+(ak+2*p)).attr("y1",S[0][0]).attr("y2",S[S.length-1][1]).attr("class","domain").attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}if(aj.length>=2&&n.label.visible){Y.append("line").attr("x1",W).attr("x2",W).attr("y1",S[0][0]).attr("y2",S[S.length-1][1]).attr("class","domain").attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}if(n.gridline.visible&&ai==(aj.length-1)){for(var av=0;av<an.length;av++){H(Y,W+(ak+2*p),S[av][0],W+(ak+2*p)+n.gridline.length,S[av][0]);if((av==(an.length-1))||(S[av][1]!=S[av+1][0])){H(Y,W+(ak+2*p),S[av][1],W+(ak+2*p)+n.gridline.length,S[av][1])}}H(Y,W+(ak+2*p)+n.gridline.length,S[0][0],W+(ak+2*p)+n.gridline.length,S[av-1][1])}for(var av=0;av<an.length;av++){if(aj.length==1||(aj.length!=1&&!n.label.visible)){if(av>0&&(S[av][0]!=S[av-1][1])){var ae=Y.append("line").attr("x1",(ak+2*p)-s).attr("x2",(ak+2*p)).attr("y1",S[av][0]).attr("y2",S[av][0]).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}if(av!=(an.length-1)){var ad=Y.append("line").attr("x1",(ak+2*p)-s).attr("x2",(ak+2*p)).attr("y1",S[av][1]).attr("y2",S[av][1]).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}if(aj.length>=2&&n.label.visible){Y.append("line").attr("x1",W).attr("x2",W+(ak+2*p)).attr("y1",S[av][0]).attr("y2",S[av][0]).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if((av==(an.length-1))||(S[av][1]!=S[av+1][0])){Y.append("line").attr("x1",W).attr("x2",W+(ak+2*p)).attr("y1",S[av][1]).attr("y2",S[av][1]).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}}var af=aj[ai].labelsToDraw;var T;for(var av=0;av<af.length;av++){T=af[av].custom;if(T&&T.type==="url"){}else{var R=b.isExist(af[av].text)?af[av].text:"";if(n.label.visible){var am=Y.append("g").attr("fill",I.defaultStyle.label.fill).attr("class",k.axisLabel+" "+D).attr("font-size",I.defaultStyle.label["font-size"]).attr("font-weight",I.defaultStyle.label["font-weight"]).attr("font-family",I.defaultStyle.label["font-family"]).append("text").attr("x",W+ak+p).attr("y",af[av].y).attr("dominant-baseline","middle").attr("text-anchor","end").text(R);L(am)}}}W+=(ak+2*p)}}else{if(F=="right"){var Q=0;var W=0;for(var ai=(aj.length-1);ai>=0;ai--,Q++){if(!n.label.visible&&ai!=(aj.length-1)){continue}var an=aj[ai].domain;var S=aj[ai].range;var ap=w(an,S);var ak=ap.maxLabelTextWidth;if(ai==(aj.length-1)){if(n.gridline.showFirstLine){H(Y,W,S[S.length-1][1],W-n.gridline.length,S[S.length-1][1])}if(n.gridline.showLastLine){H(Y,W,S[0][0],W-n.gridline.length,S[0][0])}}if((aj.length==1)){var ac=W;var ab=W;var az=S[0][0];var ax=S[S.length-1][1];var Z="M"+(ac+s)+" "+az;Z+="L"+ac+" "+az;Z+="L"+ab+" "+ax;Z+="L"+(ac+s)+" "+ax;var aa=Y.append("path").attr("d",Z).attr("fill","none").attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}else{if(aj.length>=2&&(ai==(aj.length-1))){var aa=Y.append("line").attr("x1",W).attr("x2",W).attr("y1",S[0][0]).attr("y2",S[S.length-1][1]).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}if(aj.length>=2&&n.label.visible){Y.append("line").attr("x1",W+(ak+2*p)).attr("x2",W+(ak+2*p)).attr("y1",S[0][0]).attr("y2",S[S.length-1][1]).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}if(n.gridline.visible&&ai==(aj.length-1)){for(var av=0;av<an.length;av++){H(Y,W+(ak+2*p),S[av][0],W+(ak+2*p)+n.gridline.length,S[av][0]);if((av==(an.length-1))||(S[av][1]!=S[av+1][0])){H(Y,W+(ak+2*p),S[av][1],W+(ak+2*p)+n.gridline.length,S[av][1])}}}for(var av=0;av<an.length;av++){if(aj.length==1||(aj.length!=1&&!n.label.visible)){if(av>0&&(S[av][0]!=S[av-1][1])){var ae=Y.append("line").attr("x1",0).attr("x2",s).attr("y1",S[av][0]).attr("y2",S[av][0]).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}if(av!=(an.length-1)){var ad=Y.append("line").attr("x1",0).attr("x2",s).attr("y1",S[av][1]).attr("y2",S[av][1]).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}if(aj.length>=2&&n.label.visible){Y.append("line").attr("x1",W).attr("x2",W+(ak+2*p)).attr("y1",S[av][0]).attr("y2",S[av][0]).attr("stroke",n.color).attr("stroke-width",1).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if((av==(an.length-1))||(S[av][1]!=S[av+1][0])){Y.append("line").attr("x1",W).attr("x2",W+(ak+2*p)).attr("y1",S[av][1]).attr("y2",S[av][1]).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}}var af=aj[ai].labelsToDraw;var T;for(var av=0;av<af.length;av++){T=af[av].custom;if(T&&T.type==="url"){}else{var R=b.isExist(af[av].text)?af[av].text:"";if(n.label.visible){var am=Y.append("g").attr("fill",I.defaultStyle.label.fill).attr("class",k.axisLabel+" "+D).attr("font-size",I.defaultStyle.label["font-size"]).attr("font-weight",I.defaultStyle.label["font-weight"]).attr("font-family",I.defaultStyle.label["font-family"]).append("text").attr("x",W+p).attr("y",af[av].y).attr("text-anchor","start").attr("dominant-baseline","middle").text(R);L(am)}}}W+=(ak+2*p)}}else{if(F=="bottom"){var Q=0;var P=0;for(var ai=(aj.length-1);ai>=0;ai--,Q++){if(!n.label.visible&&ai!=(aj.length-1)){continue}var an=aj[ai].domain;var S=aj[ai].range;var ap=v(an,S);var ar=ap.maxLabelTextHeight;var ao=ap.isVertical;if(ai==(aj.length-1)){if(n.gridline.showFirstLine){H(Y,S[0][0],P,S[0][0],P-n.gridline.length)}if(n.gridline.showLastLine){H(Y,S[S.length-1][0],P,S[S.length-1][0],P-n.gridline.length)}}if(aj.length==1){var ac=S[0][0];var ab=S[S.length-1][1];var az=P;var ax=P;var Z="M"+ac+" "+(az+s);Z+="L"+ac+" "+az;Z+="L"+ab+" "+ax;Z+="L"+ab+" "+(ax+s);var aa=Y.append("path").attr("d",Z).attr("fill","none").attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if(J){var V=J*Math.PI/180;var ah=Math.cos(V);var U=(45==J)?ah:Math.sin(V);Z="M "+S[0][0]+" "+P;Z+="L"+(S[0][0]+S[S.length-1][1]*U)+" "+(P-S[S.length-1][1]*ah);Z+="Z";aa.attr("d",Z)}}else{if(aj.length>=2&&(ai==aj.length-1)){var aa=Y.append("line").attr("x1",S[0][0]).attr("x2",S[S.length-1][1]).attr("y1",P).attr("y2",P).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}if(aj.length>=2&&n.label.visible){Y.append("line").attr("x1",S[0][0]).attr("x2",S[S.length-1][1]).attr("y1",P+ar+2*p).attr("y2",P+ar+2*p).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}if(n.gridline.visible&&ai==(aj.length-1)){for(var av=0;av<an.length;av++){H(Y,S[av][0],P+(ar+2*p),S[av][0],P+(ar+2*p)+n.gridline.length);if((av==(an.length-1))||(S[av][1]!=S[av+1][0])){H(Y,S[av][1],P+(ar+2*p),S[av][1],P+(ar+2*p)+n.gridline.length)}}}for(var av=0;av<an.length;av++){if(aj.length==1||(aj.length!=1&&!n.label.visible)){if(av>0&&(S[av][0]!=S[av-1][1])){var ae=Y.append("line").attr("x1",S[av][0]).attr("x2",S[av][0]).attr("y1",0).attr("y2",s).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}if(av!=(an.length-1)){var ad=Y.append("line").attr("x1",S[av][1]).attr("x2",S[av][1]).attr("y1",0).attr("y2",s).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if(J){var V=J*Math.PI/180;var ah=Math.cos(V);var U=(45===J)?ah:Math.sin(V);var ay=z*Math.PI/180;var al=Math.cos(ay);var aw=Math.sin(ay);var aq=S[av][1]*U;tickStartY=-S[av][1]*ah;var ab=aq+s*al,ax=tickStartY+s*aw;ad.attr("x1",aq).attr("y1",tickStartY).attr("x2",ab).attr("y2",ax)}}}if(aj.length>=2&&n.label.visible){Y.append("line").attr("x1",S[av][0]).attr("x2",S[av][0]).attr("y1",P).attr("y2",P+2*p+ar).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if((av==(an.length-1))||(S[av][1]!=S[av+1][0])){Y.append("line").attr("x1",S[av][1]).attr("x2",S[av][1]).attr("y1",P).attr("y2",P+2*p+ar).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}}var af=aj[ai].labelsToDraw;m(Y,af,P,ar,an,ao,aj.length!=1);P+=(ar+2*p)}}else{if(F=="top"){var Q=0;var P=0;for(var ai=0;ai<aj.length;ai++,Q++){if(!n.label.visible&&ai!=(aj.length-1)){continue}var an=aj[ai].domain;var S=aj[ai].range;var ap=v(an,S);var ar=ap.maxLabelTextHeight;var ao=ap.isVertical;if(!n.label.visible){ar=0}if(ai==(aj.length-1)){if(n.gridline.showFirstLine){H(Y,S[0][0],ar+2*p+P,S[0][0],ar+2*p+P+n.gridline.length)}if(n.gridline.showLastLine){H(Y,S[S.length-1][1],ar+2*p+P,S[S.length-1][1],ar+2*p+P+n.gridline.length)}}if((aj.length==1)){var ac=S[0][0];var ab=S[S.length-1][1];var az=ar+2*p+P;var ax=ar+2*p+P;var Z="M"+ac+" "+(az-s);Z+="L"+ac+" "+az;Z+="L"+ab+" "+ax;Z+="L"+ab+" "+(ax-s);var aa=Y.append("path").attr("d",Z).attr("fill","none").attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}else{if(aj.length>=2&&(ai==aj.length-1)){var aa=Y.append("line").attr("x1",S[0][0]).attr("x2",S[S.length-1][1]).attr("y1",ar+2*p+P).attr("y2",ar+2*p+P).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}if(aj.length>=2&&n.label.visible){Y.append("line").attr("x1",S[0][0]).attr("x2",S[S.length-1][1]).attr("y1",P).attr("y2",P).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}if(n.gridline.visible&&ai==(aj.length-1)){for(var av=0;av<an.length;av++){H(Y,S[av][0],P+(ar+2*p),S[av][0],P+(ar+2*p)+n.gridline.length);if((av==(an.length-1))||(S[av][1]!=S[av+1][0])){H(Y,S[av][1],P+(ar+2*p),S[av][1],P+(ar+2*p)+n.gridline.length)}}H(Y,S[0][0],P+(ar+2*p)+n.gridline.length,S[av-1][1],P+(ar+2*p)+n.gridline.length)}for(var av=0;av<an.length;av++){if(aj.length==1||(aj.length!=1&&!n.label.visible)){if(av>0&&(S[av][0]!=S[av-1][1])){var ae=Y.append("line").attr("x1",S[av][0]).attr("x2",S[av][0]).attr("y1",(ar+2*p)).attr("y2",(ar+2*p)-s).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}if(av!=(an.length-1)){var ad=Y.append("line").attr("x1",S[av][1]).attr("x2",S[av][1]).attr("y1",(ar+2*p)).attr("y2",(ar+2*p)-s).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}if(aj.length>=2&&n.label.visible){Y.append("line").attr("x1",S[av][0]).attr("x2",S[av][0]).attr("y1",P).attr("y2",P+(ar+2*p)).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if((av==(an.length-1))||(S[av][1]!=S[av+1][0])){Y.append("line").attr("x1",S[av][1]).attr("x2",S[av][1]).attr("y1",P).attr("y2",P+(ar+2*p)).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}}var af=aj[ai].labelsToDraw;m(Y,af,P,ar,an,ao,aj.length!=1);P+=(ar+2*p)}}}}}}var L=function(P){if(jQuery.browser.msie){var O=I.realStyle.label["font-size"].toString();var R=O.indexOf("px");if(R>=0){O=O.substr(0,R)}var Q=P.attr("y");P.attr("y",Number(Q)+O/2);P.attr("dominant-baseline","auto")}};var K=function(Q){var P;if(Q.info){var O=Q.info.customlabel;if(O){if(O.type==="url"){P=Q.val}else{if(O.type==="string"){P=O.val}}}else{P=Q.val}}else{P=Q.val}P=G(P)?g.get("IDS_ISNOVALUE"):P;P=a.format(P,n.label.formatString);return P};var r=function(O){if(O.info&&O.info.customlabel){return O.info.customlabel}};var t=function(X,V,Y){var R=[];for(var U=0;U<X.length;U++){var Z={};Z.text=K(X[U]);Z.custom=r(X[U]);var Q=q(Z.text,I.realStyle.label);var S=V[U][0]+(V[U][1]-V[U][0])/2;Z.width=Q.width;Z.height=Q.height;Z.y=S;Z.y1=S-Z.height/2;Z.y2=S+Z.height/2;R.push(Z)}var W=[];if(n.label.hideStrategy!="greedy"){for(var T=0;T<=(R.length-1);T++){var P=true;for(var U=(R.length-1);U>=0;U-=(T+1)){var Z=R[U];if(U!=(R.length-1)){var O=U+(T+1);if(R[U].y2>=R[O].y1){P=false;break}}W.push(Z)}if(P){break}else{W=[]}}}else{for(var O=T=(R.length-1);T>=0;T--){var Z=R[T];if(O===T&&V[T][1]!=V[T][0]){if(Y&&Z.y1>V[T][0]&&Z.y2<V[T][1]){W.push(Z)}else{if(!Y){W.push(Z)}}}else{if(Z.y2<=R[O].y1&&V[T][1]!=V[T][0]){if(Y){if(Z.y1>V[T][0]&&Z.y2<V[T][1]){W.push(Z);O=T}}else{W.push(Z);O=T}}}}}return W};var E=function(Y,V,X,Z){var R=[];for(var U=0;U<Y.length;U++){var aa={};aa.text=K(Y[U]);aa.custom=r(Y[U]);var Q=q(aa.text,I.realStyle.label);if(X){aa.width=Q.height;aa.height=Q.width}else{aa.width=Q.width;aa.height=Q.height}var T=V[U][0]+(V[U][1]-V[U][0])/2;aa.x=T;aa.x1=T-aa.width/2;aa.x2=T+aa.width/2;R.push(aa)}var W=[];if(n.label.hideStrategy!="greedy"){for(var S=0;S<=(R.length-1);S++){var P=true;for(var U=0;U<R.length;U+=(S+1)){var aa=R[U];if(U!=0){var O=U-(S+1);if(R[U].x1<=R[O].x2||V[S][1]===V[S][0]){P=false;break}}W.push(aa)}if(P){break}else{W=[]}}}else{for(var O=S=(R.length-1);S>=0;S--){var aa=R[S];if(O===S&&V[S][1]!=V[S][0]){if(Z&&aa.x1>V[S][0]&&aa.x2<V[S][1]){W.push(aa)}else{if(!Z){W.push(aa)}}}else{if(aa.x2<=R[O].x1&&V[S][1]!=V[S][0]){if(Z){if(aa.x1>V[S][0]&&aa.x2<V[S][1]){W.push(aa);O=S}}else{W.push(aa);O=S}}}}}return W};var m=function(ae,R,Q,U,O,V,W){if(R===undefined){return}for(var Y=0;Y<R.length;Y++){var T=b.isExist(R[Y].text)?R[Y].text:"";if(n.label.visible){if(J){var ad=J*Math.PI/180;var af=Math.cos(ad);var P=(45===J)?af:Math.sin(ad);var S=z*Math.PI/180;var aa=Math.cos(S);var Z=Math.sin(S);var X=R[Y].x*P;tickStartY=-R[Y].x*af;var ag=ae.append("g").attr("fill",I.defaultStyle.label.fill).attr("class",k.axisLabel+" "+D).attr("font-size",I.defaultStyle.label["font-size"]).attr("font-weight",I.defaultStyle.label["font-weight"]).attr("font-family",I.defaultStyle.label["font-family"]).append("text").attr("x",X+p*aa).attr("y",tickStartY+Q+p*Z).attr("dominant-baseline","middle").attr("text-anchor","start").text(T);if(z>90){ag.attr("text-anchor","end").attr("transform","rotate( "+(z-180)+" "+ag.attr("x")+" "+ag.attr("y")+")")}else{ag.attr("transform","rotate( "+(z)+" "+ag.attr("x")+" "+ag.attr("y")+")")}}else{var ag=ae.append("g").attr("fill",I.defaultStyle.label.fill).attr("class",k.axisLabel+" "+D).attr("font-size",I.defaultStyle.label["font-size"]).attr("font-weight",I.defaultStyle.label["font-weight"]).attr("font-family",I.defaultStyle.label["font-family"]).append("text").attr("x",R[Y].x).attr("y",Q+U/2+p).attr("dominant-baseline","middle").attr("text-anchor","middle").text(T);if(V){if(!W){if(F=="top"){ag.attr("text-anchor","start").attr("y",Q+U+p)}else{if(F=="bottom"){ag.attr("y",Q+p).attr("text-anchor","end")}}}var ab="-90";ag.attr("transform","rotate( "+ab+" "+ag.attr("x")+" "+ag.attr("y")+" )")}L(ag)}}}};l.position=function(O){if(!arguments.length){return F}F=O;return l};l.properties=function(O){if(arguments.length==0){return n}n=d.extend(true,n,O);return l};l.style=function(O){if(arguments.length==0){return I}I=d.extend(true,I,O);return l};l.axScale=function(O){if(!arguments.length){return A}A=O;return l};l.getPreferredSize=function(){var P=B();var W=0;var S=0;var Q=[];for(var V=0;V<P.length;V++){if(!n.label.visible&&V!=(P.length-1)){continue}var T=P[V].domain;var Y=P[V].range;if(T.length===0||Y.length===0){continue}if(F=="bottom"||F=="top"){W=Math.abs(Y[Y.length-1][1]-Y[0][0])+C;var R=0;if(n.label.visible){R+=v(T,Y).maxLabelTextHeight}R+=2*p;S+=R;Q.push(R)}else{if(F=="left"||F=="right"){var X=0;if(n.label.visible){X+=w(T,Y).maxLabelTextWidth}X+=2*p;W+=X;Q.push(X);S=Math.abs(Y[Y.length-1][1]-Y[0][0])+C}}}if(M>=0){var Z=Q;var U=M;var O=0;for(var V=0;V<Z.length;V++){if(U>=Z[V]){O+=Z[V];U-=Z[V]}else{break}}if(O==0&&Z.length>0){O+=Z[0]}if(F=="bottom"||F=="top"){S=O}else{if(F=="left"||F=="right"){W=O}}}return{width:W,height:S,spacings:Q,}};l.matrix=function(O){if(!arguments.length){return x}x=O;return l};l.labelAngle=function(O){if(!arguments.length){return i}i=O;return l};l.tickAngle=function(O){if(!arguments.length){return z}z=O;return l};l.angle=function(O){if(!arguments.length){return J}J=O;return l};l.labelAlign=function(O){if(!arguments.length){return N}N=O;return l};var u=function(R,S){var V=[];var W=[];var O=false;for(var T=0;T<R.length;T++){var Q=q(K(R[T]),I.realStyle.label);var X=Q.height;var U=Q.width;var P=S[T][1]-S[T][0];if((X<U)&&P!=0&&U>P){if(F=="top"||F=="bottom"){O=true}}V.push(X);W.push(U)}return{heights:V,widths:W,isVerticalFont:O}};var v=function(S,R){var P={maxLabelTextHeight:0,isVertical:false};var U=0;var T=false;var Q=u(S,R);T=n.forceVerticalFont===true?true:Q.isVerticalFont;for(var O=0;O<S.length;O++){if(T){if(U<Q.widths[O]){U=Q.widths[O]}}else{if(U<Q.heights[O]){U=Q.heights[O]}}}P.maxLabelTextHeight=U;P.isVertical=T;return P};var w=function(S,R){var P={maxLabelTextWidth:0,isVertical:false};var U=0;var T=false;var Q=u(S,R);T=n.forceVerticalFont===true?true:Q.isVerticalFont;for(var O=0;O<S.length;O++){if(T){if(U<Q.heights[O]){U=Q.heights[O]}}else{if(U<Q.widths[O]){U=Q.widths[O]}}}P.maxLabelTextWidth=U;P.isVertical=T;return P};var q=function(P,O){return e.fastMeasure(P,O["font-size"],O["font-weight"],O["font-family"])};var G=function(O){if(typeof(O)!="string"&&h.isNoValue(O)){return true}return false};return l}});sap.riv.module({qname:"sap.viz.modules.axis.valueAxisCore",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"}],function Setup(d,f,c,a,e,b){return function(){var F;var B=null;var q=5;var m=4;var E=7;var C=1;var u="#6c6c6c";var l="#d8d8d8";var s="#ffffff";var o="#333333";var D="viz-axis-label";var I=null;var k={title:{visible:false,text:undefined,},gridline:{visible:true,color:l,showFirstLine:false,length:0,showLastLine:false,type:"line"},type:"value",visible:true,label:{visible:true,numberFormat:"",formatString:"",},position:"left",color:u,axisline:{visible:true},shapeRendering:true};var h={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",};var z=b(),g=null,L=null,H=null,A=null;var K=-1;i.spaceLimit=function(M){if(!arguments.length){return K}K=M;return i};function i(ak){var Q=B.range();var N=B.domain();if(Q[0]==0&&Q[1]==0){return}var U=v();if(F=="bottom"){var S=0;if(k.label.visible){var af=[];for(var ab=0;ab<U.length;ab++){af.push(U[ab].text)}S=t(af)}if((K!=-1)&&(S+q+2*m+C/2>K)){U=[]}for(var ab=0;ab<U.length;ab++){var ah=ak.append("line").attr("x1",B(U[ab].value)).attr("x2",B(U[ab].value)).attr("y1",0).attr("y2",q+1).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if(H){var aj=H*Math.PI/180;var al=Math.cos(aj);var P=(45===H)?al:Math.sin(aj);var R=A*Math.PI/180;var ai=Math.cos(R);var ag=Math.sin(R);var aa=B(U[ab].value)*P;tickStartY=-B(U[ab].value)*al;var ac=aa+(q+1)*ai,M=tickStartY+(q+1)*ag;ah.attr("x1",aa).attr("y1",tickStartY).attr("x2",ac).attr("y2",M)}var X=function(){var am=ak.append("line").attr("x1",B(U[ab].value)).attr("x2",B(U[ab].value)).attr("y1",-k.gridline.length).attr("y2",0).attr("stroke",k.gridline.color).attr("stroke-width",k.gridline.size).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if(k.gridline.type=="dotted"){am.attr("stroke-dasharray","3, 2")}if(k.gridline.type=="incised"){var am=ak.append("line").attr("x1",B(U[ab].value)-1).attr("x2",B(U[ab].value)-1).attr("y1",-k.gridline.length).attr("y2",0).attr("stroke",s).attr("stroke-width",k.gridline.size).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}};if(ab==0&&k.gridline.showFirstLine){X()}else{if(ab==(U.length-1)&&k.gridline.showLastLine){X()}else{if((ab!=(U.length-1))&&(ab!=0)&&k.gridline.visible){X()}}}}if(k.label.visible){j(ak,"Bottom",U,S)}if(k.axisline.visible){var ae=Q[0];var ac=Q[1];var O=0;var M=0;var T=0;var W="M"+ae+" "+(O+T);W+="L"+ae+" "+O;W+="L"+ac+" "+M;W+="L"+ac+" "+(M+T);var Y=ak.append("path").attr("d",W).attr("fill","none").attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if(H){var aj=H*Math.PI/180;var al=Math.cos(aj);var P=(45==H)?al:Math.sin(aj);W="M "+Q[1]+" "+O;W+="L"+(Q[1]+Q[0]*P)+" "+(O-Q[0]*al);W+="Z";Y.attr("d",W)}}}else{if(F=="top"){var S=0;if(k.label.visible){var af=[];for(var ab=0;ab<U.length;ab++){af.push(U[ab].text)}S=t(af)}if((K!=-1)&&(S+q+2*m+C/2>K)){U=[]}var Z=1;if(k.label.visible){Z=2}for(var ab=0;ab<U.length;ab++){var ah=ak.append("line").attr("x1",B(U[ab].value)).attr("x2",B(U[ab].value)).attr("y1",S+Z*m).attr("y2",S+Z*m+q).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");var X=function(){var am=ak.append("line").attr("x1",B(U[ab].value)).attr("x2",B(U[ab].value)).attr("y1",S+q+Z*m).attr("y2",S+q+Z*m+k.gridline.length).attr("stroke",k.gridline.color).attr("stroke-width",k.gridline.size).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if(k.gridline.type=="dotted"){am.attr("stroke-dasharray","3, 2")}if(k.gridline.type=="incised"){var am=ak.append("line").attr("x1",B(U[ab].value)-1).attr("x2",B(U[ab].value)-1).attr("y1",S+q+Z*m).attr("y2",S+q+Z*m+k.gridline.length).attr("stroke",s).attr("stroke-width",k.gridline.size).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}};if(ab==0&&k.gridline.showFirstLine){X()}else{if(ab==(U.length-1)&&k.gridline.showLastLine){X()}else{if((ab!=(U.length-1))&&(ab!=0)&&k.gridline.visible){X()}}}}if(k.label.visible){j(ak,"Top",U,S)}if(k.axisline.visible){var ae=Q[0];var ac=Q[1];var O=S+q+Z*m;var M=S+q+Z*m;var T=0;var W="M"+ae+" "+(O-T);W+="L"+ae+" "+O;W+="L"+ac+" "+M;W+="L"+ac+" "+(M-T);var Y=ak.append("path").attr("d",W).attr("fill","none").attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}}else{if(F=="left"){U=G(U);var ad=0;if(k.label.visible){var af=[];for(var ab=0;ab<U.length;ab++){af.push(U[ab].text)}ad=w(af)}if((K!=-1)&&(ad+q+2*m+C/2>K)){U=[]}var Z=1;if(k.label.visible){Z=2}for(var ab=0;ab<U.length;ab++){var ah=ak.append("line").attr("x1",ad+Z*m).attr("x2",ad+Z*m+q).attr("y1",B(U[ab].value)).attr("y2",B(U[ab].value)).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");var X=function(){var am=ak.append("line").attr("y1",B(U[ab].value)).attr("y2",B(U[ab].value)).attr("x1",ad+Z*m+q).attr("x2",ad+Z*m+q+k.gridline.length).attr("stroke",k.gridline.color).attr("stroke-width",k.gridline.size).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if(k.gridline.type=="dotted"){am.attr("stroke-dasharray","3, 2")}if(k.gridline.type=="incised"){var am=ak.append("line").attr("y1",B(U[ab].value)+1).attr("y2",B(U[ab].value)+1).attr("x1",ad+Z*m+q).attr("x2",ad+Z*m+q+k.gridline.length).attr("stroke",s).attr("stroke-width",k.gridline.size).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}};if(ab==0&&k.gridline.showFirstLine){X()}else{if(ab==(U.length-1)&&k.gridline.showLastLine){X()}else{if((ab!=(U.length-1))&&(ab!=0)&&k.gridline.visible){X()}}}if(k.label.visible){var V=ak.append("g").attr("fill",I.defaultStyle.label.fill).attr("class",h.axisLabel+" "+D).attr("font-size",I.defaultStyle.label["font-size"]).attr("font-weight",I.defaultStyle.label["font-weight"]).attr("font-family",I.defaultStyle.label["font-family"]).append("text").attr("x",ad+m).attr("y",B(U[ab].value)).attr("dominant-baseline","middle").attr("text-anchor","end").text(U[ab].text);J(V)}}if(k.axisline.visible){var ae=ad+Z*m+q;var ac=ad+Z*m+q;var O=Q[0];var M=Q[1];var T=0;var W="M"+(ae-T)+" "+O;W+="L"+ae+" "+O;W+="L"+ac+" "+M;W+="L"+(ac-T)+" "+M;var Y=ak.append("path").attr("d",W).attr("fill","none").attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}}else{if(F=="right"){U=G(U);if(k.label.visible){var af=[];for(var ab=0;ab<U.length;ab++){af.push(U[ab].text)}ad=w(af)}if((K!=-1)&&(ad+q+2*m+C/2>K)){U=[]}for(var ab=0;ab<U.length;ab++){var ah=ak.append("line").attr("x1",0).attr("x2",q).attr("y1",B(U[ab].value)).attr("y2",B(U[ab].value)).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");var X=function(){var am=ak.append("line").attr("y1",B(U[ab].value)).attr("y2",B(U[ab].value)).attr("x1",-k.gridline.length).attr("x2",0).attr("stroke",k.gridline.color).attr("stroke-width",k.gridline.size).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if(k.gridline.type=="dotted"){am.attr("stroke-dasharray","3, 2")}if(k.gridline.type=="incised"){var am=ak.append("line").attr("y1",B(U[ab].value)+1).attr("y2",B(U[ab].value)+1).attr("x1",-k.gridline.length).attr("x2",0).attr("stroke",s).attr("stroke-width",k.gridline.size).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}};if(ab==0&&k.gridline.showFirstLine){X()}else{if(ab==(U.length-1)&&k.gridline.showLastLine){X()}else{if((ab!=(U.length-1))&&(ab!=0)&&k.gridline.visible){X()}}}if(k.label.visible){var V=ak.append("g").attr("fill",I.defaultStyle.label.fill).attr("class",h.axisLabel+" "+D).attr("font-size",I.defaultStyle.label["font-size"]).attr("font-weight",I.defaultStyle.label["font-weight"]).attr("font-family",I.defaultStyle.label["font-family"]).append("text").attr("x",q+m).attr("y",B(U[ab].value)).attr("dominant-baseline","middle").attr("text-anchor","start").text(U[ab].text);J(V)}}if(k.axisline.visible){var ae=0;var ac=0;var O=Q[0];var M=Q[1];var T=0;var W="M"+(ae+T)+" "+O;W+="L"+ae+" "+O;W+="L"+ac+" "+M;W+="L"+(ac+T)+" "+M;var Y=ak.append("path").attr("d",W).attr("fill","none").attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}}}}}}var J=function(N){if(jQuery.browser.msie){var M=I.realStyle.label["font-size"].toString();var P=M.indexOf("px");if(P>=0){M=M.substr(0,P)}var O=N.attr("y");N.attr("y",Number(O)+M/2);N.attr("dominant-baseline","auto")}};i.matrix=function(M){if(!arguments.length){return z}z=M;return i};i.labelAngle=function(M){if(!arguments.length){return g}g=M;return i};i.tickAngle=function(M){if(!arguments.length){return A}A=M;return i};i.angle=function(M){if(!arguments.length){return H}H=M;return i};i.labelAlign=function(M){if(!arguments.length){return L}L=M;return i};i.position=function(M){if(!arguments.length){return F}F=M;return i};i.style=function(M){if(arguments.length==0){return I}I=c.extend(true,I,M);return i};i.properties=function(M){if(arguments.length==0){return k}k=r(k,M);return i};i.axScale=function(M){if(!arguments.length){return B}B=M;return i};i.startPadding=function(){if(B){var M=v();var N=0;if(M.length>0){N=n(M[0].text,I.realStyle.label)}if(N==0){return 0}if(F=="top"||F=="bottom"){return N.width/2}else{return N.height/2}}else{return 0}};i.endPadding=function(){if(B){var M=v();var N=0;if(M.length>0){N=n(M[M.length-1].text,I.realStyle.label)}if(N==0){return 0}if(F=="top"||F=="bottom"){return N.width/2}else{return N.height/2}}else{return 0}};i.getPreferredSize=function(){var N=B.domain();var T=B.range();var S=0;var R=0;var O=[];if(!(T[0]==0&&T[1]==0)){if(F=="bottom"||F=="top"){S=Math.abs(T[1]-T[0])+C;if(k.label.visible){var M=v();var P=[];for(var Q=0;Q<M.length;Q++){P.push(M[Q].text)}R=t(P)+q+2*m+C/2}else{R=q+m+C/2}O.push(R)}else{if(F=="left"||F=="right"){if(k.label.visible){var M=v();var P=[];for(var Q=0;Q<M.length;Q++){P.push(M[Q].text)}S=w(P)+q+2*m+C/2}else{S=q+m+C/2}O.push(S);R=Math.abs(T[1]-T[0])+C}}}return{width:S,height:R,spacings:O,}};var G=function(M){if(M.length>0){if(B(M[0].value)>B(M[M.length-1].value)){M.reverse()}}var N=[];for(var P=0;P<M.length;P++){if(!f.isNoValue(M[P].value)){var Q={};Q.value=M[P].value;Q.text=M[P].text;var S=n(Q.text,I.realStyle.label).height;var R=B(Q.value);Q.start=R-S/2;Q.end=R+S/2;N.push(Q)}}var O=[];O=p(N);return O};var j=function(Z,X,S,Q){if(S.length==0){return}if(S.length>0){if(B(S[0].value)>B(S[S.length-1].value)){S.reverse()}}var O=[];for(var R=0;R<S.length;R++){var ac={};ac.value=S[R].value;ac.text=S[R].text;var U=n(ac.text,I.realStyle.label).width;var P=B(ac.value);ac.start=P-U/2;ac.end=P+U/2;O.push(ac)}var W=[];W=p(O);for(var R=0;R<W.length;R++){if(H){var aa=H*Math.PI/180;var Y=Math.cos(aa);var N=(45===H)?Y:Math.sin(aa);var V=A*Math.PI/180;var M=Math.cos(V);var T=Math.sin(V);var ab=B(W[R].value)*N;tickStartY=-B(W[R].value)*Y;var ac=Z.append("g").attr("fill",I.defaultStyle.label.fill).attr("class",h.axisLabel+" "+D).attr("font-size",I.defaultStyle.label["font-size"]).attr("font-weight",I.defaultStyle.label["font-weight"]).attr("font-family",I.defaultStyle.label["font-family"]).append("text").attr("x",ab+m*M).attr("y",tickStartY+m*T).attr("dominant-baseline","middle").attr("text-anchor","start").text(W[R].text);if(A>90){ac.attr("text-anchor","end").attr("transform","rotate( "+(A-180)+" "+ac.attr("x")+" "+ac.attr("y")+")")}else{ac.attr("transform","rotate( "+(A)+" "+ac.attr("x")+" "+ac.attr("y")+")")}}else{var ac=Z.append("g").attr("fill",I.defaultStyle.label.fill).attr("class",h.axisLabel+" "+D).attr("font-size",I.defaultStyle.label["font-size"]).attr("font-weight",I.defaultStyle.label["font-weight"]).attr("font-family",I.defaultStyle.label["font-family"]).append("text").attr("x",B(W[R].value)).attr("y",m+q).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(W[R].text);ac.attr("dominant-baseline","auto");ac.attr("y",Q+m)}}};var p=function(M){var N=[];if(M.length>0){if(!(M[0].value>=0&&M[M.length-1].value>=0)&&!(M[0].value<=0&&M[M.length-1].value<=0)){var S=[];var R=[];for(var O=0;O<M.length;O++){if(M[O].value<=0){S.push(M[O])}if(M[O].value>=0){R.push(M[O])}}var T;var P=S.length;if(S[0].value<=S[P-1].value){T=S[0]}else{T=S[P-1]}var Q;var U=R.length;if(R[0].value<=R[U-1].value){Q=R[U-1]}else{Q=R[0]}S=x(S);R=x(R);if(S[0].value>S[S.length-1].value){S.reverse()}if(R[0].value>R[R.length-1].value){R.reverse()}if(S[S.length-1].value==0&&R[0].value==0){S.pop()}labelsToDrawTemp=S.concat(R);if(T.value!==labelsToDrawTemp[0].value){labelsToDrawTemp.splice(0,0,T)}if(Q.value!==labelsToDrawTemp[labelsToDrawTemp.length-1].value){labelsToDrawTemp.push(Q)}if(labelsToDrawTemp[0].start>labelsToDrawTemp[labelsToDrawTemp.length-1].start){labelsToDrawTemp.reverse()}N=x(labelsToDrawTemp)}else{N=x(M)}}if(N.length<=1){N=[]}return N};var x=function(N){var Q=[];for(var T=0;T<=(N.length-1);T++){var O=true;for(var P=0;P<N.length-1;P+=(T+1)){var S=N[P];if(P!=0){var M=Q[Q.length-1];if(N[P].start<=M.end){if(Q.length>1){O=false;break}}else{Q.push(S)}}else{Q.push(S)}}var R=N[N.length-1];if(R.start<Q[Q.length-1].end){Q.pop()}Q.push(R);if(O){break}else{Q=[]}}return Q};var v=function(){var O=B.domain();var N=E;if(B.tickHint){N=B.tickHint}var M=B.ticks(N);for(var S=0;S<M.length;S++){M[S]=parseFloat(M[S].toFixed(8))}var U;var T;if(O[0]<=O[O.length-1]){U=O[0];T=O[O.length-1]}else{U=O[O.length-1];T=O[0]}if(M.length>0){if(M[0]!=U){M.unshift(U)}if(M[M.length-1]!=T){M.push(T)}}var V=[];for(var S=0;S<M.length;S++){var Q={};Q.value=M[S];if(k.isPercentMode){Q.text=parseFloat((M[S]*100).toFixed(8)).toString()}else{Q.text=parseFloat(M[S].toFixed(8)).toString()}V.push(Q)}if(k.label){if(!k.label.formatString&&k.label.numberFormat){for(var S=0;S<M.length;S++){var R=d3.format(k.label.numberFormat);V[S].text=(R(M[S]))}}else{if(k.label.formatString){var P=k.label.formatString;for(var S=0;S<M.length;S++){V[S].text=(a.format(M[S],P))}}}}return V};var t=function(N){var P=0;for(var O=0;O<N.length;O++){var M=n(N[O],I.realStyle.label).height;if(P<M){P=M}}return P};var w=function(N){var P=0;for(var O=0;O<N.length;O++){var M=n(N[O],I.realStyle.label).width;if(P<M){P=M}}return P};var n=function(N,M){return d.fastMeasure(N,M["font-size"],M["font-weight"],M["font-family"])};var r=function(N,M){for(var O in M){if(typeof(M[O])==="object"){if(N[O]){N[O]=r(N[O],M[O])}else{N[O]=M[O]}}else{N[O]=M[O]}}return N};return i}});sap.riv.module({qname:"sap.viz.modules.axis",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.axis.valueAxisCore",version:"4.0.1"},{qname:"sap.viz.modules.axis.categoryAxisCore",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(d,f,i,b,c,g,e,a,h,j){return function(A,K){var z=null;var w=null;var D=0;var V=0;var L=true;var ae=-1;var q="viz-axis";var t="viz-axis-body";var k="viz-axis-title";var B="viz-axis-label";var ad={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",};var J=11;var s={};var U={};var O=true;var W=A.props(null);var X=true;var E=new e("initialized");var u=W.color;var ac=null;var G;if(K){G=K.effectManager}var Z=null;var p={realStyle:{},defaultStyle:{}};var C=function(){if(K){p.realStyle.title=f.extend(true,{},K.styleManager.query(ad.axisTitle));p.realStyle.label=f.extend(true,{},K.styleManager.query(ad.axisLabel));p.defaultStyle.title=f.extend(true,{},K.styleManager.queryDefault(ad.axisTitle));p.defaultStyle.label=f.extend(true,{},K.styleManager.queryDefault(ad.axisLabel));p.realStyle.titleString=K.styleManager.query(ad.axisTitle).toString();p.realStyle.labelString=K.styleManager.query(ad.axisLabel).toString();p.defaultStyle.titleString=K.styleManager.queryDefault(ad.axisTitle).toString();p.defaultStyle.labelString=K.styleManager.queryDefault(ad.axisLabel).toString();if(W.title.applyAxislineColor){p.realStyle.title.fill=W.color;p.defaultStyle.title.fill=W.color}}};var I=h(),P=null,l=null,H=null,v=null;var N=function(){if(!X){return false}else{if(!ab()&&!R()){return false}}return true};var R=function(){return W.title.visible&&W.visible};var ab=function(){if(!L){return false}var aj=ac.range();var ag=ac.domain();var ai=null;if(W.type==="category"){ai=ac.rangeBand()}var ah=false;if(!W.isIndependentMode){if(U){ah=true}}else{if(s){ah=true}}return !(!W.visible||(aj[0]===0&&aj[aj.length-1]===0&&aj.length>=2)||(aj.length===1&&aj[0]===0&&ag.length===1&&ag[0]===0&&W.type==="value")||((!ai||!ah)&&aj.length===1&&aj[0]===0&&ag.length===1&&ag[0]===0&&W.type==="category"))};var M=function(aF){var aq=M.getPreferredSize();j.drawBound(aF,aq.width,aq.height);w=aF;var aw=aF.select("."+q);var aH=ac.range();var am=ac.domain();if(!N()){aw.remove()}else{var al=M.getPreferredSize().spacings;var aB=al[0];var aj=0;for(var az=1;az<al.length;az++){aj+=al[az]}if(ae>=0&&ae<(aB+aj)){O=false}r();var aA;var ak;var ar=T();aA=ar.core;ak=ar.coreScale;var ai=aA().properties(W).style(p).position(W.position).axScale(ak).spaceLimit(ae).matrix(I).labelAngle(P).labelAlign(l).angle(H).tickAngle(v);var ax;if(aw.empty()){aw=aF.append("g").attr("class",q+" "+ad.axis);ax=aw.append("g").attr("class",t+" "+ad.axisBody)}else{var aC=aw.select("."+t).remove();ax=aw.append("g").attr("class",t+" "+ad.axisBody);ax=aw.select("."+t)}if(ab()){ax.call(ai)}var aG="";if(W.title.text!==undefined&&W.title.text!==null){aG=W.title.text}else{if(W.type==="value"){if(Z){aG=Z}else{aG=c.get("IDS_ISNOVALUE")}}else{var ap=[];if(W.isIndependentMode){if(s){for(var av in s){if(s.hasOwnProperty(av)){ap=s[av].values;break}}}}else{if(U){ap=U.values}}for(var au=0;au<ap.length;au++){if(ap[au].type){if(ap[au].type==="MND"&&au===0){aG+=c.get("IDS_DEFAULTMND")+((ap.length===1)?"":" - ")}else{if(ap[au].type==="MND"&&au===(ap.length-1)){aG+=" - "+c.get("IDS_DEFAULTMND")}}}else{if(ap[au].col.val){aG+=ap[au].col.val}else{aG+=c.get("IDS_ISNOVALUE")}if(au!==(ap.length-1)&&!ap[au+1].type){aG+=" / "}}}}}var ah=J;aw.select("."+k).remove();if(R()){if(W.title.visible&&O){var aE=ai.getPreferredSize();var ay=aw.append("g").attr("class",k+" "+ad.axisTitle).attr("text-anchor","middle").attr("fill",p.defaultStyle.title.fill).attr("font-size",p.defaultStyle.title["font-size"]).attr("font-weight",p.defaultStyle.title["font-weight"]).attr("font-family",p.defaultStyle.title["font-family"]).append("text");if(W.position==="bottom"){if(!ab()){aE.height=0}ay.attr("x",aE.width/2).attr("y",aE.height+ah).attr("dominant-baseline","hanging");if(jQuery.browser.msie){var ag=p.realStyle.title["font-size"].toString();var at=ag.indexOf("px");if(at>=0){ag=ag.substr(0,at)}ay.attr("y",Number(ay.attr("y"))+ag/2);ay.attr("dominant-baseline","auto")}d.ellipsis(aG,ay.node(),aE.width,p.realStyle.titleString)}else{if(W.position==="top"){if(!ab()){aE.height=0}titleHieght=aa(aG,p.realStyle.title).height;ax.attr("transform","translate(0, "+(titleHieght+ah)+")");ay.attr("x",aE.width/2).attr("y",titleHieght).attr("dx","0").attr("dy","0").attr("dominant-baseline","auto");d.ellipsis(aG,ay.node(),aE.width,p.realStyle.titleString)}else{if(W.position==="left"){if(!ab()){aE.width=0}titleWidth=aa(aG,p.realStyle.title).height;ax.attr("transform","translate("+(titleWidth+ah)+", "+0+")");var ao=titleWidth;var an=aE.height/2;var aD="-90";ay.attr("transform","rotate( "+aD+" "+ao+" "+an+" )").attr("x",ao).attr("y",an).attr("dominant-baseline","auto");d.ellipsis(aG,ay.node(),aE.height,p.realStyle.titleString)}else{if(!ab()){aE.width=0}titleWidth=aa(aG,p.realStyle.title).height;ao=aE.width+titleWidth/2+ah;an=aE.height/2;var aD="-90";ay.attr("transform","rotate( "+aD+" "+ao+" "+an+" )").attr("x",ao).attr("y",an-titleWidth/2).attr("dominant-baseline","hanging");if(jQuery.browser.msie){var ag=p.realStyle.title["font-size"].toString();var at=ag.indexOf("px");if(at>=0){ag=ag.substr(0,at)}an=Number(aE.height/2)+ag/2;ay.attr("y",an);ay.attr("dominant-baseline","auto")}d.ellipsis(aG,ay.node(),aE.height,p.realStyle.titleString)}}}}}O=true}E.initialized();return M};M.matrix=function(ag){if(!arguments.length){return I}I=ag;return M};M.labelAngle=function(ag){if(!arguments.length){return P}P=m(ag,360);return M};M.tickAngle=function(ag){if(!arguments.length){return v}v=m(ag,360);return M};M.angle=function(ag){if(!arguments.length){return H}H=m(ag,360);return M};function m(ah,ag){var ai=ah%ag;if(0>ai){ai+=ag}return ai}M.labelAlign=function(ag){if(!arguments.length){return l}l=ag;return M};M.parent=function(ag){if(!arguments.length){return w}w=ag;return M};M.width=function(ag){if(arguments.length==0){return D}else{D=ag;if(W.position=="bottom"||W.position=="top"){if(V){ae=V}}else{if(W.position=="left"||W.position=="right"){if(D){ae=D}}}return M}};M.height=function(ag){if(arguments.length==0){return V}V=ag;if(W.position=="bottom"||W.position=="top"){if(V){ae=V}}else{if(W.position=="left"||W.position=="right"){if(D){ae=D}}}return M};M.gridlineLength=function(ag){if(arguments.length==0){return W.gridline.length}W.gridline.length=ag;return M};M.startPadding=function(){var ag=0;if(W.type=="value"){ag=i().properties(W).style(p).position(W.position).axScale(ac).startPadding()}return ag};M.endPadding=function(){var ag=0;if(W.type=="value"){ag=i().properties(W).style(p).position(W.position).axScale(ac).endPadding()}return ag};M.size=function(ag){if(arguments.length==0){return{width:D,height:V,}}D=ag.width;V=ag.height;return M};M.independentData=function(ag){if(W.isIndependentMode){if(arguments.length==0){return s}s=ag}},M.data=function(ag){if(arguments.length==0){return s}if(!W.isIndependentMode){s=ag;if(ag.getAnalysisAxisDataByIdx){U=s.getAnalysisAxisDataByIdx(0)}}return M};M.title=function(ag){if(arguments.length==0){return Z}Z=ag;return M};M.properties=function(ag){if(arguments.length==0){return W}f.extend(true,W,ag);if(ag.color){W.customizedColor=ag.color}return M};M.range=function(){var ag=null;if((W.type==="value")&&(W.scale.fixedRange)){if((W.scale.maxValue!==null)&&(W.scale.minValue!==null)){ag={max:W.scale.maxValue,min:W.scale.minValue,from:"axis"}}}return ag};M.scale=function(ag){if(arguments.length==0){return ac}ac=ag;return M};M.isDrawBody=function(ag){if(arguments.length==0){return L}L=ag;return M};M.color=function(ag){if(arguments.length==0){return W.color}if(W.customizedColor){ag=W.customizedColor}if(!ag){ag=u}W=f.extend(true,W,{color:ag});if(W.title.applyAxislineColor&&ag){p.realStyle.title.fill=ag;p.defaultStyle.title.fill=ag}return M};M.drawable=function(ag){if(arguments.length==0){return X}X=ag;return M};M.getPreferredSize=function(){C();var ay=[0];var an=[0];if(ac){ay=ac.range();an=ac.domain()}if(!ac||(!N())){return{width:0,height:0,manual:false,}}else{var av=T();var ai=(av.core)().properties(W).style(p).position(W.position).axScale(av.coreScale).spaceLimit(ae);var aw,aq;if(W.title.visible&&W.visible){if(W.title.text!==undefined&&W.title.text!==null){aw=W.title.text}else{aw="Value"}}var am=0;var ap=0;var ah=0;var ak=[];var ag=ai.getPreferredSize();if(W.position=="bottom"||W.position=="top"){if(!ab()){ag.height=0;ag.spacings=[]}if(W.title.visible&&W.visible){am=aa(aw,p.realStyle.title).height;ah=J}var au=am+ah;ak=ak.concat([au]);ak=ak.concat(ag.spacings);var aj=0;for(var at=1;at<ak.length;at++){aj+=ak[at]}var ax=au+aj;var ar=ax;if(ae>=0&&ae<ax){ar=ag.height}aq={maxSizeConstant:0.5,width:ag.width,height:ax,realHeight:ar,spacings:ak,manual:false,}}else{if(W.position=="left"||W.position=="right"){if(!ab()){ag.width=0;ag.spacings=[]}if(W.title.visible&&W.visible){ap=aa(aw,p.realStyle.title).height;ah=J}var au=ap+ah;ak=ak.concat([au]);ak=ak.concat(ag.spacings);var aj=0;for(var at=1;at<ak.length;at++){aj+=ak[at]}var al=aj+au;var ao=al;if(ae>=0&&ae<al){ao=ag.width}aq={maxSizeConstant:0.5,width:al,realWidth:ao,height:ag.height,spacings:ak,manual:false,}}}if((W.type=="category")&&(W.layoutInfo.width>0)&&(W.layoutInfo.height>0)){aq.width=W.layoutInfo.width;aq.realWidth=W.layoutInfo.width;aq.height=W.layoutInfo.height;aq.realHeight=W.layoutInfo.height;aq.manual=true}return aq}};M.dispatch=function(ag){if(!arguments.length){return E}E=ag;return M};var aa=function(ah,ag){return d.fastMeasure(ah,ag["font-size"],ag["font-weight"],ag["font-family"])};function x(ag){if(ag[0].type==="MND"||ag[ag.length-1].type==="MND"){return true}else{return false}}function Y(ag){if(ag.length===1&&ag[0].type==="MND"){return true}else{return false}}function af(ag){if(ag[0].type==="MND"){return true}else{return false}}function o(ag){if(!x(ag)){return}if(af(ag)){return ag[0]}else{return ag[ag.length-1]}}function n(am){if(!x(am)||Y(am)){return am}var al=[];var aj,ai,ah;for(aj=0;aj<am.length;++aj){al.push({col:am[aj].col,rows:[]})}var ag=o(am);var ak=ag.rows.length;var an;if(af(am)){an=am[1].rows.length;for(aj=0;aj<ak;++aj){for(ai=0;ai<an;++ai){al[0].rows.push(am[0].rows[aj])}}for(aj=1;aj<am.length;++aj){for(ai=0;ai<ak;++ai){al[aj].rows=al[aj].rows.concat(am[aj].rows)}}}else{an=am[0].rows.length;for(aj=0;aj<an;++aj){al[al.length-1].rows=al[al.length-1].rows.concat(am[am.length-1].rows)}for(aj=0;aj<am.length-1;++aj){for(ai=0;ai<an;++ai){for(ah=0;ah<ak;++ah){al[aj].rows.push(am[aj].rows[ai])}}}}return al}function F(ak){var al,aj;var ao=[];var ah,am,ai;var ag,an;for(al=0;al<ak.length;++al){ah=[];ai=0;an=0;ag=0;for(aj=0;aj<ak[al].rows.length;++aj){am={};if(al===ak.length-1){am.value=ak[al].rows[aj];am.space=1}else{++ai;++an;if(al>0&&an>=ao[al-1][ag].space){am.value=ak[al].rows[aj];am.space=ai;ai=0;an=0;++ag}else{if(aj+1<ak[al].rows.length&&ak[al].rows[aj].val===ak[al].rows[aj+1].val){continue}else{am.value=ak[al].rows[aj];am.space=ai;ai=0}}}ah.push(am)}ao.push(ah)}return ao}function Q(ai){var ah=n(ai);var ag=F(ah);return ag}function S(ag){for(var ah=0;ah<ag.length;++ah){ag[ah].reverse()}}var T=function(){var ar={};var ah;if(W.type=="category"){ah=[];var am=[];if(W.isIndependentMode){for(dataObj in s){am=s[dataObj].values}}else{if(U){am=U.values}}var ag=[];if(am&&am.length){ag=Q(am)}var al=ac.range();if(al[0]>al[al.length-1]){S(ag)}var aB=ag.length===0?0:ag[ag.length-1].length;var ak=ac.rangeBand(),aj=[];var aA=false;if(am&&am.length>0&&am[0].rows.length===0){aA=true;aB=1;var ao={value:{},space:1};ao.value={val:U.values[0].col.val,ctx:null};ag=[[ao]]}var ax;if(!ac.noEqual){if(!Y(am)&&!aA){for(ax=0;ax<aB;ax++){aj[ax]=ak}}else{var aq=parseInt(al.length/aB,10);for(ax=0;ax<aB;ax++){aj[ax]=ak*aq}}}else{for(ax=0;ax<aB;ax++){aj[ax]=Math.abs(al[ax]-al[ax+1])}}function at(aE){var aD=0;for(var aC=0;aC<aE;aC++){aD+=aj[aC]}return aD}var ap={};var ai=[];var an=[];var aw,av,ay=0;var az,au;for(aw=0;aw<ag.length;++aw){ai=[];an=[];ay=0;for(av=0;av<ag[aw].length;++av){ai.push(ag[aw][av].value);ay+=ag[aw][av].space;az=av>0?an[av-1][1]:0;au=at(ay);an.push([az,au])}var ap={domain:ai,range:an,};ah.push(ap)}core=b}else{core=i;ah=ac}ar.core=core;ar.coreScale=ah;ar.coreScale.noEqual=ac.noEqual;return ar};function r(){if(!G){return}if(W.customizedColor){W.color=W.customizedColor}var ag={drawingEffect:"normal",fillColor:W.color,};W.color=G.register(ag);ag={drawingEffect:"normal",fillColor:W.gridline.color,};W.gridline.color=G.register(ag);ag={drawingEffect:"normal",fillColor:p.defaultStyle.label.fill,};p.defaultStyle.label.fill=G.register(ag);ag={drawingEffect:"normal",fillColor:p.defaultStyle.title.fill,};p.defaultStyle.title.fill=G.register(ag)}return M}});sap.riv.module({qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.axis",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.axis",type:b.Module.Type.Supplementary,name:"axis",properties:{isIndependentMode:{name:"isIndependentMode",supportedValueType:"Boolean",defaultValue:false,description:"Set whether axis works on independent mode, currently it is used specially for boxplot chart.",isExported:false},isPercentMode:{name:"isPercentMode",supportedValueType:"Boolean",defaultValue:false,description:"Show the label 0.1 as 10",isExported:false},lineSize:{name:"lineSize",supportedValueType:"String",defaultValue:"1",description:"Set line size of axis.",isExported:true,},title:{name:"title",description:"Settings for axis title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of axis title."},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set text of axis title."},applyAxislineColor:{name:"applyAxislineColor",supportedValueType:"Boolean",defaultValue:false,description:"Set title color same with axisline color.",isExported:false,},},},gridline:{name:"gridline",description:"Settings for axis gridline.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axis gridline."},showFirstLine:{name:"showFirstLine",supportedValueType:"Boolean",defaultValue:false,description:"Set enabled/disabled the first line of gridlines.",isExported:false,},showLastLine:{name:"showLastLine",supportedValueType:"Boolean",defaultValue:false,description:"Set enabled/disabled the last line of gridlines.",isExported:false,},type:{name:"type",supportedValueType:"List",supportedValues:["line","dotted","incised"],defaultValue:"line",description:"Set type of gridline.",isExported:true,},color:{name:"color",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Set color of gridline.",isExported:true,},size:{name:"size",supportedValueType:"String",defaultValue:"1",description:"Set line size of gridline.",isExported:true,},},},color:{name:"color",supportedValueType:"String",defaultValue:"#6c6c6c",description:"Set color of axisline.",isExported:true,},axisline:{name:"axisline",description:"Settings for axisline.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axisline."},},},type:{name:"type",supportedValueType:"List",supportedValues:["value","category",],defaultValue:"value",description:"Set type of axis.",isExported:false,},visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axis.",},label:{name:"label",description:"Settings for axis label.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axis label."},numberFormat:{name:"numberFormat",supportedValueType:"String",defaultValue:"",description:"Set number format of value axis."},formatString:{name:"formatString",supportedValueType:"String",defaultValue:null,description:"Set format string of value axis. If number format and format string are both set, number format will be ignored. "}},},position:{name:"position",supportedValueType:"List",supportedValues:["left","right","top","bottom"],defaultValue:"bottom",description:"Set position of axis.",isExported:false,},scale:{name:"scale",description:"Set scale for value axis. this property just work on value type axis.",supportedValueType:"Object",supportedValues:{fixedRange:{name:"fixedRange",supportedValueType:"Boolean",defaultValue:false,description:"Enable/disable fixed axis range according minValue and maxValue.",isExported:false},minValue:{name:"minValue",supportedValueType:"Number",defaultValue:0,description:"Set minValue of yAxis.",isExported:false},maxValue:{name:"maxValue",supportedValueType:"Number",defaultValue:0,description:"Set maxValue of yAxis.",isExported:false}},isExported:false},layoutInfo:{name:"layoutInfo",description:"Settings layoutInfo for category axis. this property just work on category type axis",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"Number",defaultValue:0,description:"Set width of xAxis.",isExported:false},height:{name:"height",supportedValueType:"Number",defaultValue:0,description:"Set height of xAxis.",isExported:false}},isExported:false}},css:{".viz-axis-title.v-title":{description:"Define style for the axis title.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-axis-label.v-label":{description:"Define style for the axis label.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(a){var b=function(){var f=function(i,h){if(!i||!h||a.isEmptyObject(i)||a.isEmptyObject(h)){return false}else{return d(i,h)&&e(i,h)}};function d(n,m){var l=[],j=[];var k=0;var h=n.getAnalysisAxisDataByIdx(k);while(h){l.push(h);++k;h=n.getAnalysisAxisDataByIdx(k)}k=0;h=m.getAnalysisAxisDataByIdx(k);while(h){j.push(h);++k;h=m.getAnalysisAxisDataByIdx(k)}if(l.length!==j.length){return false}var o=l.length;for(k=0;k<o;++k){if(l[k].index!==j[k].index){return false}if(!c(l[k].values,j[k].values)){return false}}return true}function e(m,l){var h=[],n=[];var k=0;var j=m.getMeasureValuesGroupDataByIdx(k);while(j){h.push(j);++k;j=m.getMeasureValuesGroupDataByIdx(k)}k=0;j=l.getMeasureValuesGroupDataByIdx(k);while(j){n.push(j);++k;j=l.getMeasureValuesGroupDataByIdx(k)}if(h.length!==n.length){return false}var o=h.length;for(k=0;k<o;++k){if(h[k].index!==n[k].index){return false}if(!g(h[k].values,n[k].values)){return false}}return true}function c(j,h){if(j.length!==h.length){return false}var l=j.length;for(var k=0;k<l;++k){if(j[k].type!==h[k].type){return false}if(j[k].col.val!==h[k].col.val){return false}if(j[k].rows.length!==h[k].rows.length){return false}}return true}function g(j,h){if(j.length!==h.length){return false}var l=j.length;for(var k=0;k<l;++k){if(j[k].col!==h[k].col){return false}if(j[k].rows.length!==h[k].rows.length){return false}}return true}return{hasSameSchema:f}};return b});sap.riv.module({qname:"sap.viz.data.handler.MeasureDataHandler",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(a){var b={makeMeasureValues:function(l,c,k,d,f){var h=[];for(var e=0;e<c.values.length;e++){if(f&&e!==l.path.mi){continue}var g={};var j=c.values[e];var m=j.rows;g.col=j.col;if(l){g.rows=this.createMeasureValues(l,m,k,d)}else{g.rows=this.createMeasureValuesWithoutCtx(m,k,d)}h.push(g)}return h},createMeasureValuesWithoutCtx_1_2:function(f,e){var c=[],d,g;if(e[0]===1){g=[];for(d=0;d<f[0].length;d++){g.push(f[0][d])}c.push(g)}else{if(e[0]===2){for(d=0;d<f[0].length;d++){g=[];g.push(f[0][d]);c.push(g)}}else{a.error("Not supported")}}return c},createMeasureValuesWithoutCtx_1_3:function(f,e){var c=[],d,g;if(e[0]===1){g=[];for(d=0;d<f[0].length;d++){g.push(f[0][d])}c.push([g])}else{if(e[0]===2){g=[];for(d=0;d<f[0].length;d++){g.push([f[0][d]])}c.push(g)}else{if(e[0]===3){for(d=0;d<f[0].length;d++){g=[];g.push([f[0][d]]);c.push(g)}}else{a.error("Not supported")}}}return c},createMeasureValuesWithoutCtx:function(e,d,c){if(d.length===1){if(c===1||c===2){return this.createMeasureValuesWithoutCtx_1_2(e,d)}else{if(c===3){return this.createMeasureValuesWithoutCtx_1_3(e,d)}else{a.error("Not supported")}}}else{if(d.length===2){if(c===2){return e}else{if(c===3){return this.createMeasureValues_2_3(e,d)}else{a.error("Not supported")}}}else{a.error("Not supported")}}a.error("Not supported")},createMeasureValues_1_2:function(c,g,f){var d=[],e,h;if(f[0]===1){h=[];for(e=0;e<g.length;e++){h.push(g[e][c.path.dii])}d.push(h)}else{if(f[0]===2){for(e=0;e<g.length;e++){h=[];h.push(g[e][c.path.dii]);d.push(h)}}else{a.error("Not supported")}}return d},createMeasureValues_1_3:function(c,g,f){var d=[],e,h;if(f[0]===1){h=[];for(e=0;e<g.length;e++){h.push(g[e][c.path.dii])}d.push([h])}else{if(f[0]===2){h=[];for(e=0;e<g.length;e++){h.push([g[e][c.path.dii]])}d.push(h)}else{if(f[0]===3){for(e=0;e<g.length;e++){h=[];h.push([g[e][c.path.dii]]);d.push(h)}}else{a.error("Not supported")}}}return d},createMeasureValues:function(d,g,f,c){var e=[];if(f.length===1){if(c===1||c===2){return this.createMeasureValues_1_2(d,g,f)}else{if(c===3){return this.createMeasureValues_1_3(d,g,f)}else{a.error("Not supported")}}}else{if(f.length===2){if(c===2){return g}else{if(c===3){return this.createMeasureValues_2_3(g,f)}else{a.error("Not supported")}}}else{a.error("Not supported")}}return e},createMeasureValues_2_3:function(k,g){var f,e,c;if(g[0]===1&&g[1]===2){return[k]}else{if(g[0]===1&&g[1]===3){c=[];for(f=0;f<k.length;f++){c.push([k[f]])}return c}else{if(g[0]===2&&g[1]===3){c=[];for(f=0;f<k.length;f++){var h=[];var l=k[f];for(e=0;e<l.length;e++){var d=l[e];h.push([d])}c.push(h)}return c}else{a.error("Not supported")}}}}};return b});sap.riv.module({qname:"sap.viz.data.handler.MultiChartDataHandler",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1"},{qname:"sap.viz.data.handler.MeasureDataHandler",version:"4.0.1"}],function Setup(e,c,d){function g(i){var h=i.slice(0);h.sort(function(k,j){return k.index-j.index});h.shift();return h}function f(h){if(h[0]===true){if(h[1]===true){return[1,2]}else{return[1]}}else{if(h[1]===true){return[2]}else{return[1]}}}function b(j){if(j[0]===true){if(j[1]===true){return[1]}else{if(j[2]===true){if(j.length>3){return[1]}else{return[2]}}else{if(j[3]===true){e.error("Not Supported")}else{return[1]}}}}else{if(j[1]===true){if(j[2]===true){return[1,2]}else{if(j[3]===true){e.error("Not Supported")}else{return[1]}}}else{if(j[2]===true){if(j[3]===true){e.error("Not Supported")}else{if(j.length>3){return[1]}else{return[2]}}}else{for(var h=0;h<j.length;h++){if(j[h]===true){e.error("could not determin measure value axis index")}}return[1]}}}e.error("could not determin measure value axis index")}function a(i,h){this._dataAdapter=i;this._aa=this._dataAdapter.getAnalysisAxisDataByIdx();this._mg=this._dataAdapter.getMeasureValuesGroupDataByIdx();this._subAxes=g(this._aa);this._type=h;if(this._type===undefined){this._measureValueAxisIndex=b(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=2}else{if(this._type==="measures"){this._measureValueAxisIndex=f(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=this._dataAdapter.getBindingInfo().length}}}a.prototype.getSubDataAdapter=function(h){if(this._type===undefined){return this.getSubDataAdapterByContext(h)}else{if(this._type==="measures"){return this.getSubDataAdapterByMeasures(h)}}return null};a.prototype.getSubDataAdapterByContext=function(h){var l,m,k,j;if(h){if(h.path.mg!==undefined&&h.path.mi!==undefined){if(h.path.di!==undefined&&h.path.dii!==undefined){l=new c();for(k=0;k<this._subAxes.length;k++){m=this._subAxes[k];l.addAnalysisAxis({index:m.index-1,values:m.values})}j=this._mg[h.path.mg];l.addMeasureValuesGroup({index:0,values:d.makeMeasureValues(h,j,this._measureValueAxisIndex,this._maxMeasureAxis,true)});return l}else{l=new c();for(k=0;k<this._subAxes.length;k++){m=this._subAxes[k];l.addAnalysisAxis({index:m.index-1,values:m.values})}j=this._mg[h.path.mg];l.addMeasureValuesGroup({index:0,values:d.makeMeasureValues(null,{values:[j.values[h.path.mi]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return l}}else{l=new c();for(k=0;k<this._subAxes.length;k++){m=this._subAxes[k];l.addAnalysisAxis({index:m.index-1,values:m.values})}for(k=0;k<this._mg.length;k++){j=this._mg[k];l.addMeasureValuesGroup({index:j.index,values:d.makeMeasureValues(h,j,this._measureValueAxisIndex,this._maxMeasureAxis,false)})}return l}}return null};a.prototype.getSubDataAdapterByMeasures=function(h){var l=new c();for(var k=0;k<this._aa.length;k++){l.addAnalysisAxis(this._aa[k])}var j=this._mg[0];l.addMeasureValuesGroup({index:0,values:d.makeMeasureValues(null,{values:[j.values[h.row]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});l.addMeasureValuesGroup({index:1,values:d.makeMeasureValues(null,{values:[j.values[h.col]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return l};return a});sap.riv.module({qname:"sap.viz.modules.util.DimensionalInfoHandler",version:"4.0.1"},[{qname:"sap.viz.lang.langManager",version:"4.0.1"}],function Setup(a){return function(f,m){var i=m;var q=f;var w;var t;var p={values:[]};var b={values:[]};var u=[];var x;var z;var n=a.get("IDS_DEFAULTMND");var o=function(){};o.setData=function(D){i=D;return o};o.setProperties=function(D){q=D;return o};o.getColumnDimensionData=function(){return b};o.getRowDimensionData=function(){return p};o.getContexts=function(){return u};function r(){var D=0;if(w>0){x=1;z=i.values[0].rows.length;u.push([]);var F=b.values;F[0]={col:{val:n},rows:[]};for(D=0;D<i.values[0].rows.length;++D){F[0].rows.push({val:i.values[0].rows[D].val,info:i.values[0].rows[D].info});u[0].push(i.values[0].rows[D].ctx)}}else{x=i.values[0].rows.length;z=1;var E=p.values;E[0]={col:{val:n},rows:[]};for(D=0;D<i.values[0].rows.length;++D){E[0].rows.push({val:i.values[0].rows[D].val,info:i.values[0].rows[D].info});u.push([i.values[0].rows[D].ctx])}}}function v(){p.values=[];b.values=[];x=0;z=0;u=[]}function C(F,E,D,H){for(var G=D;G<D+H;++G){if(i.values[G].rows[F].val!==i.values[G].rows[E].val){return false}}return true}function g(K,J,H,L){var F=0;var I=K.length;var N=true;for(var E=0;N&&E<L;++E){var D=I;var G=F;N=false;for(var M=F;M<I;++M){if(i.values[H+E].rows[K[M]].val===i.values[H+E].rows[J].val){N=true;if(M<D){D=M}if(M>=G){G=M+1}}}if(N){F=D;I=G}}if(!N){if(I<K.length){K.splice(I,0,J)}else{K.push(J)}}}function s(F,E,H){var D=[];for(var G=E;G<E+H;++G){D.push(i.values[G].rows[F].val)}return D}function j(H,D,F){var G={};for(var E=0;E<H.length;++E){G[s(H[E],D,F)]=E}return G}function c(F,J){var K=[];var E=[];E.push(0);var H;var I={};for(H=1;H<i.values[F].rows.length;++H){g(E,H,F,J)}var L=b.values;for(H=0;H<J;++H){I={};I.col=i.values[F+H].col;I.rows=[];I.rows[0]={val:i.values[F+H].rows[0].val,info:i.values[F+H].rows[0].info};L.push(I)}for(H=0;H<E.length;++H){for(var G=0;G<J;G++){L[G].rows[H]={val:i.values[F+G].rows[E[H]].val,info:i.values[F+G].rows[E[H]].info}}}var D=j(E,F,J);for(H=0;H<i.values[F].rows.length;++H){I=s(H,F,J);K[H]=D[I]}z=E.length;return K}function A(D){if(!D){return null}return{type:D.type,path:{aa:D.path.aa,di:D.path.di,dii:D.path.dii}}}function B(F){var E=[];for(var D=0;D<F.length;++D){E.push(A(F[D]))}return E}function h(F,D){for(var E=0;E<F.length;++E){if(!F[E]){continue}else{if(!F[E].path){F[E].path={}}}F[E].path.mg=D.path.mg;F[E].path.mi=D.path.mi}}function d(F){var D=u.length;for(var G=0;G<F;++G){for(var E=0;E<D;++E){u.push(B(u[E]))}}}function e(N,Q,M,P){var G=N?i.values.length-1:0;var E=i.values[G].rows;var S={};S.col=i.values[G].col;S.rows=[];var T=Q?p.values:b.values;var D=Q?M:P;var K,I,H;var J;if(Q&&M===0){T[0]={col:{val:n},rows:[]};h(u[0],E[0].ctx);T[0].rows.push({val:E[0].val});for(K=1;K<E.length;++K){T[0].rows.push({val:E[K].val});u.push(B(u[0]));h(u[K],E[K].ctx)}x=E.length;return}if(!Q&&P===0){T[0]={col:{val:n},rows:[]};for(K=0;K<E.length;++K){T[0].rows.push({val:E[K].val})}for(K=0;K<u.length;++K){u[K][0].path.mg=E[0].ctx.path.mg;u[K][0].path.mi=E[0].ctx.path.mi;for(I=1;I<E.length;++I){u[K].push(A(u[K][0]));u[K][I].path.mg=E[I].ctx.path.mg;u[K][I].path.mi=E[I].ctx.path.mi}}return}var L=Q?x:z;if(N){for(K=0;K<L;++K){for(I=0;I<T.length;++I){for(H=1;H<E.length;++H){J={val:T[I].rows[K*E.length+H-1].val,info:T[I].rows[K*E.length+H-1].info};T[I].rows.splice(K*E.length+H,0,J)}}}for(K=0;K<L;++K){for(I=0;I<E.length;++I){J={val:E[I].val};S.rows.push(J)}}T.push(S);if(Q){x*=E.length;for(K=0;K<x;K+=E.length){h(u[K],E[0].ctx);for(I=1;I<E.length;++I){var F=B(u[K]);u.splice(K+I,0,F);h(u[K+I],E[I].ctx)}}}else{z*=E.length;for(K=0;K<u.length;++K){for(I=0;I<z;I+=E.length){u[K][I].path.mg=E[0].ctx.path.mg;u[K][I].path.mi=E[0].ctx.path.mi;for(H=1;H<E.length;++H){u[K].splice(I+H,0,A(u[K][I]));u[K][I+H].path.mg=E[H].ctx.path.mg;u[K][I+H].path.mi=E[H].ctx.path.mi}}}}return}else{for(K=1;K<E.length;++K){for(I=0;I<D;++I){for(H=0;H<L;++H){J={val:T[I].rows[H].val,info:T[I].rows[H].info};T[I].rows.push(J)}}}for(I=0;I<E.length;++I){for(K=0;K<L;++K){J={val:E[I].val};S.rows.push(J)}}T.splice(0,0,S);if(Q){x*=E.length;d(E.length-1);for(K=0;K<x;++K){h(u[K],E[x%E.length].ctx)}}else{z*=E.length;for(K=0;K<u.length;++K){var R=[];h(u[K],E[0].ctx);for(I=1;I<E.length;++I){var O=B(K);h(O,E[0].ctx);R=R.concat(B(K))}u[K]=u[K].concat(R)}}}}function l(D,J,I){var H=p.values;var G=0;for(G=0;G<D;++G){var F={};F.col=i.values[J+G].col;F.rows=[];F.rows[0]={val:i.values[J+G].rows[0].val,info:i.values[J+G].rows[0].info};H.push(F)}for(G=1;G<i.values[J].rows.length;++G){if(C(G,G-1,J,D)){I[G]=x}else{++x;for(var E=0;E<D;E++){H[E].rows[x]={val:i.values[J+E].rows[G].val,info:i.values[J+E].rows[G].info}}I[G]=x}}++x}function k(){var L=0,G=i.values.length;var H=t,J=w;var I=false,K=true;var F;if(i.values[0].type==="MND"){++L;if(H>0){--H}else{--J;K=false}}if(i.values[G-1].type==="MND"){I=true;--G;if(J>0){--J;K=false}else{K=true;--H}}if(L<G){var M=[];if(J>0||H>0){M[0]=0;x=0;if(H>0){l(H,L,M)}else{x=1;for(F=1;F<i.values[L].rows.length;++F){M[F]=0}}var E=[];if(J>0){E=c(L+H,J)}else{z=1;for(F=0;F<i.values[L].rows.length;++F){E[F]=0}}u=new Array(x);for(F=0;F<x;++F){u[F]=[];for(var D=0;D<z;++D){u[F][D]=null}}for(F=0;F<i.values[L].rows.length;++F){u[M[F]][E[F]]=i.values[L+H+J-1].rows[F].ctx}}if(H<t||J<w){e(I,K,H,J)}}}o.process=function(){v();if(!i||!i.values||i.values.length===0){return}w=q&&q.numberOfDimensionsInColumn!==undefined?q.numberOfDimensionsInColumn:1;if(!w||w<0){w=0}if(w>i.values.length){w=i.values.length}t=i.values.length-w;if(t<0){t=0}if(i.values.length===1&&i.values[0].type==="MND"){r()}else{k()}};return o}});sap.riv.module({qname:"sap.viz.modules.layout",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"}],function Setup(a){return function(j){var d={resize:true,type:"grid",padding:[0,0,0,0],hgap:0,vgap:0};var g=j.hgap||d.hgap,l=j.vgap||d.vgap,i=j.padding||d.padding,f=j.bias||"none";var h;switch(j.type){case"border":c(j.prefs);break;case"grid":b(j.prefs);break;case"table":k();break;case"border2":e(j);break;default:b(j.prefs)}function e(o){var m=o.specs;var r=o.size;var q={};for(var s in m){if(m.hasOwnProperty(s)){q[m[s].info]={size:m[s].preferSize,key:s}}}c(q);var n={};for(var p in h){if(h.hasOwnProperty(p)){n[q[p].key]=h[p]}}h=n}function c(t){h={};var u={};u.width=j.size.width-i[1]-i[3];u.height=j.size.height-i[0]-i[2];var q=i[3],p=i[0],o=j.size.width-i[1],n=j.size.height-i[2];var s=new Array,r;if(f instanceof Array){s[0]=f[0];s[1]=f[1];s[2]="north";s[3]="south"}else{switch(f){case"west":s[0]="west";s[1]="north";s[2]="south";s[3]="east";break;case"east":s[0]="east";s[1]="north";s[2]="south";s[3]="west";break;default:s[0]="north";s[1]="south";s[2]="east";s[3]="west"}}s[4]="center";for(r=0;r<s.length;r++){m(s[r])}function m(D){function B(K){if(arguments.length<2){return 0}var J=Array.prototype.slice.apply(arguments).slice(1);var H=[];for(var I=0;I<J.length;I++){if(J[I].length>1){H[I]=J[I].slice(1);H[I].push(J[I][0])}}var F=0;var E=0;for(var I=0;I<H[0].length;I++){for(var G=0;G<H.length;G++){E+=H[G][I]}if(E>K){return F}F+=H[0][I]}return F}var A={},w={};if(D==="north"&&t.north){A=h.north={};w=t.north.size;var C=w.height;var z=C;if(w.spacings&&t.south&&t.south.size.spacings){z+=t.south.size.height}if(w.maxSizeConstant&&z>u.height*w.maxSizeConstant){if(w.hideOversize){C=0}else{if(w.spacings){if(t.south&&t.south.size.spacings){C=B(u.height*w.maxSizeConstant,w.spacings,t.south.size.spacings)}else{C=B(u.height*w.maxSizeConstant,w.spacings)}}else{C=u.height*w.maxSizeConstant}}}A.bounds={x:q,y:p,width:o-q,height:C};p+=(A.bounds.height+g);if(A.bounds.height==0){h.north=null}}if(D==="east"&&t.east){A=h.east={};w=t.east.size;var x=w.width;var v=x;if(w.spacings&&t.west&&t.west.size.spacings){v+=t.west.size.width}if(w.maxSizeConstant&&v>u.width*w.maxSizeConstant){if(w.hideOversize){x=0}else{if(w.spacings){if(t.west&&t.west.size.spacings){x=B(u.width*w.maxSizeConstant,w.spacings,t.west.size.spacings)}else{x=B(u.width*w.maxSizeConstant,w.spacings)}}else{x=u.width*w.maxSizeConstant}}}if(x<w.minWidth){x=0}A.bounds={x:o-x,y:p,width:x,height:n-p};if(A.bounds.height<w.minHeight){A.bounds.width=0}o-=(A.bounds.width-l);if(A.bounds.width==0){h.east=null}}if(D==="south"&&t.south){A=h.south={};w=t.south.size;var C=w.height;var z=C;if(w.spacings&&t.north&&t.north.size.spacings){z+=t.north.size.height}if(w.maxSizeConstant&&z>u.height*w.maxSizeConstant){if(w.hideOversize){C=0}else{if(w.spacings){if(t.north&&t.north.size.spacings){C=B(u.height*w.maxSizeConstant,w.spacings,t.north.size.spacings)}else{C=B(u.height*w.maxSizeConstant,w.spacings)}}else{C=u.height*w.maxSizeConstant}}}A.bounds={x:q,y:(n-C)<p?p:(n-C),width:o-q};A.bounds.height=C;n-=(A.bounds.height-g);if(A.bounds.height==0){h.south=null}}if(D==="west"&&t.west){A=h.west={};w=t.west.size;var x=w.width;var v=x;if(w.spacings&&t.east&&t.east.size.spacings){v+=t.east.size.width}if(w.maxSizeConstant&&v>u.width*w.maxSizeConstant){if(w.hideOversize){x=0}else{if(w.spacings){if(t.east&&t.east.size.spacings){x=B(u.width*w.maxSizeConstant,w.spacings,t.east.size.spacings)}else{x=B(u.width*w.maxSizeConstant,w.spacings)}}else{x=u.width*w.maxSizeConstant}}}A.bounds={x:q,y:p,width:x,height:(p+w.height)>n?n:(p+w.height)};q+=(A.bounds.width+l);if(A.bounds.width==0){h.west=null}}if(D==="center"&&t.center){A=h.center={};A.bounds={x:q,y:p,width:o-q,height:n-p}}}}function b(m){}function k(p){h=[];var o=a.isExist(j.columns)?j.columns:3;var u=a.isExist(j.rows)?j.rows:2;var z=a.isExist(j.cellpadding)?j.cellpadding:5;var v=a.isExist(j.paddingThreshold)?j.paddingThreshold:0.1;var s={};s.width=j.size.width-i[1]-i[3];s.height=j.size.height-i[0]-i[2];var t=s.width/o;var E=s.height/u;if(z>t*v||z>E*v){z=2}var x=(s.width-2*o*z)/o;x=x>0?x:0;var n=(s.height-2*u*z)/u;n=n>0?n:0;var D=i[3],B=i[0],C=j.size.width-i[1],A=j.size.height-i[2];for(var q=0;q<o;q++){var m=[];for(var r=0;r<u;r++){var w={};w.bounds={x:q*t+t/2-x/2,y:r*E+E/2-n/2,width:x,height:n};m.push(w)}h.push(m)}}return h}});sap.riv.module({qname:"sap.viz.modules.tablecontainer",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.modules.layout",version:"4.0.1"},{qname:"sap.viz.modules.util.DimensionalInfoHandler",version:"4.0.1"},{qname:"sap.viz.data.handler.MultiChartDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"},{qname:"sap.viz.util.fn.createContext",version:"4.0.1"},{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"}],function Setup(a,g,e,b,n,j,l,i,d,k,f,m,c){var h=function(K,S){var q=0,s=0,au=0,T=0,r={},ap=K.props(null),ab={},ak={},G=[],P=[],aq=null,ag={},V={},x={},I=null,ao=3,M=2,u=d3.scale.ordinal(),am=d3.scale.ordinal(),O=new d("initialized","showTooltip","hideTooltip"),D=0,X=0,af,aa;var J="multiLayout";var v=0;var ac={dataLoading:true,dataUpdating:true,resizing:true};var R=true,C=false;var an="plotArea";function W(ax){var az={};var aw=(az[an]={});var aA=(aw.animation={});g.extend(aA,ac);if(!ax&&C){aA.dataLoading=ac.dataUpdating}var aB=V.plot;for(var ay=0,av=aB.length;ay<av;ay++){aB[ay].properties(az)}}function F(){for(var av in ab){if(ab.hasOwnProperty(av)){delete ab[av]}}}function A(){if(a.isEmptyObject(ag)){e.error("Container configuration missing")}w();D=0,X=0;L(ag,"xAxis",ak.columnData);L(ag,"yAxis",ak.rowData);L(ag,"xAxis2",ak.columnData);L(ag,"yAxis2",ak.rowData);ah();al("plot");al("xAxis2");al("yAxis");t();E();X=X+D}function w(){delete ak.contexts;delete ak.columnData;delete ak.rowData;delete ak.dataHandler;var av=n({numberOfDimensionsInColumn:ap.numberOfDimensionsInColumn},aq.getAnalysisAxisDataByIdx(0));av.process();var aA=av.getRowDimensionData();var ay=av.getColumnDimensionData();var az=av.getContexts();ao=az.length;M=ao>0?az[0].length:M;var aw=new i();aw.addAnalysisAxis({key:aw.key,index:0,values:ay.values});var ax=new i();ax.addAnalysisAxis({key:aA.key,index:0,values:aA.values});ak.contexts=az;ak.columnData=aw;ak.rowData=ax;ak.dataHandler=new j(aq)}function L(aw,aC,av){if(!aw.modules[aC]){return}var aA=aw.modules[aC],az=V[aC]=f(aA.id,S,"v-"+aC);z(aC,av);var ay={},ax,aB;if(aA.configure){ax=r[aA.configure.propertyCategory]||{};aB=aA.configure.properties||{};g.extend(true,ay,aB,ax);az.properties(ay)}if(az.dispatch&&az.dispatch()["initialized"]){X++;az.dispatch().on("initialized.tablecontainer",H)}x[aC]=I.append("g").attr("class","v-"+aC)}function z(aw,av){if(V[aw]){V[aw].data(av)}}function ah(){var aD=ag.modules.plot;if(!aD){return}Q();ad();var aw=ak.contexts;var aC=V.plot=[],ax=0;for(var az=0;az<M;az++){for(var aB=0;aB<ao;aB++){var ay=aw[aB][az];if(ay){if(!af||!aa){af=l.get(aD.id);aa=m(af,S,"v-m-plot")}var aA=aC[ax]=f(af,aa);aA.config(aD);if(aA.dispatch){D++;var av=aA.dispatch();if(av.initialized){av.on("initialized.tablecontainer",H)}if(av.showTooltip){av.on("showTooltip.tablecontainer",at)}if(av.hideTooltip){av.on("hideTooltip.tablecontainer",N)}}++ax}}}}function p(){var aB=V.plot;if(aB){var az=ag.modules.plot;if(!az){return}var ay=null,ax,aA;var aC=az.configure;if(aC){aA={};if(aC.propertyCategory){aA[aC.propertyCategory]=aC.properties}ax=r;ay={};g.extend(true,ay,aA,ax)}else{ay=r}for(var aw=0,av=aB.length;aw<av;aw++){if(ay&&aB[aw]){aB[aw].properties(ay)}}}}function al(ax){if(ax==="plot"){p()}else{var av=V[ax];if(av){var az=ag.modules[ax];if(!az){return}var aw;var ay=az.configure;if(ay){aw=g.extend(true,{},r[ay.propertyCategory])}else{aw=r}av.properties(aw)}}}function t(){var av=ak.dataHandler;var aC=ak.contexts;var aA=V.plot,aw=0;for(var ay=0;ay<M;ay++){for(var ax=0;ax<ao;ax++){var aB=aC[ax][ay];if(aB){var az=av.getSubDataAdapter(aB);if(aA[aw]){aA[aw].data(az);++aw}}}}}function E(){var ax=ag.modules.plot;if(!ax){return}var aK=V.plot;var aN=x.plot=[];var aC=ak.contexts;if(x.plotRoot){x.plotRoot.remove()}var aw=x.plotRoot=I.append("g").attr("class","v-m-plot");var aM=0;for(var aF=0;aF<M;aF++){for(var aD=0;aD<ao;aD++){var aA=aC[aD][aF];if(aA){var aH=aK[aM];aN[aM]=aw.append("g").attr("class","v-m-plot"+aM);aH.parent(aN[aM]);if(aH.modules){var aB=aH.modules();var aP;for(var aL in aB){if(aB.hasOwnProperty(aL)){aP="plot["+aM+"]."+aL;G.push(aP);V["plot["+aM+"]."+aL]=aB[aL]}}}var aI=ax.controllers;if(aI){for(var aE in aI){if(aI.hasOwnProperty(aE)){var aO=aI[aE];var aJ=f(aO.id,S);aJ().module(aH);var ay={};var av=aO.propertyCategory;var aG=r[av];var az=aO.properties;g.extend(true,ay,az,aG);aJ.properties(ay);P.push("plot["+aM+"]."+aE);V["plot["+aM+"]."+aE]=aJ}}}++aM}}}}function Q(){for(var aw=0,av=P.length;aw<av;aw++){delete V[P[aw]]}P=[]}function ad(){for(var aw=0,av=G.length;aw<av;aw++){delete V[G[aw]]}G=[];if(aa){aa.styleManager.cleanChildren()}}function ai(){if(a.isEmptyObject(V)||!q||!s){return}var aJ={};if(V.xAxis){V.xAxis.drawable(true);aJ.south={size:V.xAxis.getPreferredSize()}}if(V.yAxis){V.yAxis.drawable(true);aJ.west={size:V.yAxis.getPreferredSize()}}if(V.xAxis2){V.xAxis2.drawable(true);aJ.north={size:V.xAxis2.getPreferredSize()}}if(V.yAxis2){V.yAxis2.drawable(true);aJ.east={size:V.yAxis2.getPreferredSize()}}if(V.plot){aJ.center={}}var aB=b({type:"border",bias:"none",size:{width:q,height:s},prefs:aJ});au=aB.center.bounds.width;T=aB.center.bounds.height;u.rangeBands([0,au]);am.rangeBands([0,T]);if(aB.north){var av=0,aH=0;if(aB.west){av=aB.north.bounds.width-aB.west.bounds.width;aH=aB.north.bounds.x+aB.west.bounds.width}if(aB.east){av=aB.north.bounds.width-aB.east.bounds.width}x.xAxis2.attr("transform","translate("+aH+","+aB.north.bounds.y+")");V.xAxis2.width(av).height(aB.north.bounds.height);V.xAxis2.gridlineLength(aB.center.bounds.height)}else{if(V.xAxis2){V.xAxis2.drawable(false)}}if(aB.east){x.yAxis2.attr("transform","translate("+aB.east.bounds.x+","+aB.east.bounds.y+")");V.yAxis2.width(aB.east.bounds.width).height(aB.east.bounds.height);V.yAxis2.gridlineLength(aB.center.bounds.width)}else{if(V.yAxis2){V.yAxis2.drawable(false)}}if(aB.south){var aI=0,aE=0;if(aB.west){aI=aB.south.bounds.width-aB.west.bounds.width;aE=aB.south.bounds.x+aB.west.bounds.width}if(aB.east){aI=aB.south.bounds.width-aB.east.bounds.width}x.xAxis.attr("transform","translate("+aE+","+aB.south.bounds.y+")");V.xAxis.width(aI).height(aB.south.bounds.height);V.xAxis.gridlineLength(aB.center.bounds.height)}else{if(V.xAxis){V.xAxis.drawable(false)}}if(aB.west){x.yAxis.attr("transform","translate("+aB.west.bounds.x+","+aB.west.bounds.y+")");V.yAxis.width(aB.west.bounds.width).height(aB.west.bounds.height);V.yAxis.gridlineLength(aB.center.bounds.width)}else{if(V.yAxis){V.yAxis.drawable(false)}}if(aB.center){x.plotRoot.attr("transform","translate("+aB.center.bounds.x+","+aB.center.bounds.y+")");var az=b({type:"table",bias:"none",size:{width:aB.center.bounds.width,height:aB.center.bounds.height},columns:M,rows:ao,cellpadding:ap.cellPadding,paddingThreshold:ap.paddingThreshold});var ax=0;var aw=ak.contexts;for(var aA=0;aA<M;aA++){for(var aD=0;aD<ao;aD++){var ay=aw[aD][aA];if(ay){var aC=V.plot[ax];var aG=az[aA][aD];var aF=x.plot[ax];aC.width(aG.bounds.width).height(aG.bounds.height);aF.attr("transform","translate("+aG.bounds.x+","+aG.bounds.y+")");++ax}}}}}function U(av){return function(ax){if(!arguments.length){return ab[av]}else{if(!ab[av]){ab[av]=ax}else{var aw=ab[av];if(ax.distinctValuesObj){for(var ay in ax.distinctValuesObj){if(ax.distinctValuesObj.hasOwnProperty(ay)){aw.distinctValuesObj[ay]=ax.distinctValuesObj[ay]}}}if(ax.min<aw.min){aw.min=ax.min}if(ax.max>aw.max){aw.max=ax.max}if(ax.hasNoValue){aw.hasNoValue=true}}}}}function o(ax){for(var aw=0,av=ax.length;aw<av;aw++){ae[ax[aw]+"DataRange"]=U(ax[aw])}}function Z(aw){r=aw;if(r[an]){g.extend(ac,r[an].animation)}if(aw[J]){if(aw[J].mergeDataRange){ap.mergeDataRange=aw[J].mergeDataRange;o(ap.mergeDataRange)}var av=ap.numberOfDimensionsInColumn;g.extend(true,ap,aw[J]);if(V.plot&&av!==ap.numberOfDimensionsInColumn){w();F();z("xAxis",ak.columnData);z("yAxis",ak.rowData);z("xAxis2",ak.columnData);z("yAxis2",ak.rowData);t();ai()}}}function ar(){var ax=[];for(var av=0;av<M;av++){ax.push(av)}var aw=V.xAxis?V.xAxis:V.xAxis2;u.domain(ax).rangeBands([0,au])}function B(){var ax=[];for(var aw=0;aw<ao;aw++){ax.push(aw)}var av=V.yAxis?V.yAxis:V.yAxis2;am.domain(ax).rangeBands([0,T])}function ae(av){av.each(function(aw){if(!R&&C){W()}v=0;I=av;k.drawBound(av,q,s);if(a.isEmptyObject(V)){A()}Y();if(!R&&C){W(true)}});R=false,C=false;return ae}ae.width=function(av){if(!arguments.length){return q}q=av;F();ai();return ae};ae.height=function(av){if(!arguments.length){return s}s=av;F();ai();return ae};ae.size=function(av){if(!arguments.length){return{width:q,height:s}}s=av.height;q=av.width;F();ai();return ae};ae.data=function(aw){if(!arguments.length){return aq}C=true;var av=false;if(!c().hasSameSchema(aq,aw)){av=true}aq=aw;F();if(!a.isEmptyObject(V)){w();if(av){X=X-D;z("xAxis",ak.columnData);z("yAxis",ak.rowData);z("xAxis2",ak.columnData);z("yAxis2",ak.rowData);D=0;ah();al("plot");al("xAxis2");al("yAxis");t();E();X=X+D}else{t()}}return ae};ae.properties=function(av){if(!arguments.length){return ap}Z(av);if(!a.isEmptyObject(V)){al("plot");al("xAxis2");al("yAxis")}return ae};ae.config=function(av){if(!arguments.length){return ag}ag=av;return ae};ae.xCategoryScale=function(av){if(!arguments.length){ar();return u}u=av;return ae};ae.yCategoryScale=function(av){if(!arguments.length){B();return am}am=av;return ae};ae.modules=function(av){if(!arguments.length){if(a.isEmptyObject(V)){A()}return V}V=av;return ae};ae.parent=function(av){if(!arguments.length){return I}I=av;return ae};ae.dispatch=function(av){if(!arguments.length){return O}O=av;return ae};ae.infoForSizeLegend=function(){var ax;for(var aw=-1,av=V.plot.length;++aw<av;){ax=V.plot[aw];if(ax){break}}return{space:ax?(q-au+ax.infoForSizeLegend().space*M):0,number:M,plotHeight:ax?ax.height():0}};ae.plotRegion=function(){return{selection:x.plotRoot,width:au,height:T}};function aj(av){if(x[av]){I.select(".v-"+av).datum(V[av].data()).call(V[av])}}function Y(){aj("xAxis");aj("xAxis2");aj("yAxis");aj("yAxis2");if(x.plot){for(var aw=0,av=x.plot.length;aw<av;aw++){if(x.plot[aw]){x.plot[aw].datum(V.plot[aw].data()).call(V.plot[aw])}}}}function H(){if(++v===X){v=0;O.initialized()}}function at(av){O.showTooltip(av)}function N(av){O.hideTooltip(av)}return ae};return h});sap.riv.module({qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.Constants",version:"4.0.1"},{qname:"sap.viz.modules.tablecontainer",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(f,b,e,g,d){var a={id:"multiplier",name:"Chart Multiplier",type:g.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:0};var c={id:"sap.viz.modules.tablecontainer",type:b.Type.Container,name:"table container",description:"Settings for the subcharts layout of multiple charts.",properties:{mergeDataRange:{name:"mergeDataRange",supportedValueType:"List",supportedValues:["ANY DATA RANGE NAME"],defaultValue:null,description:"Set mergeDataRange. Specify names of data range you want to merge, we will generate corresponding functions in this module to do the real merge. for example, if 'primary' and 'second' are specified here, two functions will be generated: 'primaryDataRange' and 'secondDataRange'. the function name is the range name plus 'DataRange'. these generated functions support both getter and setter, for setter, you can pass any number of ranges {min:NUM, max:NUM} to it to merge, then you can get the merged result through the getter.",isExported:false},numberOfDimensionsInColumn:{name:"numberOfDimensionsInColumn",supportedValueType:"PositiveInt",defaultValue:1,description:"Set the specified number of dimensions, retrieved from the end of the dimension list in multiplier, will be put in column when doing multiple layout."},cellPadding:{name:"cellPadding",supportedValueType:"PositiveInt",defaultValue:15,description:"Set padding between cells of sub plots. If cellPadding value exceeds containerSize * threshold, we set it to 0."},paddingThreshold:{name:"paddingThreshold",supportedValueType:"Number",defaultValue:0.2,description:"Set paddingThreshold, if cellPadding value exceeds the containerSize * threshold, we set it to 0.",isExported:false}},events:{showTooltip:d.Module.Event.TooltipShow.desc,hideTooltip:d.Module.Event.TooltipHide.desc},css:null,feeds:[a],fn:e};f.register(c)});sap.riv.module({qname:"sap.viz.data.handler.SingleChartDataHandler",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1"},{qname:"sap.viz.data.handler.MeasureDataHandler",version:"4.0.1"}],function Setup(e,b,d){function a(g){if(g[0]===true){if(g[1]===true){return[1,2]}else{if(g[2]===true){return[1,2]}else{if(g[3]===true){e.error("Not Supported")}else{return[1]}}}}else{if(g[1]===true){if(g[2]===true){return[1,2]}else{if(g[3]===true){e.error("Not Supported")}else{if(g.length>2){return[1]}else{return[2]}}}}else{if(g[2]===true){if(g[3]===true){e.error("Not Supported")}else{return[1]}}else{for(var f=0;f<g.length;f++){if(g[f]===true){e.error("could not determin measure value axis index")}}return[1]}}}e.error("could not determin measure value axis index")}function c(f){this._dataAdapter=f}c.prototype.getDataAdapter=function(){if(this._dataAdapter.getBindingInfo()===null||this._dataAdapter.getBindingInfo()===undefined){return this._dataAdapter}else{return this.getChartDataAdapter()}};c.prototype.getChartDataAdapter=function(){var m=a(this._dataAdapter.getBindingInfo());var l=this._dataAdapter.getAnalysisAxisDataByIdx();var h=this._dataAdapter.getMeasureValuesGroupDataByIdx();var k=new b();for(var g=0;g<l.length;g++){var j=l[g];k.addAnalysisAxis({index:j.index,values:j.values})}for(g=0;g<h.length;g++){var f=h[g];k.addMeasureValuesGroup({index:f.index,values:d.makeMeasureValues(null,f,m,2,false)})}return k};return c});sap.riv.module({qname:"sap.viz.modules.xycontainer",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.modules.layout",version:"4.0.1"},{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"},{qname:"sap.viz.data.handler.SingleChartDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,g,e,d,j,h,b,f,i){var c=function(n,E){var D=0,C=0,u={},L={},I={},H={},q={},F,x=null,k={class_prefix:{module:"v-m-"}};var B=new f("initialized","showTooltip","hideTooltip"),A=0;var v=n.props(null);var K=0;var r=function(R,O){var N={},Q,M,P;if(O){if(R){Q=R.propertyCategory;M=u;P={};P[Q]=R.properties;g.extend(true,N,P,M)}else{N=u}}else{if(R){Q=R.propertyCategory;M=u[Q];P=R.properties;g.extend(true,N,P,M)}}return N};var w=function(R,O){var M=I.modules;var N,Q,P;if(M[R]&&H[R]){Q=M[R].configure;if(O){N=u}else{if(Q){P=Q.propertyCategory;N=g.extend(true,{},u[P])}else{N={}}}H[R].properties(N)}};function l(){if(a.isEmptyObject(I)){e.error("Container configuration missing")}A=0;m("xAxis");m("yAxis");m("xAxis2");m("yAxis2");m("background");var V=I.modules.plot;if(!V){return}var P=H.plot=h(V.id,E,k.class_prefix.module+"plot");var S=new b(L);P.data(S.getDataAdapter());var O=I.modules.dataSampling;if(O){var M=H.datasampling=h(O.id,E);if(O.configure){var U=r(O.configure);M.properties(U)}M.data(V.id,S.getDataAdapter())}var Q;if(V.configure){Q=r(V.configure);P.properties(Q)}if(P.dispatch){var N=P.dispatch();if(N.initialized){A++;N.on("initialized.xycontainer",p)}if(N.showTooltip){N.on("showTooltip.xycontainer",o)}if(N.hideTooltip){N.on("hideTooltip.xycontainer",s)}}var R=I.modules.dataLabel;if(a.isExist(R)&&a.isExist(P.dataLabel)){var T=H.dataLabel=h(R.id,E);P.dataLabel(T);T.plot(P);if(R.configure){Q=r(R.configure);T.properties(Q)}}if(H.xAxis&&!q.xAxis){q.xAxis=x.append("g").attr("class",k.class_prefix.module+"xAxis")}if(H.xAxis2&&!q.xAxis2){q.xAxis2=x.append("g").attr("class",k.class_prefix.module+"xAxis2")}if(H.yAxis&&!q.yAxis){q.yAxis=x.append("g").attr("class",k.class_prefix.module+"yAxis")}if(H.yAxis2&&!q.yAxis2){q.yAxis2=x.append("g").attr("class",k.class_prefix.module+"yAxis2")}if(H.plot&&!q.plot){q.plot=x.append("g").attr("class",k.class_prefix.module+"plot")}if(H.background&&!q.background){q.background=x.insert("g",":first-child").attr("class",k.class_prefix.module+"background")}}function G(O){if(H[O]){var N=I.modules[O];var M=N.data;if(M){H[O].data(L.createDataAdapterForModule(M))}}}function m(P){if(!I.modules[P]){return}var O=I.modules[P],N=H[P]=h(O.id,E,"v-m-"+P);G(P);var M=r(O.configure);N.properties(M);if(N.dispatch&&N.dispatch()["initialized"]){A++;N.dispatch().on("initialized.xycontainer",p)}}function t(){if(a.isEmptyObject(H)||!D||!C){return}D=D<0?0:D;C=C<0?0:C;var Q={};if(H.xAxis){H.xAxis.drawable(true);Q.south={size:H.xAxis.getPreferredSize()}}if(H.yAxis){H.yAxis.drawable(true);Q.west={size:H.yAxis.getPreferredSize()}}if(H.xAxis2){H.xAxis2.drawable(true);Q.north={size:H.xAxis2.getPreferredSize()}}if(H.yAxis2){H.yAxis2.drawable(true);Q.east={size:H.yAxis2.getPreferredSize()}}if(H.plot){Q.center={}}var U=d({type:"border",bias:"none",size:{width:D,height:C},prefs:Q});var ab=0,W=rightPaddingxAxis2=0;if(!U.east){if(H.xAxis&&U.south){W=H.xAxis.endPadding()}if(H.xAxis2&&U.north){rightPaddingxAxis2=H.xAxis2.endPadding()}ab=W>rightPaddingxAxis2?W:rightPaddingxAxis2}var Y=0;var S=0;if(!U.north){var Z=0;var N=0;if(H.yAxis&&U.west){Z=H.yAxis.endPadding()}if(H.yAxis2&&U.east){N=H.yAxis2.endPadding()}Y=N;if(Z>N){Y=Z}S+=Y}if(S){if(U.east){U.east.bounds.y+=S}if(U.north){U.north.bounds.y+=S}if(U.west){U.west.bounds.y+=S}if(U.center){U.center.bounds.y+=S}}if(U.east){var T=0,aa=0;if(U.south){T=U.east.bounds.height-U.south.bounds.height}if(U.north){T=U.east.bounds.height-U.north.bounds.height}aa=U.east.bounds.y;q.yAxis2.attr("transform","translate("+U.east.bounds.x+","+aa+")");H.yAxis2.width(U.east.bounds.width).height(T);H.yAxis2.gridlineLength(U.center.bounds.width)}else{if(H.yAxis2){H.yAxis2.drawable(false)}}if(U.north){var M=0,ac=0;if(U.west){ac=U.north.bounds.x+U.west.bounds.width}q.xAxis2.attr("transform","translate("+ac+","+U.north.bounds.y+")");H.xAxis2.width(ac).height(U.north.bounds.height);H.xAxis2.gridlineLength(U.center.bounds.height)}else{if(H.xAxis2){H.xAxis2.drawable(false)}}if(U.west){var ad=0,P=0;if(U.south){ad=U.west.bounds.height-U.south.bounds.height}if(U.north){ad=U.west.bounds.height-U.north.bounds.height}P=U.west.bounds.y;q.yAxis.attr("transform","translate("+U.west.bounds.x+","+P+")");H.yAxis.width(U.west.bounds.width).height(ad);H.yAxis.gridlineLength(U.center.bounds.width)}else{if(H.yAxis){H.yAxis.drawable(false)}}if(U.south){var V=0,O=0;if(U.west){O=U.south.bounds.x+U.west.bounds.width}q.xAxis.attr("transform","translate("+O+","+U.south.bounds.y+")");H.xAxis.width(U.south.bounds.width).height(U.south.bounds.height);H.xAxis.gridlineLength(U.center.bounds.height)}else{if(H.xAxis){H.xAxis.drawable(false)}}if(U.center){q.plot.attr("transform","translate("+U.center.bounds.x+","+U.center.bounds.y+")");var R=U.center.bounds.width-ab;var X=U.center.bounds.height-Y;H.plot.width(R>0?R:0).height(X>0?X:0);F=D-R;if(q.background){q.background.attr("transform","translate("+U.center.bounds.x+","+U.center.bounds.y+")");H.background.width(R>0?R:0).height(X>0?X:0)}}if(U.west){H.yAxis.gridlineLength(U.center.bounds.width-ab)}if(U.south){H.xAxis.gridlineLength(U.center.bounds.height-Y)}}function z(M){M.each(function(N){K=0;i.drawBound(M,D,C);x=M;if(a.isEmptyObject(H)){l()}J()})}z.width=function(M){if(!arguments.length){return D}D=M;t();return z};z.height=function(M){if(!arguments.length){return C}C=M;t();return z};z.size=function(M){if(!arguments.length){return{width:D,height:C}}C=M.height;D=M.width;t();return z};z.data=function(N){if(!arguments.length){return L}L=N;if(!$.isEmptyObject(H)&&!$.isEmptyObject(u)){var M=new b(L);H.plot.data(M.getDataAdapter());G("xAxis");G("yAxis");G("xAxis2");G("yAxis2")}return z};z.properties=function(M){if(!arguments.length){return v}u=M;if(!$.isEmptyObject(H)&&!$.isEmptyObject(L)){w("xAxis");w("xAxis2");w("yAxis");w("yAxis2");w("plot");w("dataLabel");w("background")}return z};z.config=function(M){if(!arguments.length){return I}I=M;if(a.isEmptyObject(H)&&!$.isEmptyObject(L)&&!$.isEmptyObject(u)&&x!==null){l()}return z};z.modules=function(M){if(!arguments.length){if(a.isEmptyObject(H)){l()}return H}H=M;return z};z.parent=function(M){if(!arguments.length){return x}x=M;return z};z.dispatch=function(M){if(!arguments.length){return B}B=M;return z};z.infoForSizeLegend=function(){return{space:F,number:1,plotHeight:H.plot.height()}};z.rotate=function(M){var N=H.plot;if(!arguments.length){return N.rotate()}N.rotate(M);return z};function J(){for(var M in q){if(q.hasOwnProperty(M)){q[M].datum(H[M].data()).call(H[M])}}if(a.isExist(H.dataLabel)){H.dataLabel()}}function p(){if(A==++K){K=0;B.initialized()}}function o(M){B.showTooltip(M)}function s(M){B.hideTooltip(M)}return z};return c});sap.riv.module({qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.xycontainer",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.xycontainer",type:b.Module.Type.Container,name:"single container",properties:null,css:null,configure:null,events:{showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.util.BackgroundUtil",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"},{qname:"sap.viz.modules.background",version:"4.0.1"}],function Setup(d,b){var c="v-backgroundutil";var a={drawBackground:function(h,g,f){var e=d3.selectAll(h.node().childNodes).filter("."+c);if(e.empty()){e=h.insert("svg:g",":first-child").attr("class",c)}if(!g){g=b("sap.viz.modules.background",f.parentCtx,c)}g.width(f.width).height(f.height).properties(f.properties);e.call(g);return g}};return a});sap.riv.module({qname:"sap.viz.util.EffectManager",version:"4.0.1"},[],function Setup(){function g(l,k){this._defs=l;this._enableGhostEffect=k}function b(l,k,m,o){var n={r:l,g:k,b:m,a:o,toHex:function(){return d3.rgb(n.r,n.g,n.b).toString()},toString:function(){if(n.a<1){return"rgba("+n.r+","+n.g+","+n.b+","+n.a+")"}else{return n.toHex()}},};return n}function d(l){var n=d3.rgb(0,0,0),q=1;if(l!==undefined&&typeof(l)==="object"){if(l.rgb){n=l.rgb()}else{n=l}}else{if(typeof(l)==="string"){l=l.toLowerCase();if(l.indexOf("rgba")>=0){var s=l.substring(l.indexOf("(")+1);var o=s.lastIndexOf(","),m=s.indexOf(")");if(o>=0&&m>=0){var k="rgb("+s.substring(0,o)+")";var r=parseFloat(s.substring(o+1,m));n=d3.rgb(k);q=r}}else{if(l.indexOf("hsla")>=0){var s=l.substring(l.indexOf("(")+1);var o=s.lastIndexOf(","),m=s.indexOf(")");if(o>=0&&m>=0){var p="hsl("+s.substring(0,o)+")";var r=parseFloat(s.substring(o+1,m));n=d3.hsl(p).rgb();q=r}}else{if(l.indexOf("hsl")>=0){n=d3.hsl(l).rgb()}else{n=d3.rgb(l)}}}}}return b(n.r,n.g,n.b,q)}function a(o){var m=o.r,l=o.g,k=o.b,n;if((m===l)&&(l===k)){n=Math.round(m+(255-m)*0.6)}else{n=Math.round((m*299+l*587+k*114+500)/1000)}return b(n,n,n,o.a)}function j(s,q){var p=s.r,o=s.g,l=s.b,n,m,k;if(q>=0){n=Math.round(p+(255-p)*q/100);m=Math.round(o+(255-o)*q/100);k=Math.round(l+(255-l)*q/100)}else{n=Math.round(p*(100+q)/100);m=Math.round(o*(100+q)/100);k=Math.round(l*(100+q)/100)}return b(n,m,k,s.a)}function f(p,k,q,o){var n=q.toHex();var m=j(q,50).toHex();var l=j(q,-30).toHex();var s=p.append("radialGradient");var r=s[0][0];r.setAttribute("id",k);r.setAttribute("cx",0);r.setAttribute("cy",0);r.setAttribute("r",o);r.setAttribute("fx",0);r.setAttribute("fy",0);r.setAttribute("gradientUnits","userSpaceOnUse");s.append("stop").attr("stop-opacity",q.a).attr("offset",0).attr("stop-color",m);s.append("stop").attr("stop-opacity",q.a).attr("offset",0.9).attr("stop-color",n);s.append("stop").attr("stop-opacity",q.a).attr("offset",1).attr("stop-color",l)}function c(r,q,p){var o=p.toHex();var n=j(p,10).toHex();var l=j(p,80).toHex();var m=r.append("radialGradient");var k=m[0][0];k.setAttribute("id",q);k.setAttribute("cx","50%");k.setAttribute("cy","50%");k.setAttribute("r","50%");k.setAttribute("fx","50%");k.setAttribute("fy","20%");m.append("stop").attr("stop-opacity",p.a).attr("offset",0).attr("stop-color",l);m.append("stop").attr("stop-opacity",p.a).attr("offset",0.7).attr("stop-color",n);m.append("stop").attr("stop-opacity",p.a).attr("offset",0.9).attr("stop-color",o);m.append("stop").attr("stop-opacity",p.a).attr("offset",1).attr("stop-color",o)}function i(p,k,q,s){var o=j(q,30).toHex();var n=j(q,50).toHex();var m=j(q,-10).toHex();var l=j(q,10).toHex();var r=p.append("svg:linearGradient").attr("id",k).attr("x1","0%").attr("y1","0%");if(s==="horizontal"){r.attr("y2","0%").attr("x2","100%")}else{r.attr("y2","100%").attr("x2","0%")}r.append("stop").attr("stop-opacity",q.a).attr("offset",0).attr("stop-color",o);r.append("stop").attr("stop-opacity",q.a).attr("offset",0.2).attr("stop-color",n);r.append("stop").attr("stop-opacity",q.a).attr("offset",0.8).attr("stop-color",m);r.append("stop").attr("stop-opacity",q.a).attr("offset",1).attr("stop-color",l)}function h(o,n,m,l){var k=o.append("svg:linearGradient").attr("id",n);if(l==="horizontal"){k.attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","0%")}else{k.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%")}k.append("stop").attr("stop-opacity",m.a).attr("offset",0).attr("stop-color","#ffffff");k.append("stop").attr("stop-opacity",m.a).attr("offset",1).attr("stop-color",m.toHex())}function e(m,k){var n;if(m.drawingEffect==="glossy"){var l=k.toHex().slice(1)+k.a.toString().replace(".","");switch(m.graphType){case"sector":n=m.drawingEffect+m.graphType+l+Math.round(m.radius);break;case"circle":n=m.drawingEffect+m.graphType+l;break;case"triangle-up":case"triangle-down":n=m.drawingEffect+"triangle"+l+"vertical";break;case"triangle-left":case"triangle-right":n=m.drawingEffect+"triangle"+l+"horizontal";break;case"rectangle":case"diamond":case"cross":case"star":case"intersection":case"background":n=m.drawingEffect+"rectangle"+l+m.direction;break;default:n=m.drawingEffect+"rectangle"+l+m.direction;break;case"line":n=null;break}}return n}g.prototype.register=function(m){var n=m.fillColor;if((typeof(n)==="string")&&(n.toLowerCase()==="transparent")){return n}var k=d(n);if(this._enableGhostEffect){k=a(k)}var o=e(m,k);if(!o){return k.toString()}var l=this._defs.select("#"+o);if(l.empty()){if(m.drawingEffect==="glossy"){switch(m.graphType){case"background":h(this._defs,o,k,m.direction);break;case"sector":f(this._defs,o,k,m.radius);break;case"circle":c(this._defs,o,k,m.direction);break;case"triangle-up":case"triangle-down":i(this._defs,o,k,"vertical");break;case"triangle-left":case"triangle-right":i(this._defs,o,k,"horizontal");break;case"rectangle":case"diamond":case"cross":case"star":case"intersection":i(this._defs,o,k,m.direction);break;default:i(this._defs,o,k,m.direction);break}}else{return k.toString()}}return"url(#"+o+")"};g.prototype.container=function(k){if(!arguments.length){return this._defs}this._defs=k};g.prototype.ghostEffect=function(k){if(!arguments.length){return this._enableGhostEffect}this._enableGhostEffect=k};return g});sap.riv.module({qname:"sap.viz.modules.rootContainer",version:"4.0.1"},[{qname:"sap.viz.modules.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"},{qname:"sap.viz.util.EffectManager",version:"4.0.1"},{qname:"sap.viz.util.append",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.layout",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BackgroundUtil",version:"4.0.1"}],function Setup(d,a,e,g,b,j,h,i,c){var f=function(u,m){var C=0,B=0,I={},s={},G={},t=null,x=null,F={},p={},H=j("initialized","ready"),r=0,q=0,w=null,k={class_prefix:"v-m-",},l=new g();m.effectManager=l;function n(){$.each(G.modules,function(K,L){if(L===null){return}if(a.get(L.id).type===d.Type.Controller){F[K]().module(F[L.configure.clientID])}})}var J=[n];var D=function(M){var O=M.dataset,L=M.props,K=M.conf,N={};$.each(K.modules,function(P,T){if(T===null){return}var U=e(T.id,m,k.class_prefix+P),S=T.data?O.createDataAdapterForModule(T.data):O,R={},Q=a.get(T.id).type;N[P]=P==="tooltip"?U(x):U;if(N[P].data){N[P].data(S)}if(Q!==d.Type.Controller&&P!=="tooltip"){p[P]=b.apply(t,["g",{"class":k.class_prefix+P}])}if(a.get(T.id).type===d.Type.Container){if(T.configure){R[T.configure.propertyCategory]=T.configure.properties}if(T.modules.dataSampling&&L.dataSampling){i.extend(true,T.modules.dataSampling.configure.properties,L.dataSampling)}N[P].parent(p[P]).config(T).properties(i.extend(true,{},R,L));if(N[P].dispatch&&N[P].dispatch()["initialized"]){N[P].dispatch().on("initialized.rootContainer",o)}r++}else{N[P].properties(i.extend(true,{},T.configure?T.configure.properties:{},T.configure?L[T.configure.propertyCategory]:{}));if(N[P].parent){N[P].parent(p[P])}}});$.each(K.modules,function(P,Q){if(Q===null){return}if(a.get(Q.id).type===d.Type.Controller){N[P]().module(N[Q.configure.clientID])}});return N};function v(L,K){var M=L;if(K<M*10){M=K/10}return M}var E=function(N){var M=8,V=[0,0,0,0],L=s.general?s.general.layout:null;if(L===null){L=u.props("layout").layout}if(L.padding){if(typeof L.padding!=="number"){V=L.padding}else{var ab=v(L.padding,Math.min(C,B));for(var Y=0;Y<V.length;Y++){V[Y]=ab}}}else{if(L["padding-left"]){V[3]=v(L["padding-left"],C)}if(L["padding-right"]){V[1]=v(L["padding-right"],C)}if(L["padding-top"]){V[0]=v(L["padding-top"],B)}if(L["padding-bottom"]){V[2]=v(L["padding-bottom"],B)}}var T={};if(F.title){T.north={size:F.title.getPreferredSize()}}var P={width:0,height:0,minWidth:0,maxSizeConstant:1},Q={width:0,height:0,titleSize:{width:0,height:0}},K={width:0,height:0,titleSize:{width:0,height:0}};if(F.legend){K=F.legend.getPreferredSize({width:C,height:B});P.width=Math.max(P.width,K.width);P.height=Math.max(P.height,K.height);P.minWidth=Math.max(P.minWidth,K.minWidth);P.minHeight=K.minHeight;P.maxSizeConstant=Math.min(P.maxSizeConstant,K.maxSizeConstant)}T.east={size:P};if(F.main){T.center={}}function X(){return h({type:"border",hgap:8,vgap:M,bias:"north",size:{width:C,height:B},padding:V,prefs:T})}var S=X();if(N&&F.sizeLegend&&F.sizeLegend.isVisible()){if(S.center){F.main.width(S.center.bounds.width-S.center.bounds.x).height(S.center.bounds.height-S.center.bounds.y);Q=F.sizeLegend.getPreferredSize({width:C,height:B},M+2*V[0],F.main.infoForSizeLegend());var W=Math.max(Q.width,K.width);P.width=W<C*1/3?W:C*1/3;P.height=Q.height;P.minWidth=Q.minWidth;P.minHeight=Q.minHeight;S=X()}}if(S.north){t.select(".v-m-title").attr("visibility","visible").attr("transform","translate("+S.north.bounds.x+", "+S.north.bounds.y+")");F.title.width(S.north.bounds.width).height(S.north.bounds.height)}else{t.select(".v-m-title").attr("visibility","hidden")}if(S.east){var R=S.east.bounds.height;var aa=S.east.bounds.y;var O=0;var Z=true;if(Q.height+8+K.height>S.east.bounds.height){Z=Q.titleSize.height<Q.height*1/3&&Q.titleSize.height<S.east.bounds.height*1/3}if(F.sizeLegend){F.sizeLegend.hide(false);t.select(".v-m-sizeLegend").attr("transform","translate("+S.east.bounds.x+", "+aa+")");O=Q.height;if(!Z){F.sizeLegend.hideTitle();O-=Q.titleSize.height}F.sizeLegend.width(S.east.bounds.width).height(O);aa=aa+O+8}var U=true;if((O>0?O+8:0)+K.height>S.east.bounds.height){U=K.titleSize.height<(R-Q.height)*0.3}if(F.legend){F.legend.hide(false);t.select(".v-m-legend").attr("transform","translate("+S.east.bounds.x+", "+aa+")");if(!U){F.legend.hideTitle()}F.legend.width(S.east.bounds.width).height(R-Q.height)}}else{if(F.legend){F.legend.hide(true)}if(F.sizeLegend){F.sizeLegend.hide(true)}}if(S.center){t.select(".v-m-main").attr("transform","translate("+S.center.bounds.x+", "+S.center.bounds.y+")");F.main.width(S.center.bounds.width-S.center.bounds.x,typeof N==="undefined"?true:undefined).height(S.center.bounds.height-S.center.bounds.y,typeof N==="undefined"?true:undefined);if(F.tooltip){F.tooltip.plotArea(S.center.bounds).zone({width:C,height:B})}}};function A(){var K={width:C,height:B,properties:{border:{left:{visible:false},right:{visible:false},top:{visible:false},bottom:{visible:false}}},parentCtx:m};w=c.drawBackground(t,w,K)}function z(K){K.each(function(L){q=0;t=d3.select(this);A();for(var M in F){if(F.hasOwnProperty(M)&&a.get(G.modules[M].id).type!==d.Type.Controller&&M!=="tooltip"){p[M].call(F[M])}}})}z.width=function(K){if(!arguments.length){return C}C=_;if(!$.isEmptyObject(F)&&B){E()}return z};z.height=function(K){if(!arguments.length){return B}B=_;if(!$.isEmptyObject(F)&&C){E()}return z};z.size=function(K){if(!arguments.length){return{width:C,height:B}}C=K.width;B=K.height;var L=arguments[1];E(L);return z};z.config=function(K){if(!arguments.length){return G}G=K;if(!$.isEmptyObject(s)&&!$.isEmptyObject(I)){D({dataset:I,conf:G,props:s})}return z};z.data=function(K){if(!arguments.length){return I}I=K;if(l){l.ghostEffect(I.fakeData())}if($.isEmptyObject(F)&&!$.isEmptyObject(s)&&!$.isEmptyObject(G)){D({dataset:I,conf:G,props:s})}for(var L in F){if(F.hasOwnProperty(L)){if(G.modules[L].data){F[L].data(I.createDataAdapterForModule(G.modules[L].data))}else{if(F[L].data){F[L].data(I)}}}}return z};z.properties=function(K){if(!arguments.length){return s}s=K;for(var L in F){if(F.hasOwnProperty(L)){if(G.modules[L].modules){F[L].properties(K)}else{F[L].properties(K[G.modules[L].configure.propertyCategory])}}}return z};z.dispatch=function(K){if(!arguments.length){return H}H=K;return z};z.refresh=function(){for(var K=0;K<J.length;K++){J[K]()}return z};z.parent=function(K){if(!arguments.length){return t}t=K;if(l){l.container(t.append("svg:defs"))}return z};z.container=function(K){if(!arguments.length){return x}x=K;return z};z.modules=function(K){if(!arguments.length){if($.isEmptyObject(F)){return F=D({dataset:I,props:s,conf:G})}return F}F=K;return z};function o(){if(++q===r){q=0;H.initialized();H.ready()}}return z};return f});sap.riv.module({qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.rootContainer",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.rootContainer",type:b.Module.Type.Container,name:"rootContainer",description:"Represents the chart scoped properties.",properties:{layout:{name:"layout",description:"Layout properties",supportedValueType:"Object",supportedValues:{padding:{name:"padding",supportedValueType:"PositiveInt or Array",defaultValue:20,description:"Universal padding value settings. The single value will be applied to all laterals of the chart area. If array is provided, the sequence of the value assignment follows top-right-bottom-left, which is a preferred way of padding settings. Explicit settings for all sides are supported."},"padding-top":{name:"padding-top",supportedValueType:"PositiveInt",defaultValue:0,description:"Padding value for the top side"},"padding-left":{name:"padding-left",supportedValueType:"PositiveInt",defaultValue:0,description:"Padding value for the left side"},"padding-right":{name:"padding-right",supportedValueType:"PositiveInt",defaultValue:0,description:"Padding value for the right side"},"padding-bottom":{name:"padding-bottom",supportedValueType:"PositiveInt",defaultValue:0,description:"Padding value for the bottom side"}}}},events:{selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.datalabel",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"}],function Setup(d,a,f,e,c){var b=function(p,A){var r="12px",J="#333333",i='"Open Sans" Arial, Helvetica, sans-serif',K="normal";var g=p.props(null);var k,o,M;var N,P;var h;var aa;var j="horizontal",C,s,D,O,w,n,m,q,T,v,t,ab,I,ac;var B=false;var W="#ffffff",u=false,F=false,V=2,U=false,R="#ffffff";function S(){}S.removeLabel=function(){if(a.isExist(N.parent())){N.parent().selectAll("g.v-datalabel").remove()}};S.showLabel=function(){if(D&&N.parent()){l();N.parent().selectAll("g.v-datalabel").remove();if(!I){P=N.parent().select(".v-bound")[0][0].getBoundingClientRect()}else{P=N.parent().node().getBoundingClientRect()}x();if(k.length===0){return}if(u){J=W}else{if(U){J=R}}h="fill:"+J+"; font-family: "+i+"; font-weight: "+K+"; font-size: "+r+"; text-anchor:start";var ad=N.parent().selectAll(".v-datashapesgroup");ad.each(function(ag,af){var ae=d3.select(this).selectAll("g.v-datalabel").data([o[af]]);ae.enter().append("g").attr("class","v-datalabel");A.styleManager.queryDefault("v-datalabel").toAttrs(ae);if(u){ae.attr("fill",W)}else{if(U){ae.attr("fill",R)}}ae.each(function(ak,ah){var aj=d3.select(this).selectAll("text").data(ak);var ai=aj.enter().append("g").attr("transform",function(al){return al.transformString});ai.each(function(an,am){var al=N.parent().selectAll(".v-datapoint").data()[am];if(a.isExist(al.decoras)){al.decoras.push(this)}});ai=ai.append("text");ai.text(function(al){return al.value});ai.attr("visibility","hidden");ai.attr("x",function(al){return al.x}).attr("y",function(al){return al.y});if(j==="vertical"){ai.attr("transform",function(al){return"rotate(270 "+al.centerX+","+al.centerY+")"})}})});E()}};function E(){var ag=N.parent().selectAll(".v-datalabel text")[0];var ai=[],ae,ah={};var af;for(af=0;af<ag.length;af++){ae={};var ad=ag[af].getBoundingClientRect();ae.top=ad.top;ae.left=ad.left;ae.right=ad.right;ae.bottom=ad.bottom;ae.visible=true;ae.needMove=false;ae.x=0;ae.y=0;ai.push(ae)}ah.top=P.top;ah.left=P.left;ah.right=P.right;ah.bottom=P.bottom;G(M,ai,ah);z(ai,ah);for(af=0;af<ai.length;af++){if(ai[af].visible){if(ai[af].needMove){ag[af].setAttribute("x",ai[af].x);ag[af].setAttribute("y",ai[af].y)}ag[af].setAttribute("visibility","visible")}else{ag[af].parentNode.parentNode.removeChild(ag[af].parentNode)}}}function l(){var ad=A.styleManager.query("v-datalabel");if(ad){if(ad.fill){J=ad.fill}if(ad["font-family"]){i=ad["font-family"]}if(ad["font-size"]){r=ad["font-size"]}if(ad["font-weight"]){K=ad["font-weight"]}}}function Y(ai,ae){if(a.isExist(n)){var ah,ag,ad,af;if(a.isArray(ae.__data__.val)){af=I?0:1;ag=n[0];ad=ae.__data__.ctx[af].path.mg>=ag.length?ag.length-1:ae.__data__.ctx[af].path.mg;ah=f.format(ai,ag[ad])}else{ag=n[ae.__data__.ctx.path.mg];if(a.isExist(ag)){ad=ae.__data__.ctx.path.mi>=ag.length?ag.length-1:ae.__data__.ctx.path.mi;ah=f.format(ai,ag[ad])}else{ah=ai}}return ah}return ai}var G=function(an,al,af){if(an!==null&&al!==null){for(var am=0;am<an.length;am++){if(am<al.length){if(!q&&!m&&w&&C==="horizontal"){if(T&&an[am].value===0){var ak=an[am].datapointRect;al[am].needMove=true;al[am].x=an[am].outsideX;al[am].y=an[am].outsideY;al[am].left=ak.right;al[am].right=ak.right+an[am].width}else{if(O==="inside"){if(an[am].width>an[am].ownerWidth||Q(al[am],af)){al[am].needMove=true;al[am].x=an[am].outsideX;al[am].y=an[am].outsideY;var ai=an[am].datapointRect;if(an[am].value>0){al[am].left=ai.left+an[am].ownerWidth;al[am].right=ai.right+an[am].width}else{al[am].left=ai.left-an[am].width;al[am].right=ai.right-an[am].ownerWidth}}if(Q(al[am],af)){al[am].visible=false}}else{if(O==="outside"){if(Q(al[am],af)){if(an[am].width<=an[am].ownerWidth){al[am].needMove=true;al[am].x=an[am].insideX;al[am].y=an[am].insideY;var ah=an[am].datapointRect;if(an[am].value>0){al[am].left=ah.left+(an[am].ownerWidth-an[am].width)/2;al[am].right=ah.right-(an[am].ownerWidth-an[am].width)/2}else{al[am].left=ah.left+(an[am].ownerWidth-an[am].width)/2;al[am].right=ah.right-(an[am].ownerWidth-an[am].width)/2}if(Q(al[am],af)){al[am].visible=false}}else{al[am].visible=false}}}}}}else{if(!q&&!m&&w&&C==="vertical"){if(T&&an[am].value===0){al[am].needMove=true;al[am].x=an[am].outsideX;al[am].y=an[am].outsideY;var aj=an[am].datapointRect;al[am].top=aj.top+an[am].height;al[am].bottom=aj.top}else{if(O==="inside"){if(an[am].height>an[am].ownerHeight||Q(al[am],af)){al[am].needMove=true;al[am].x=an[am].outsideX;al[am].y=an[am].outsideY;var ae=an[am].datapointRect;if(an[am].value>=0){al[am].top=ae.top-an[am].height;al[am].bottom=ae.bottom-an[am].ownerHeight}else{al[am].top=ae.top+an[am].ownerHeight;al[am].bottom=ae.bottom+an[am].height}}if(Q(al[am],af)){al[am].visible=false}}else{if(O==="outside"){if(Q(al[am],af)){if(an[am].height<=an[am].ownerHeight){al[am].needMove=true;al[am].x=an[am].insideX;al[am].y=an[am].insideY;var ao=an[am].datapointRect;if(an[am].value>0){al[am].top=ao.top+(an[am].ownerHeight-an[am].height)/2;al[am].bottom=ao.bottom-(an[am].ownerHeight-an[am].height)/2}else{al[am].top=ao.top+(an[am].ownerHeight-an[am].height)/2;al[am].bottom=ao.bottom-(an[am].ownerHeight-an[am].height)/2}if(Q(al[am],af)){al[am].visible=false}}else{al[am].visible=false}}}}}}else{if(!q&&!m&&!w){if(C==="horizontal"){if(T&&an[am].value===0&&!I&&an[am].width===0){var ag=an[am].datapointRect;al[am].left=ag.right;al[am].right=ag.right+an[am].width}else{if(!v&&an[am].width>an[am].ownerWidth){al[am].visible=false}}}else{if(C==="vertical"){if(T&&an[am].value===0&&!I&&an[am].height===0){var ad=an[am].datapointRect;al[am].top=ad.top+an[am].height;al[am].bottom=ad.top}else{if(!v){if(u||U){if(F||U){if(an[am].height>an[am].ownerHeight/2){al[am].visible=false}}else{if(an[am].height>an[am].ownerHeight){al[am].visible=false}}if(an[am].width>an[am].ownerWidth){al[am].visible=false}}else{if(an[am].height>an[am].ownerHeight){al[am].visible=false}}}}}}if(T&&an[am].value===0&&O==="inside"&&!I){al[am].needMove=true;al[am].x=an[am].outsideX;al[am].y=an[am].outsideY}else{if(!T&&an[am].value===0){al[am].visible=false}}if(Q(al[am],af)){al[am].visible=false}}else{if(q){if(C==="horizontal"){if(Q(al[am],af)||(an[am].width>an[am].ownerWidth)){al[am].visible=false}}else{if(C==="vertical"){if(Q(al[am],af)||(an[am].height>an[am].ownerHeight)){al[am].visible=false}}}if(!m&&an[am].value===0){al[am].visible=false}}else{if(m){if(Q(al[am],af)){al[am].visible=false}}}}}}}}Z()}};var Z=function(){u=false;F=false;U=false};var L=function(ad){C=a.isExist(ad.orientation)?ad.orientation:C;s=a.isExist(ad.paintingMode)?ad.paintingMode:s;D=a.isExist(ad.visible)?ad.visible:D;O=a.isExist(ad.position)?ad.position:O;w=a.isExist(ad.automaticInOutside)?ad.automaticInOutside:w;n=a.isExist(ad.formatString)?ad.formatString:n;m=a.isExist(ad.isPercentMode)?ad.isPercentMode:m;q=a.isExist(ad.isStackMode)?ad.isStackMode:q;B=a.isExist(ad.isDonut)?ad.isDonut:B;T=a.isExist(ad.showZero)?ad.showZero:T;v=a.isExist(ad.outsideVisible)?ad.outsideVisible:v;t=a.isExist(ad.outsidePosition)?ad.outsidePosition:t;I=a.isExist(ad.isGeoChart)?ad.isGeoChart:I;ab=a.isExist(ad.positionPreference)?ad.positionPreference:ab;ac=a.isExist(ad.type)?ad.type:ac};var H=function(af){var ae;if(af.info){var ad=af.info.customlabel;if(ad){if(ad.type==="url"){ae=af.val}else{if(ad.type==="string"){ae=ad.val}}}else{ae=af.val}}else{ae=af.val}return ae};var x=function(){aa=N.parent()[0][0].ownerSVGElement;k=[],o=[],M=[];if(aa!==null&&aa.getBBox().width===0){return}var aT=0,aS=0,aO,ax,ae;var aR,aw,aj;var aE=N.parent().selectAll(".v-datashapesgroup");if(aE[0].length===0){aE=N.parent()}var az=aE.selectAll(".v-datapoint");if(s==="polarCoordinate"){for(aT=0;aT<aE[0].length;aT++){var aG=aE[0][aT].getBBox();if(aG.width===0||aG.height===0){break}ax=aE[0][aT].getTransformToElement(aa);k=[];for(aS=0;aS<az[aT].length;aS++){aO={};ae=az[aT][aS];aR=ae.getTransformToElement(aa);if(!a.isExist(aR)){break}aO.dataShape=ae;var aJ="";aj=(ae.__data__.endAngle-ae.__data__.startAngle)/(2*Math.PI);aj=Y(aj,ae);if(ac==="label and value"){var aA=ae.__data__.dimValueObjects;for(var aQ=0;aQ<aA.length;aQ++){aJ+=H(aA[aQ]);if(aQ!==(aA.length-1)){aJ+="/"}}}aO.value=aJ+" ("+aj+")";aO.transformString=("translate("+(aR.e-ax.e)+","+(aR.f-ax.f)+")");aw=d.fastMeasure(aO.value,r,K,i);var aN=ae.__data__.r;var ar=(ae.__data__.endAngle+ae.__data__.startAngle)/2;var ah=Math.sin(ar);var al=Math.cos(ar);var ap,an;if(B){ap=0.65*aN*ah;an=0.65*aN*al}else{ap=0.5*aN*ah;an=0.5*aN*al}aO.x=0+ap*aR.a-aw.width/2;aO.y=0-an*aR.d+aw.height/2;aO.centerX=ap;aO.centerY=an;aO.datapointRect=ae.getBoundingClientRect();k.push(aO);M.push(aO)}o.push(k)}}else{if(s==="rectCoordinate"){for(aT=0;aT<aE[0].length;aT++){var ai=aE[0][aT].getBBox();if(ai.width===0||ai.height===0){break}ax=aE[0][aT].getTransformToElement(aa);k=[];for(aS=0;aS<az[aT].length;aS++){aO={};ae=az[aT][aS];aR=ae.getTransformToElement(aa);if(!a.isExist(aR)){break}aO.dataShape=ae;var at=ae.getBBox();var ak;if(a.isArray(ae.__data__.val)){if(I){ak=ae.__data__.val[0]}else{ak=ae.__data__.y}}else{if(m&&ac==="value"){ak=ae.__data__.value}else{ak=ae.__data__.val}}if(ac!=="value"&&ae.__data__.isNegative){ak="-"+ak}var aF=0,aC=0;if(ae.__data__.isOnlyOneCategory!==undefined){u=true;if(ae.__data__.isOnlyOneCategory){F=true;var am=N.parent().selectAll("text.v-heatmapdatalabel")[0][0];if(am){var aP=am.getBBox();aF=aP.width;aC=aP.height}}}var ag=0,aK=0;if(ae.__data__.isTreeMap!==undefined){U=true;var aU=N.parent().selectAll("text.v-treemapdatalabel")[0][0];if(aU){var ay=aU.getBBox();ag=ay.width;aK=ay.height}}aO.value=Y(ak,ae);if(ac==="label and value"){aO.value=ae.__data__.label+" ("+(aO.value===null?"No value":aO.value)+")"}var aI=at.x*aR.a,aH=at.y*aR.d,ad=at.width*aR.a,af=at.height*aR.d;aO.transformString=("translate("+(aR.e-ax.e)+","+(aR.f-ax.f)+")");var aq=0,ao=0,aD=0,aB=0,aM=0,aL=0,av=0,aY=0,au=0,aX=0;if(u||U){var aV=aO.value;if(a.isNumber(aV)){aV=aV.toString()}var aW=null;if(u){aW=W}else{if(U){aW=R}}aO.value=d.ellipsis(aV,null,ad-3,"fill:"+aW+";font-family:"+i+";font-size:"+r)}aw=d.fastMeasure(aO.value,r,K,i);if(C==="horizontal"){aO.centerX=aI+ad/2;aO.centerY=aH+af/2;if(ab&&O==="outside"){if(t==="right"){aO.centerX=aO.centerX+ad/2+aw.width/2}}else{if(O==="outside"){if(t==="left"||(!a.isExist(ae.__data__.isNegative)&&ak<0)){aO.centerX=aO.centerX-(ad/2+aw.width/2)}else{if(t==="right"){aO.centerX=aO.centerX+ad/2+aw.width/2}}}}aq=aI+ad/2;ao=aH+af/2;if(!(!a.isExist(ae.__data__.isNegative)&&ak<0)){aY=aO.centerX+ad/2+aw.width/2;aX=aH+af/2}else{av=aO.centerX-(ad/2+aw.width/2);au=aH+af/2}}else{aO.centerX=aI+ad/2;aO.centerY=aH+af/2;if(ae.__data__.isNegative){t="down"}if(u&&F){aO.centerY+=aw.height/2}else{if(U){aO.centerY+=(aK/2+aw.height/2)}}if(ab&&O==="outside"){if(t==="up"){aO.centerY=aO.centerY-af/2-aw.height/2}}else{if(O==="outside"){if(t==="down"||(!a.isExist(ae.__data__.isNegative)&&ak<0)){aO.centerY=aO.centerY+af/2+aw.height/2}else{if(t==="up"){aO.centerY=aO.centerY-af/2-aw.height/2}}}}ao=aH+af/2;aq=aI+ad/2;if(!(!a.isExist(ae.__data__.isNegative)&&ak<0)){aB=aO.centerY-af/2-aw.height/2;aD=aI+ad/2}else{aL=aO.centerY+af/2+aw.height/2;aM=aI+ad/2}}aO.x=aO.centerX-aw.width/2;aO.y=aO.centerY-aw.y/2;aO.width=aw.width;aO.height=aw.height;aO.ownerWidth=ad;aO.ownerHeight=af;aO.datapointRect=ae.getBoundingClientRect();aO.insideX=aq-aw.width/2;aO.insideY=ao-aw.y/2;if(C==="horizontal"){if(!(!a.isExist(ae.__data__.isNegative)&&ak<0)){aO.outsideX=aY-aw.width/2;aO.outsideY=aX-aw.y/2}else{aO.outsideX=av-aw.width/2;aO.outsideY=au-aw.y/2}}else{if(C==="vertical"){if(!(!a.isExist(ae.__data__.isNegative)&&ak<0)){aO.outsideX=aD-aw.width/2;aO.outsideY=aB-aw.y/2}else{aO.outsideX=aM-aw.width/2;aO.outsideY=aL-aw.y/2}}}k.push(aO);M.push(aO)}o.push(k)}}}};var X=function(af,ai){var am=af.left,ak=af.top,ah=af.right,ag=af.bottom;var al=ai.left,aj=ai.top,ae=ai.right,ad=ai.bottom;if(!((am>=ae)||(ak>=ad)||(ah<=al)||(ag<=aj))){return true}return false};var z=function(ai,ah){if(ai===null||ah===null){return}for(var ag=0;ag<ai.length;ag++){var af=ai[ag];if(!af.visible){continue}for(var ae=ag+1;ae<ai.length;ae++){var ad=ai[ae];if(!ad.visible){continue}if(X(af,ad)){ad.visible=false}}}};var Q=function(ad,ae){if(ad.top<ae.top||ad.left<ae.left||ad.right>ae.right||ad.bottom>ae.bottom){return true}return false};S.plot=function(ad){if(!arguments.length){return N}N=ad};S.parent=function(){};S.properties=function(ad){if(!arguments.length){return g}c.extend(true,g,ad);L(g)};return S};return b});sap.riv.module({qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.datalabel",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.datalabel",name:"datalabel",type:b.Module.Type.Supplementary,properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set whether data label is visible.",},isDonut:{name:"isDonut",supportedValueType:"Boolean",defaultValue:false,description:"Set for donut chart only.",isExported:false},type:{name:"type",supportedValueType:"String",defaultValue:"value",description:"Set the type of label",isExported:false},automaticInOutside:{name:"automaticInOutside",supportedValueType:"Boolean",defaultValue:true,description:"if it is true, the data label will be automatically placed outside when data label postion property is inside and vice versa.",isExported:false},showZero:{name:"showZero",supportedValueType:"Boolean",defaultValue:true,description:"if it is true, the value zero will be shown in data label.",isExported:false},isGeoChart:{name:"isGeoChart",supportedValueType:"Boolean",defaultValue:false,description:"if it is true, it is a geo chart.",isExported:false},isStackMode:{name:"isStackMode",supportedValueType:"Boolean",defaultValue:false,description:"Set for stack chart only.",isExported:false},isPercentMode:{name:"isPercentMode",supportedValueType:"Boolean",defaultValue:false,description:"Set for percent chart only.",isExported:false},positionPreference:{name:"positionPreference",supportedValueType:"Boolean",defaultValue:false,description:"If it is true, the data label position is defined by property outsidePosition no matter whether data label value is negative.",isExported:false},outsideVisible:{name:"outsideVisible",supportedValueType:"Boolean",defaultValue:true,description:"when data label is oustide, it can control whether it is visible or not.",isExported:false},outsidePosition:{name:"outsidePosition",supportedValueType:"List",supportedValues:["up","down","left","right"],defaultValue:"up",description:"when data label is oustide, its position is above the element.",isExported:false},paintingMode:{name:"paintingMode",supportedValueType:"List",supportedValues:["rectCoordinate","polarCoordinate"],defaultValue:"rectCoordinate",description:"Set painting mode of data labels.",isExported:false},position:{name:"position",supportedValueType:"List",supportedValues:["inside","outside"],defaultValue:"inside",description:"Set position of data labels."},orientation:{name:"orientation",supportedValueType:"List",supportedValues:["horizontal","vertical"],defaultValue:"vertical",description:"Set orientation of data labels.",isExported:false},formatString:{name:"formatString",supportedValueType:"Two-Dimensions-Array",defaultValue:null,description:"Set format string of datalabel.As we may have dual axis with serveral measures,the first array is applied to primary axis and the second one is applied to the second axis.If the length of format string list is less than the length of data series, the last format string in the list will be applied to exceeded data series."}},css:{".v-datalabel":{description:"Define style for the data label",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.legend.mbcLegendArea",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"}],function Setup(d,e,b,a){var c=function(A){var z=400,x=200,k={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"},i,r=[],D={width:18,height:20},m=10,n=1,g=[],q="selectionMode",t={markerPaddingRight:0.5,paddingTop:1,maxValueSpace:1.6,minValueSpace:0.5,minMarkerHeight:10,space:0},B=-1,f=20,C=false,E=e.get("IDS_ISNOVALUE"),l;var j=null;var w=function(F){F.each(function(){o();p();var O=i,P,R=0,L="visible",M,U;var H=d3.select(this);var Q=H.selectAll("rect.v-indicatedRect");if(Q.empty()){Q=H.append("rect").attr("class","v-indicatedRect")}Q.attr("visibility","hidden").attr("width",D.width+8).attr("height",D.height+2);var N=H.selectAll("g.v-row").data(O,function(X,W){return X.val});N.exit().remove();var V=N.enter().append("g").attr("class","v-row");V.append("rect").attr("class",function(X,W){return"v-marker ID_"+W});V.append("text");var J=N.selectAll("rect.v-marker").attr("width",D.width).attr("height",D.height);var S,G;for(M=0,U=J.length;M<U;M++){R=(D.height+n)*((B!==-1)?(M-1):M);if(O[M].val==="N/A"){R=(D.height+n)*(U>1?U:0)}J[M][0].setAttribute("y",R);S={drawingEffect:"normal",fillColor:r[O.length-M-1]};G=j.register(S);J[M][0].setAttribute("fill",G)}P=N.selectAll("text").text(function(Y,X){var W=Y.val;if(W==="N/A"){W=E}if(a.isExist(l.formatString)){W=b.format(W,l.formatString)}return W}).attr("x",D.width+m);R=0;for(M=0,U=P.length;M<U;M++){R=D.height*((B!==-1)?M:(M+1))+f/2;if(O[M].val==="N/A"){R=(D.height+n)*(U>1?U:0)+f/2+D.height/2}if(C&&M!==U-1&&(O[M].val!=="N/A")){L="hidden"}else{L="visible"}P[M][0].setAttribute("y",R);P[M][0].setAttribute("visibility",L)}if(O.length>1){var K=H.selectAll("text.v-topText");if(K.empty()){K=H.append("text").attr("class","v-topText")}var I;if(B!==-1){I=O[1].ctx.ranges.endValue}else{I=O[0].ctx.ranges.endValue}if(a.isExist(l.formatString)){I=b.format(I,l.formatString)}K.text(I).attr("x",D.width+m).attr("y",f/2)}else{if(O.length===1){P[0][0].setAttribute("y",f/2+D.height/2)}}var T=A.styleManager.queryDefault("v-label");H.attr("font-family",T["font-family"]).attr("font-size",T["font-size"]).attr("font-weight",T["font-weight"]).attr("fill",T.color);H.on("mouseover",h).on("mouseout",s).on("mousedown",u).on("mouseup",h)})};var h=function(){if(q==="single"||q==="none"||l.isHierarchy){return}var I=d3.select(d3.event.target);var G=I.attr("class");if(!G||G.search("marker")===-1){return}var F=I.attr("x"),J=I.attr("y");var H=d3.selectAll(".v-indicatedRect");H.attr("visibility","visible").attr("fill","#cccccc").attr("x",F-4).attr("y",J-1)};var s=function(){if(q==="single"||q==="none"||l.isHierarchy){return}var H=d3.select(d3.event.target);var F=H.attr("class");if(!F||F.search("marker")===-1){return}var G=d3.selectAll(".v-indicatedRect");G.attr("visibility","hidden")};var u=function(){if(q==="single"||q==="none"||l.isHierarchy){return}var I=d3.select(d3.event.target);var G=I.attr("class");if(!G||G.search("marker")===-1){return}var F=I.attr("x"),J=I.attr("y");var H=d3.selectAll(".v-indicatedRect");H.attr("visibility","visible").attr("fill","#808080").attr("x",F-4).attr("y",J-1)};w.clickHandler=function(){if(q==="single"||q==="none"||l.isHierarchy){return}if(d3.event.type==="touchstart"){u()}var F=false;if(v(g,d3.event.target)){F=true}else{g.push(d3.event.target)}return F};w.width=function(F){if(!arguments.length){return z}z=F;return w};w.height=function(F){if(!arguments.length){return x}x=F;return w};w.properties=function(F){if(!arguments.length){return l}l=F;return w};w.data=function(F){if(!arguments.length){return i}i=F;return w};w.setSelectionMode=function(F){q=F};w.getPreferredSize=function(){var M=0,N=0,O=0,G=i;if(G){B=-1;o();var P=-1,K,I="font-size:"+k.fontsize+"; font-weight:"+k.fontweight+"; font-family:"+k.fontfamily;var J=G.length;for(var F=0;F<J;F++){if(G[F].val==="N/A"){K=d.measure(E,I);B=F}else{var L=G[F].val;if(a.isExist(l.formatString)){L=b.format(L,l.formatString)}K=d.measure(L,I)}if((K===undefined)||(K.width>P)){P=K.width}}f=parseInt(k.fontsize,10);var H=(t.maxValueSpace+1)*f;M=D.width+t.markerPaddingRight*f+P;if(B!==-1){N=(H+n)*(J+1)+f;O=(t.minMarkerHeight+n)*(J+1)+f}else{N=(H+n)*J+f;O=(t.minMarkerHeight+n)*J+f}}return{minHeight:O,minWidth:M,width:M,height:N}};w.color=function(F){if(!arguments.length){return r}r=F;return w};w.effectManager=function(F){if(!arguments.length){return j}j=F;return w};var p=function(){var F=i.length,I=0,J=0;C=false;if(B!==-1){J=(x-(F+2)*f)/(F+1)}else{J=(x-(F+1)*f)/F}I=J+f;var H=t.maxValueSpace*f;if(J>H){J=H;I=J+f}else{var G=t.minValueSpace*f;if(J<G){I=t.minMarkerHeight;J=0;C=true}}t.space=J;D.height=I};var v=function(F,H){for(var G=0;G<F.length;G++){if(F[G]===H){return true}}return false};var o=function(){var F=A.styleManager.query("v-label");if(F){if(F.fill){k.color=F.fill}if(F["font-family"]){k.fontfamily=F["font-family"]}if(F["font-size"]){k.fontsize=F["font-size"]}if(F["font-weight"]){k.fontweight=F["font-weight"]}}};return w};return c});sap.riv.module({qname:"sap.viz.modules.legend.sizeLegendArea",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"}],function Setup(d,e,b,a){var f=function(t){var h=400,s=200,j={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"14px",fontweight:"normal",color:"#333333"},n=[0,0,0],m,g,i,k=10,l=15,q=0,u;var p=null;var o=function(v){v.each(function(){if(m===undefined){return}r();var z=[],H="font-size:"+j.fontsize+"; font-weight:"+j.fontweight+"; font-family:"+j.fontfamily;if(q===0){q=d.measure("M",H).height}var G=Math.round(s/q);switch(G){case 0:case 1:case 2:case 3:z.push(n[0]);break;case 4:z.push(n[0]);if(n.length>1){z.push(n[n.length-1])}break;default:z=n}var R=[],Q=-1,D,M;for(var O=0,P=z.length;O<P;O++){R.push(m(z[O])/2);M=c(z[O]);if(a.isExist(u.formatString)){M=b.format(M,u.formatString)}D=d.measure(M,H).width;if(D>Q){Q=D}}var C=R[0];var I=d3.select(this);var w=parseInt(j.fontsize,10);var E=I.selectAll("g.v-circles");if(E.empty()){E=I.append("g").attr("class","v-circles").data([R])}E.attr("transform","translate("+C+","+(C+w)+")");var B={drawingEffect:u.drawingEffect,graphType:"circle",fillColor:"#748CB2"};var K=p.register(B);var N=E.selectAll("circle").data(R,function(T,S){return T});N.exit().remove();N.enter().append("circle").attr("stroke","white").attr("stroke-width",1).attr("fill",K).attr("opacity","0.85");N.attr("r",function(T,S){return T}).attr("cx",function(T,S){return 0}).attr("cy",function(T,S){return C-T});var L=I.selectAll("g.v-valueLabels");if(L.empty()){L=I.append("g").attr("class","v-valueLabels").data([z])}var J=(C*2+l+k+Q)>h?h:(C*2+l+k+Q);L.attr("transform","translate("+J+", "+(C+w*3/2)+")");var F=L.selectAll("text").data(z,function(T,S){return T});F.exit().remove();F.enter().append("text").attr("text-anchor","end");F.text(function(U,S){var T=c(U);if(a.isExist(u.formatString)){T=b.format(T,u.formatString)}return T}).attr("dx",0).attr("dy",function(U,T){var S=(T-1)*C-2;if(z.length===2&&T===1){S=C-2}return S});var x=I.selectAll("g.v-guideLines");if(!x.empty()){x.remove()}x=I.append("g").attr("class","v-guideLines").attr("transform","translate("+C+","+(C+w)+")");if(z.length>0){x.append("path").attr("stroke","gray").attr("d","M 0 "+-C+" L "+(C+k)+" "+-C)}if(z.length>1){x.append("path").attr("stroke","gray").attr("d","M 0 "+C+"L"+(C+k)+" "+C)}if(z.length>2){x.append("path").attr("stroke","gray").attr("d","M 0 "+(C-R[1])+" L "+C+" 0 M "+C+" 0  L "+(C+k)+" 0")}var A=t.styleManager.queryDefault("v-label");I.attr("font-family",A["font-family"]).attr("font-size",A["font-size"]).attr("font-weight",A["font-weight"]).attr("fill",A.color)})};o.width=function(v){if(!arguments.length){return h}h=v;return o};o.height=function(v){if(!arguments.length){return s}s=v;return o};o.color=function(v){if(!arguments.length){return g}return o};o.shapes=function(v){if(!arguments.length){return i}return o};o.properties=function(v){if(!arguments.length){return u}u=v;return o};o.data=function(v){if(!arguments.length){return n}n=v;return o};o.scale=function(v){if(!arguments.length){return m}m=v;return o};o.effectManager=function(v){if(!arguments.length){return p}p=v;return o};var r=function(){var v=t.styleManager.query("v-label");if(v){if(v.fill){j.color=v.fill}if(v["font-family"]){j.fontfamily=v["font-family"]}if(v["font-size"]){j.fontsize=v["font-size"]}if(v["font-weight"]){j.fontweight=v["font-weight"]}}};o.getPreferredSize=function(D,z,E,N,M,I,J){if(D){r()}var H=0,B=0,A=0;if(m&&z){q=0;var L=-1,v,w,C=null,O=n,x="font-size:"+j.fontsize+"; font-weight:"+j.fontweight+"; font-family:"+j.fontfamily;for(var F=0,G=O.length;F<G;F++){C=c(O[F]);if(a.isExist(u.formatString)){C=b.format(C,u.formatString)}w=d.measure(C,x);if((w===undefined)||(w.width>L)){L=w.width}}var K=L+l+k;v=D?(D.width-z-E-K-N.space-N.number*I)/(1+(1/M)*N.number):m(O[0]);q=w.height;if(!J&&N.plotHeight){v=Math.min((N.plotHeight-I)*M,v)}B=v+w.height*2;H=v+K;A=H}return{minHeight:B,minWidth:A,height:B,width:H}};return o};var c=function(g){return(g===null)?e.get("IDS_ISNOVALUE"):g};return f});sap.riv.module({qname:"sap.viz.util.DrawUtil",version:"4.0.1"},[],function Setup(){var a={};a.createMarkerData=function(f){var d;var e=f.borderWidth/2;switch(f.type){case"circle":d="M"+(-f.rx-e)+",0 A"+(f.rx+e)+","+(f.ry+e)+" 0 1,0 "+(f.rx+e)+",0 A";d+=(f.rx+e)+","+(f.ry+e)+" 0 1,0 "+(-f.rx-e)+",0z";break;case"cross":d="M"+(-f.rx-e)+","+(-f.ry/3-e)+"H"+(-f.rx/3-e)+"V"+(-f.ry-e)+"H"+(f.rx/3+e);d+="V"+(-f.ry/3-e)+"H"+(f.rx+e)+"V"+(f.ry/3+e)+"H"+(f.rx/3+e);d+="V"+(f.ry+e)+"H"+(-f.rx/3-e)+"V"+(f.ry/3+e)+"H"+(-f.rx-e)+"Z";break;case"diamond":d="M0,"+(-f.ry-e)+"L"+(f.rx+e)+",0 0,"+(f.ry+e)+" "+(-f.rx-e)+",0Z";break;case"square":d="M"+(-f.rx-e)+","+(-f.ry-e)+"L"+(f.rx+e)+",";d+=(-f.ry-e)+"L"+(f.rx+e)+","+(f.ry+e)+"L"+(-f.rx-e)+","+(f.ry+e)+"Z";break;case"triangle-down":d="M0,"+(f.ry+e)+"L"+(f.rx+e)+","+-(f.ry+e)+" "+-(f.rx+e)+","+-(f.ry+e)+"Z";break;case"triangle-up":d="M0,"+-(f.ry+e)+"L"+(f.rx+e)+","+(f.ry+e)+" "+-(f.rx+e)+","+(f.ry+e)+"Z";break;case"triangle-left":d="M"+-(f.rx+e)+",0L"+(f.rx+e)+","+(f.ry+e)+" "+(f.rx+e)+","+-(f.ry+e)+"Z";break;case"triangle-right":d="M"+(f.rx+e)+",0L"+-(f.rx+e)+","+(f.ry+e)+" "+-(f.rx+e)+","+-(f.ry+e)+"Z";break;case"intersection":d="M"+(f.rx+e)+","+(f.ry+e)+"L"+(f.rx/3+e)+",0L"+(f.rx+e)+","+-(f.ry+e)+"L";d+=(f.rx/2-e)+","+-(f.ry+e)+"L0,"+(-f.ry/3-e)+"L"+(-f.rx/2+e)+","+-(f.ry+e)+"L";d+=-(f.rx+e)+","+-(f.ry+e)+"L"+-(f.rx/3+e)+",0L"+-(f.rx+e)+","+(f.ry+e)+"L";d+=(-f.rx/2+e)+","+(f.ry+e)+"L0,"+(f.ry/3+e)+"L"+(f.rx/2-e)+","+(f.ry+e)+"Z";break;case"squareWithRadius":var g=f.rx;var c=g-3;d="M0,"+-g+"L"+-c+","+-g+"Q"+-g+","+-g+" "+-g+","+-c+"L"+-g+","+c+"Q"+-g+","+g+" "+-c+","+g;d+="L"+c+","+g+"Q"+g+","+g+" "+g+","+c+"L"+g+","+-c+"Q"+g+","+-g+" "+c+","+-g+"Z";break}return d};function b(d){var c;switch(d.type){case"circle":c="M0,0A0,0 0 1,0 0,0A0,0 0 1,0 0,0z";break;case"cross":c="M0,0H0V0H0V0H0V0H0V0H0V0H0Z";break;case"diamond":c="M0,0L0,0 0,0 0,0Z";break;case"triangle-down":case"triangle-up":case"triangle-left":case"triangle-right":c="M0,0L0,0 0,0Z";break;case"intersection":c="M0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0Z";break;case"squareWithRadius":c="M0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0Z";break;case"square":c="M0,0L0,0L0,0L0,0Z";break;default:c="M0,0L0,0L0,0L0,0Z";break}return c}a.createElements=function(d,c){return d.append("path").attr("class",c.className)};a.createElement=function(c,f,e){var d=c.append("path").attr("class",f.className);f.node=d;a.drawGraph(f,e);return d};a.drawGraph=function(e,d){var c={type:e.graphType,rx:Math.round(e.rx),ry:Math.round(e.ry),borderWidth:e.borderWidth?Math.round(e.borderWidth):0};var g=a.createMarkerData(c);var f=d.register(e);e.node.attr("fill",f).attr("stroke-width",e.borderWidth).attr("stroke",e.borderColor).attr("visibility",e.visibility).attr("stroke-opacity",e.strokeOpacity);if(e.animateTime&&e.animateTime>0){e.node.attr("d",b(c));e.node.transition().duration(e.animateTime).attr("d",g).each("end",e.endFunc)}else{e.node.attr("d",g)}return e.node};return a});sap.riv.module({qname:"sap.viz.modules.legend.colorLegendArea",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.DrawUtil",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"}],function Setup(c,b,a,e){var d=function(v){var f=400,h=200,N={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"},z={isHierarchy:undefined,position:"right",legendType:"ColorLegend"},l=1,E=[],I=[],t=0,n=0,M,r=20,H=[],k=true,P="multiple",m={right:0.5,bottom:0.6,left:1,top:0};var u=null;var K={imageMode:false,imagePalette:[],radio:1};var C=e.guid();var L=0;var j=Infinity;var G=[],w={},J,g;var Q=function(R){R.each(function(){p();var S=o();J=false;if(S.length>0&&S.length<w.length){J=true}M=d3.select(this);var Y=M.selectAll("rect.v-indicatedRect");if(Y.empty()){Y=M.append("rect").attr("class","v-indicatedRect")}var ae=m.bottom*r;Y.attr("width",f+10).attr("height",r+ae).attr("fill","rgba(255, 255, 255, 0)").attr("x",-5).attr("y",-ae/2);var W=v.styleManager.queryDefault("v-label");M.attr("font-family",W["font-family"]).attr("font-size",W["font-size"]).attr("font-weight",W["font-weight"]).attr("fill",W.fill);var ac=M.selectAll("g.v-row").data(S,function(ap,ao){return ap.val});ac.exit().remove();var ak=ac.enter().append("g");ac.attr("class",function(ap,ao){return C+" v-row ID_"+ao});var ah,ag,aj,am,al;if((z.legendType!=="BubbleColorLegend")&&z.isHierarchy&&(!(z.position==="top"||z.position==="bottom"))){var ad,af,T=[],X=0,Z=0;for(ah=0,aj=S.length;ah<aj;ah++){X=0,Z=0;ad=S[ah].val;ad=ad.replace("-","/");af=ad.split(" / ");al=d3.select(this).select("g.v-row.ID_"+ah);var U=false;for(ag=0,am=af.length-1;ag<am;ag++){if(T[ag]!==af[ag]){U=true;break}}var ab=al.selectAll("g").data(af);ab.enter().append("g").attr("class",function(ap,ao){return C+" v-label ID_"+ao});for(ag=0,am=af.length;ag<am;ag++){var V;if(ag===am-1){V=D(al.select("g.v-label.ID_"+ag),ah,true,af[ag]);V.attr("transform",function(ap,ao){X=10*ag;if(U){Z=r+Z+m.bottom*r}return"translate("+X+","+Z+")"})}else{if(U){V=D(al.select("g.v-label.ID_"+ag),ah,false,af[ag]);V.attr("transform",function(ap,ao){X=10*ag;if(ag>0){Z=r+Z+m.bottom*r}return"translate("+X+","+Z+")"})}}if(V){V.attr("visibility",function(aq,ao){var ap="visible";if((G[ah]===undefined)||(G[ah].y+Z>h-r)){ap="hidden";J=true}return ap})}T[ag]=af[ag]}}ac.attr("transform",function(ap,ao){if(G[ao]){return"translate("+G[ao].x+","+G[ao].y+")"}})}else{for(ah=0,aj=S.length;ah<aj;ah++){al=d3.select(this).selectAll("g.v-row.ID_"+ah);D(al,ah,true,S[ah].val)}ac.attr("transform",function(ap,ao){if(ap.pos){return"translate("+ap.pos.x+","+ap.pos.y+")"}})}ak.append("rect").attr("class","v-eventRect");ac.each(function(ap,ao){d3.select(this).selectAll("rect.v-eventRect").attr("class",function(){return C+" v-eventRect ID_"+ao})});var aa=M.selectAll("rect.v-eventRect");aa.attr("height",r).attr("fill","rgba(255, 255, 255, 0)");if(z.position==="top"||z.position==="bottom"){var ai=(l+m.right)*r+m.left*r/2;aa.attr("width",function(ao){return(ao.size===undefined)?f:(ao.size.width+ai)})}else{aa.attr("width",f)}var an=d3.select(this).selectAll("text.v-itemsEllipsis");if(an.empty()){an=d3.select(this).append("text").attr("class","v-itemsEllipsis").text("...").attr("text-anchor","middle")}an.attr("dx",f/2).attr("dy",h).attr("visibility",function(){var ao="hidden";if(J){ao="visible"}return ao});d3.select(this).on("mouseover",A).on("mouseout",B).on("mousedown",O).on("mouseup",A).on("touchend",B)})};Q.width=function(R){if(!arguments.length){return f}f=R;return Q};Q.height=function(R){if(!arguments.length){return h}h=R;return Q};Q.color=function(R){if(!arguments.length){return I}I=R;return Q};Q.shapes=function(R){if(!arguments.length){return E}E=R;return Q};Q.colorFeedLength=function(R){t=R;return Q};Q.shapeFeedLength=function(R){n=R;return Q};Q.data=function(R){if(!arguments.length){return w}w=R;return Q};Q.imageInfo=function(R){if(!arguments.length){return K}K=R;return Q};Q.properties=function(R){if(!arguments.length){return z}z=R;return Q};Q.getPreferredSize=function(R){p();return s(R)};Q.setSelectionMode=function(R){P=R};Q.effectManager=function(R){if(!arguments.length){return u}u=R;return Q};var o=function(){var S=[],R=g;if(w.length>0){S=w.slice(0,R);L=0;j=R}return S};var p=function(){var R=v.styleManager.query("v-label");if(R){if(R.fill){N.color=R.fill}if(R["font-family"]){N.fontfamily=R["font-family"]}if(R["font-size"]){if(N.fontsize!==R["font-size"]){k=true}N.fontsize=R["font-size"]}if(R["font-weight"]){if(N.fontweight!==R["font-weight"]){k=true}N.fontweight=R["font-weight"]}}};var A=function(){var U=F(d3.event.target);if(U===false){return}var T=d3.select(d3.event.target);var S=M.selectAll(".v-indicatedRect");var R=x(T);S.attr("fill","#cccccc").attr("y",R.y);if(z.position==="top"||z.position==="bottom"){S.attr("x",R.x).attr("width",R.width)}};var B=function(){var T=F(d3.event.target);if(T===false){return}var S=d3.select(d3.event.target);var R=M.selectAll(".v-indicatedRect");R.attr("fill","rgba(0,0,0,0)")};var O=function(){var U=F(d3.event.target);if(U===false){return}var T=d3.select(d3.event.target);var S=M.selectAll(".v-indicatedRect");var R=x(T);S.attr("fill","#808080").attr("y",R.y);if(z.position==="top"||z.position==="bottom"){S.attr("x",R.x).attr("width",R.width)}};Q.clickHandler=function(){var S=F(d3.event.target);if(S===false){return}if(d3.event.type==="touchstart"){O()}var R=false;if(i(H,d3.event.target)){R=true}else{H.push(d3.event.target)}return R};Q.deselectByCtx=function(U){if(!U){H=[]}else{var T,S=true;for(var W=0,R=H.length;W<R;W++){S=true;T=H[W].__data__.ctx.path;if(!T){T=H[W].__data__.ctx.ranges;if(T!==U.ctx.ranges){S=false}}else{for(var V in T){if(U.ctx.path[V]!==undefined){if(U.ctx.path[V].length>0){if(U.ctx.path[V]!==T[V]){S=false}}else{if(U.ctx.path[V]!==T[V]){S=false}}}}}if(S===true){H.splice(W,1);break}}}};var F=function(U){var T=true;if(P==="single"||P==="none"||z.isHierarchy){T=false}var S=d3.select(U);var R=S.attr("class");if(!R||R.search("eventRect")===-1){T=false}return T};var x=function(R){var S=R.datum();var T=(l+m.right)*r+m.left*r/2;return{x:S.pos.x-4,y:S.pos.y-m.bottom*r/2,width:S.size.width+T}};var i=function(R,T){for(var S=0;S<R.length;S++){if(R[S]===T){return true}}return false};var s=function(ao){var ad=0,am=0,ab=0,W={width:0,height:0},U=w,af=0;if(U&&U.length>0){var X="font-size:"+N.fontsize+"; font-weight:"+N.fontweight+"; font-family:"+N.fontfamily;r=parseInt(N.fontsize,10);var ak=(l+m.right)*r;var aa=[],Z=0,ac=0;G=[];var aj,ai,al,an;if((z.legendType!=="BubbleColorLegend")&&z.isHierarchy&&(!(z.position==="top"||z.position==="bottom"))){var ae,ah,Y,S={width:0,height:0},T=[];for(aj=0,al=U.length;aj<al;aj++){ae=U[aj].val;ae=ae.replace("-","/");ah=ae.split(" / ");var V=false;for(ai=0,an=ah.length-1;ai<an;ai++){if(T[ai]!==ah[ai]){V=true;break}}var ag=0;for(ai=0,an=ah.length;ai<an;ai++){Y=c.measure(ah[ai],X);if(ai===an-1){Y.width=Y.width+ak;ag=ag+(m.bottom+1)*r}else{if(V){ag=ag+(m.bottom+1)*r}}Y.width=Y.width+10*ai;if(Y.width>S.width){S=Y}T[ai]=ah[ai]}if(S.width>af){af=S.width}aa.push(ag);if(aj>0){ac=ac+aa[aj-1]}if(ac+r>ao.height){J=true;break}G.push({x:Z,y:ac});U[aj].pos={x:Z,y:ac}}am=Z+af;ad=ac+aa[aa.length-1];ab=c.measure("M...",X).width}else{if(z.position==="top"||z.position==="bottom"){var ap=Z;g=U.length;for(aj=0,al=U.length;aj<al;aj++){if(aj>0){Z=Z+ap}if((U[aj].size===undefined)||(k!==false)){U[aj].size=c.measure(U[aj].val,X)}ap=Z+ak+U[aj].size.width+m.left*r;if(ap>ao.width){g=aj;J=true;break}U[aj].pos={x:Z,y:ac}}am=Z+ak+U[g-1].size.width;ad=ac+r;af=ao.width}else{var R=r+r*m.bottom;g=U.length;for(aj=0,al=U.length;aj<al;aj++){if(aj>0){ac=ac+R}if(ac+R>ao.height){g=aj;J=true;break}if((U[aj].size===undefined)||(k!==false)){U[aj].size=c.measure(U[aj].val,X)}U[aj].pos={x:Z,y:ac};if(U[aj].size.width>W.width){W=U[aj].size}}af=ak+W.width;am=Z+af;ad=ac+R}ab=Z+ak+c.measure("M...",X).width}}if(ab>am){ab=am}if(k===true){k=false}return{minHeight:2*r,minWidth:ab,height:ad,width:am}};var q=function(S){var T="";var R=K.imagePalette.length;if(R>0){T=K.imagePalette[S%R]}return T};var D=function(S,Y,T,W){var ae=0,V;var Z=l*r;if(T){if(n>0){var ab=Y%n;if(E.length<n){ab=ab%E.length}V=E[ab]}else{if(z.legendType==="BubbleColorLegend"){V=(E[0]===undefined)?"square":E[0]}else{var ad=E[Y%E.length];V=(ad===undefined)?"square":ad;if(V==="square"){V="squareWithRadius"}}}if(!K.imageMode){var U=r/2;var ac=S.selectAll("path").data([W]);a.createElements(ac.enter(),{shape:V,className:null});ac.attr("transform",function(ai,ah){var af;if(n>0){ah=Math.floor(Y/n);var ag=I.length>t?t:I.length;if(ag>0){af=I[ah%ag]}else{af=I[0]}}else{af=I[Y%(I.length>t?t:I.length)]}var aj={drawingEffect:z.drawingEffect,graphType:V,fillColor:af,direction:"vertical",rx:Z/2,ry:Z/2,borderWidth:0,borderColor:"transparent",node:d3.select(this)};a.drawGraph(aj,u);return"translate("+U+","+U+")"})}else{var R=S.select("image");if(R.empty()){R=S.append("image")}R.attr("xlink:xlink:href",q(Y)).attr("width",Z).attr("height",Z)}ae=Z+m.right*r}var aa=S.selectAll("text").data([W]);aa.enter().append("text");aa.attr("x",ae).attr("y",r).text(function(af){return af});var X="font-size:"+N.fontsize+"; font-weight:"+N.fontweight+"; font-family:"+N.fontfamily;aa.each(function(af){c.ellipsis(af,this,f-ae,X)});return S};return Q};return d});sap.riv.module({qname:"sap.viz.modules.legend",version:"4.0.1"},[{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.legend.colorLegendArea",version:"4.0.1"},{qname:"sap.viz.modules.legend.sizeLegendArea",version:"4.0.1"},{qname:"sap.viz.modules.legend.mbcLegendArea",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(j,g,a,e,b,l,d,h,c,f,k){var i=function(E,S){var ak={imageMode:false,imagePalette:[],radio:1};var n,p,ag={width:200,height:200},ae="right",al={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"14px",fontweight:"bold",color:"#333333"},am={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"},X={},t=true,G=false,Y=[],ai=[],M=20,v={top:0,right:0,bottom:0,left:1.15},F=0.5,C={x:0,y:0},o,x,T,V,aj,I=false;var U={title:"",labels:""},an=[],ar=null,au=[],z=[],Q=0,D=0,ah=true;var ac=l(S);var J=new e("highlightedByLegend");var R=S.effectManager;var m;var L=false;var aq=function(av){k.drawBound(av,n,p);av.each(function(){if(q()||W()){if(U.labels.length===0){t=false}}if(t&&!G){H();if(ah){N({width:n,height:p})}var aD=v.left*M,az=v.top*M;var ax=d3.select(this).selectAll("g.v-content").data([U]);ax.enter().append("g").attr("class","v-content");if(L){L=false;ax.selectAll(".v-row").remove()}if(X.isShowTitle&&!I){var aB=parseInt(al.fontsize,10);var aI="font-weight: "+al.fontweight+"; fill:"+al.color+"; font-family: "+al.fontfamily+"; font-size: "+al.fontsize+";";var aE=(X.titleText===undefined||X.titleText===null)?U.title:X.titleText;var aC=ax.selectAll("text.v-title");if(aC.empty()){aC=ax.append("text").attr("class","v-title viz-legend-title")}var aA=S.styleManager.queryDefault("v-title");aC.text(aE).attr("dx",aD).attr("dy",az+aB).attr("visibility","visible").attr("font-weight",aA["font-weight"]).attr("fill",aA.fill).attr("font-family",aA["font-family"]).attr("font-size",aA["font-size"]);aC.each(function(aJ){g.ellipsis(aE,this,n-aD,aI)})}else{ax.selectAll("text.v-title").attr("visibility","hidden");if(I){I=false}}var aH=U.labels;var ay=ax.selectAll("g.v-groups").data([aH]);ay.enter().append("g").attr("class","v-groups v-label viz-legend-valueLabel");ay.attr("transform","translate("+C.x+","+C.y+")");var aG=((n===undefined)?ag.width:n)-aD;var aF=((p===undefined)?ag.height:p)-az;ac.properties(X).width(aG).height(aF-C.y).effectManager(R);if(af()){ac.data(an).scale(o)}else{if(ap()){ac.data(aH).color(aj.range())}else{ac.imageInfo(ak);ac.data(aH).color(ai).colorFeedLength(Q).shapeFeedLength(D)}}ay.call(ac).on("click",P).on("touchstart",P);if(X.position==="left"||X.position==="right"){switch(X.alignment){case"end":ax.attr("transform","translate(0, "+(((p-ag.height)>0)?((p-ag.height)):0)+")");break;case"middle":ax.attr("transform","translate(0, "+(((p-ag.height)/2>0)?((p-ag.height)/2):0)+")");break}}}else{var aw=d3.select(this).selectAll("g.v-content");if(!aw.empty()){aw.remove()}}G=false})};var P=function(ay){if(X.isHierarchy){return}var ax=d3.select(d3.event.target).attr("class");if(ax){var aw=ac.clickHandler();var av=parseInt(d3.select(d3.event.target).attr("class").split("ID_")[1],10);if(U.labels[av]!==undefined){J.highlightedByLegend(U.labels[av],aw)}}};aq.deselectLegend=function(av){if(!(ap()||af())){ac.deselectByCtx(av)}};aq.width=function(av){if(!arguments.length){return n}n=av;ah=true;return aq};aq.height=function(av){if(!arguments.length){return p}p=av;ah=true;return aq};aq.imageInfo=function(av){if(!arguments.length){return ak}ak=av;ah=true;return aq};aq.position=function(av){if(!arguments.length){return ae}ae=av;return aq};aq.colorPalette=function(av){if(!arguments.length){return ai}ai=av;ac.color(av);return aq};aq.shapes=function(av){if(!arguments.length){return Y}Y=av;ac.shapes(av);return aq};aq.properties=function(av){if(!arguments.length){return m}if(m&&av&&m.isHierarchical!==av.isHierarchical){L=true}f.extend(true,m,av);X.visible=m.visible;t=X.visible;X.isShowTitle=m.title.visible;X.titleText=m.title.text;X.isHierarchy=m.isHierarchical;X.position=m.position;X.formatString=m.formatString;if(X.legendType!==m.type){X.legendType=m.type;if(ar&&U.labels){B(ar);ac.data(U.labels)}}X.alignment=m.alignment;X.drawingEffect=m.drawingEffect;if(af()){ac=d(S)}else{if(ap()){ac=h(S)}}ac.properties(X);return aq};aq.getPreferredSize=function(av,ax,aw){H();return N(av,ax,aw)};aq.data=function(av){if(!arguments.length){return ar}ar=av;B(av);ac.data(U.labels);return aq};aq.sizeLegendInfo=function(av){if(!arguments.length){return o}o=av.scale;ac.scale(o);x=av.bubbleScale;T=av.space;V=av.hasHeightFeed;if(av.data.length===0){t=false}else{t=X.visible;an=av.data;ac.data(an)}U.title=at(av.title);return aq};aq.hideTitle=function(){I=true;return aq},aq.hide=function(av){G=av;return aq},aq.mbcLegendInfo=function(av){if(!arguments.length){return aj}if(av.colorScale===undefined){t=false}else{t=X.visible;aj=av.colorScale;U.title=at(av.title);ao();ac.data(U.labels)}return aq};aq.setSelectionMode=function(av){if(!(ap()||af())){ac.setSelectionMode(av)}};aq.dispatch=function(av){if(!arguments.length){return J}J=av;return aq};aq.isVisible=function(){return t};var H=function(){var aw=S.styleManager.query("v-title");if(aw){if(aw.fill){al.color=aw.fill}if(aw["font-family"]){al.fontfamily=aw["font-family"]}if(aw["font-size"]){al.fontsize=aw["font-size"]}if(aw["font-weight"]){al.fontweight=aw["font-weight"]}}var av=S.styleManager.query("v-label");if(av){if(av.fill){am.color=av.fill}if(av["font-family"]){am.fontfamily=av["font-family"]}if(av["font-size"]){am.fontsize=av["font-size"]}if(av["font-weight"]){am.fontweight=av["font-weight"]}}};var O=function(av){if(K(av.key)){z=av.values}else{if(s(av.key)){au=av.values}}};var B=function(av){if(!av){return}z=[];au=[];var aw=av.getAnalysisAxisDataByIdx(0);if(aw){z=aw.values}aw=av.getAnalysisAxisDataByIdx(1);if(aw){au=aw.values}if(W()){ad()}else{if(!(af())){ab()}}};var ao=function(){var aA=[],az={val:undefined,ctx:{}};var ay=aj.domain();for(var av=ay.length,ax=0,aw=av-1;ax<av;ax++){if(ay[ax].length>0){az.val=ay[ax][0];az.ctx.ranges={startValue:ay[ax][0],endValue:ay[ax][1],isRightOpen:true,isLeftOpen:false}}else{az.val="N/A";az.ctx.ranges={};if(aA[aw+1]!==undefined){aA[aw+1].ctx.ranges.isRightOpen=false}}if(aw===0){az.ctx.ranges.isRightOpen=false}aA[aw]={};b.extend(true,aA[aw--],az)}U.labels=aA};var ad=function(){var aB=[],aE="",aw="",az,ay=0,aC,ax={val:undefined,ctx:{path:{}}},aD;Q=0,D=0;if(z&&z.length>0&&z[0].rows.length>0){var aA=z[0];aE=at(aA.col.val);aD="dii_a"+(aA.rows[0].ctx.path.aa+1);ax={val:aA.rows[0].val,ctx:{path:{}},info:aA.rows[0].info};ax.ctx.path[aD]=[aA.rows[0].ctx.path.dii];for(az=1,aC=aA.rows.length;az<aC;az++){aw=aA.rows[az].val;if(aw===ax.val||A(aB,aw)){ax.ctx.path[aD].push(aA.rows[az].ctx.path.dii)}else{aB[ay]={};ax.val=Z(ax);b.extend(true,aB[ay++],ax);ax.val=aw;ax.ctx={path:{}};ax.ctx.path[aD]=[aA.rows[az].ctx.path.dii]}}aB[ay]={};ax.val=Z(ax);b.extend(true,aB[ay],ax);Q=aB.length}if(au&&au.length>0){var av=au[0],aF=[];aE=(aE==="")?at(av.col.val):aE+" / "+at(av.col.val);aD="dii_a"+(av.rows[0].ctx.path.aa+1);ax={val:av.rows[0].val,ctx:{path:{}},info:av.rows[0].info},ay=0;ax.ctx.path[aD]=[av.rows[0].ctx.path.dii];for(az=1,aC=av.rows.length;az<aC;az++){aw=av.rows[az].val;if(aw===ax.val||A(aF,aw)){ax.ctx.path[aD].push(av.rows[az].ctx.path.dii)}else{aF[ay]={};ax.val=Z(ax);b.extend(true,aF[ay++],ax);ax.val=aw;ax.ctx={path:{}};ax.ctx.path[aD]=[av.rows[az].ctx.path.dii]}}aF[ay]={};ax.val=Z(ax);b.extend(true,aF[ay],ax);D=aF.length;if(aB.length>0){aB=aa([aB,aF]," / ")}else{aB=aF}}if(aB.length===0){t=false}else{t=X.visible}U={title:aE,labels:aB}};var ab=function(){var ax,ay=[];var av=r(ax,z,Q);Q=av.feedsLength;var aw=r(ax,au,D);D=aw.feedsLength;if(aw.labels.length>0){if(av.labels.length>0){if(av.MNDInfo.MNDIndex===undefined&&aw.MNDInfo.MNDIndex===undefined){ay=aa([av.labels,aw.labels]," / ");ax=av.title+" / "+aw.title}else{if((av.MNDInfo.MNDIndex!==undefined&&!av.MNDInfo.hasOnlyMND)||(aw.MNDInfo.MNDIndex!==undefined&&!aw.MNDInfo.hasOnlyMND)){ay=aa([av.labels,aw.labels]," - ");ax=av.title+" - "+aw.title}else{if(av.MNDInfo.MNDIndex!==undefined&&av.MNDInfo.hasOnlyMND){ay=aw.labels;ax=aw.title}else{ay=av.labels;ax=av.title}}}}else{ay=aw.labels;ax=aw.title}}else{ay=av.labels;ax=av.title}if(ay.length===0){t=false}else{t=X.visible}U={title:ax,labels:ay}};var r=function(aE,aF,ax){var aB=[],aG=[],aw=" / ",av=" - ";var aD,az=false,aA,ay,aC;if(aF&&aF.length>0){for(aA=0,aC=aF.length;aA<aC;aA++){if(aF[aA].type!=="MND"){if(aE===undefined){aE=at(aF[aA].col.val)}else{aE=aE+aw+at(aF[aA].col.val)}aG=aF[aA].rows;for(ay=0;ay<aG.length;ay++){if(aB[ay]===undefined){aB[ay]={};aB[ay].val=Z(aG[ay]);aB[ay].ctx={path:u(aG[ay].ctx.path)}}else{aB[ay].val=aB[ay].val+aw+Z(aG[ay])}}}else{aD=aA}}ax=aB.length}if(aD!==undefined){if(aB.length>0){if(aF[aD].rows.length>1){if(aD===0){aE=c.get("IDS_DEFAULTMND")+av+aE;aB=aa([w(aF[aD].rows),aB],av);ax=ax*aF[aD].rows.length}else{if(aD===aF.length-1){aE=aE+av+c.get("IDS_DEFAULTMND");aB=aa([aB,w(aF[aD].rows)],av);ax=ax*aF[aD].rows.length}}}}else{aE=c.get("IDS_DEFAULTMND");aG=aF[aD].rows;for(ay=0;ay<aG.length;ay++){aB[ay]={};aB[ay].val=Z(aG[ay]);aB[ay].ctx=aG[ay].ctx}ax=aG.length;if(aG.length===1){az=true}}}return{title:aE,labels:aB,feedsLength:ax,MNDInfo:{MNDIndex:aD,hasOnlyMND:az}}};var u=function(aw){var av={};switch(aw.aa){case 0:av.dii_a1=aw.dii;break;case 1:av.dii_a2=aw.dii;break;case 2:av.dii_a3=aw.dii;break}return av};var N=function(aB,aC,ay){var aE=0,aF=0,aw=0,aG=0,av={width:0,height:0},aD={};if(X.visible){var aA="font-size:"+al.fontsize+"; font-weight:"+al.fontweight+"; font-family:"+al.fontfamily;M=parseInt(am.fontsize,10);var az=v.left*M,ax=v.top*M;if(X.isShowTitle){av=g.measure(((X.titleText===undefined||X.titleText===null)?U.title:X.titleText),aA);if(!I){ax=ax+av.height+F*M}}C={x:az,y:ax};aD=ac.getPreferredSize({height:aB.height-ax,width:aB.width},aC,az,ay,x,T,V);if(aD.width>0&&aD.height>0){if(!W()&&X.isHierarchy){aF=az+((av.width>aD.width)?av.width:aD.width);aE=ax+aD.height}else{if(X.position==="top"||X.position==="bottom"){aF=az+aD.width;aE=av.height+F*M+M}else{aF=az+((av.width>aD.width&&!af())?av.width:aD.width);aE=ax+aD.height}}aw=az+(aD.minWidth?aD.minWidth:0);aG=ax+(aD.minHeight?aD.minHeight:0)}ah=false}ag={maxSizeConstant:1/3,titleSize:av,minWidth:aw,height:aE,width:aF};if(aD.minHeight){ag.minHeight=aG}return ag};var A=function(av,ax){for(var aw=0;aw<av.length;aw++){if(av[aw].val===ax){return true}}return false};var aa=function(az,ay){var av=az[0];var aw=function(aA){var aC=av;av=[];for(var aE=0;aE<aC.length;aE++){for(var aD=0;aD<aA.length;aD++){var aG=(aC[aE].val===undefined)?aC[aE].val:aC[aE].val,aF=(aA[aD].val===undefined)?aA[aD].val:aA[aD].val;var aB={path:{}};b.extend(aB.path,aC[aE].ctx.path,aA[aD].ctx.path);av.push({val:aG+ay+aF,ctx:aB})}}};for(var ax=1;ax<az.length;ax++){aw(az[ax])}return av};var K=function(aw){var av=false;if(aw.search("color")!==-1){av=true}return av};var s=function(aw){var av=false;if(aw.search("shape")!==-1){av=true}return av};var q=function(){var av=false;if(X.legendType==="ColorLegend"){av=true}return av};var af=function(){var av=false;if(X.legendType==="SizeLegend"){av=true}return av};var W=function(){var av=false;if(X.legendType==="BubbleColorLegend"){av=true}return av};var ap=function(){var av=false;if(X.legendType==="MeasureBasedColoringLegend"){av=true}return av};var at=function(aw){var av=c.get("IDS_ISNOVALUE");if(aw===null||aw===undefined){return av}else{return aw}};var Z=function(ax){var aw;if(ax.info){var av=ax.info.customlabel;if(av){if(av.type==="url"){aw=ax.val}else{if(av.type==="string"){aw=av.val}}}else{aw=ax.val}}else{aw=ax.val}aw=at(aw);return aw};var w=function(aw){for(var av=0;av<aw.length;++av){aw[av].val=at(aw[av].val)}return aw};m=E.props(null);aq.properties(null);return aq};return i});sap.riv.module({qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.legend",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.legend",type:b.Module.Type.Supplementary,name:"legend",description:"The legend is a box containing a symbol and name for each series item or point item in the chart.",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of legend."},title:{name:"title",description:"Settings for legend title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of legend title."},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set text of legend title."}}},formatString:{name:"formatString",supportedValueType:"String",defaultValue:null,description:"Set format string of legend.",isExported:false},isHierarchical:{name:"isHierarchical",supportedValueType:"Boolean",defaultValue:false,description:"Set hierarchy legend. Supported only when legend is located in the right of chart.",isExported:true},position:{name:"position",supportedValueType:"List",supportedValues:["right"],defaultValue:"right",description:"Set legend position. Only support legend is located in the right side.",isExported:false},type:{name:"type",supportedValueType:"List",supportedValues:["ColorLegend","BubbleColorLegend","SizeLegend","MeasureBasedColoringLegend"],defaultValue:"ColorLegend",description:"Set legend type of Bubble chart. Non-bubble chart is not supported.",isExported:false},alignment:{name:"alignment",supportedValueType:"List",supportedValues:["start","middle","end"],defaultValue:"start",description:"Set alignment of legend.",isExported:false},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of legend.",isExported:true}},css:{".viz-legend-title.v-title":{description:"Define style for the legend title.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-legend-valueLabel.v-label":{description:"Define style for the legend label.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.title",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(b,c,a,d){var e=function(f,l){var g=500,k=100;var i=null;var n={},m={width:500,height:100},o=undefined;var h=function(p){if(n.visible){d.drawBound(p,g,k);j();var q=this.selectAll("text.v-title").data([o]);q.exit().remove();q.enter().append("text").attr("class","v-title viz-title-label");l.styleManager.queryDefault("v-title").toAttrs(q);q.attr("text-anchor",function(){if(n.alignment=="right"){return"end"}else{if(n.alignment=="left"){return"start"}else{return"middle"}}}).attr("x",function(){if(n.alignment=="right"){return g}else{if(n.alignment=="left"){return 0}else{return(g)/2}}}).attr("y",k/2);b.ellipsis(o,q.node(),g,i)}return h};h.width=function(p){if(!arguments.length){return g}g=p;return h};h.height=function(p){if(!arguments.length){return k}k=p;return h};h.size=function(p){if(!arguments.length){return m}m=p;return h};h.properties=function(p){if(!arguments.length){return n}a.extend(true,n,p);if(n.text===undefined||n.text===null){o=c.get("IDS_DEFAULTCHARTTITLE")}else{o=n.text}return h};h.getPreferredSize=function(){if(n.visible){j();var p=b.measure(o,i);return{hideOversize:true,maxSizeConstant:1/3,width:p.width,height:p.height}}return{width:0,height:0}};function j(){i=l.styleManager.query("v-title").toString()}n=f.props(null);return h};return e});sap.riv.module({qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.title",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.title",type:b.Module.Type.Supplementary,name:"title",description:"Settings for the chart's main title.",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of chart title."},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set chart title text."},alignment:{name:"alignment",supportedValueType:"List",supportedValues:["left","center","right"],defaultValue:"center",description:"Set chart title alignment."}},css:{".viz-title-label.v-title":{description:"Define style for the title label.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"16px","font-weight":"bold",fill:"#333333"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.feeds.Manifest",version:"4.0.1"},[{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"}],function Setup(a,c,b){return a.registerCategory("feeds",function(e){var d={};e.feeds.forEach(function(g){d[g.id]=g;var f=g.name;delete g.name;Object.defineProperty(g,"name",{get:function(){var h=b.get(f);if(h){return h}return f},enumerable:true})});Object.defineProperty(e,"feedsMap",{value:d,writable:false,enumerable:false,configurable:false});return e})});sap.riv.module({qname:"sap.viz.manifests.Viz",version:"4.0.1"},[{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"}],function Setup(b,h,e,a,i,l,c,g){function m(n,p){for(var o=0;o<n.length;++o){if(n[o].module.type===p){return n[o]}if(n[o].subModules){var q=m(n[o].subModules,p);if(q){return q}}}return null}function d(o,q){if(!q){return}var p,n;for(p in o){if(o.hasOwnProperty(p)&&q.hasOwnProperty(p)){n=o[p];if(n.supportedValueType==="Object"){d(n.supportedValues,q[p])}else{n.defaultValue=q[p]}}}}function k(o,q){var p,n;for(p in o){if(o.hasOwnProperty(p)){if(o[p]===null){delete o[p];continue}n=o[p];if(q){i.extend(true,n,q[p])}if(n.isExported===false){delete o[p]}else{if(n.supportedValueType==="Object"){k(n.supportedValues,q?q[p]:null);if(a.isEmptyObject(n.supportedValues)){delete o[p]}}}}}}function f(s,q){if(q){var p,o,n,t,r;q.forEach(function(u){if(u.config.configure){r=u.moduleRef;p=u.module.properties;o=u.config.configure.properties;t=u.config.configure.propertyCategory;n=u.config.configure.propertiesOverride;s[t]=i.extend(true,null,p);Object.defineProperties(s[t],{moduleRefPath:{get:(function(v){return function(){return v}}(r)),enumerable:false}});k(s[t],n);d(s[t],o)}f(s,u.subModules)})}}function j(o,n,p,q){if(n){n.forEach(function(s){var C=s.module.feeds;var x=p;var t=q;if(C){var v;var z=C.id;if(z!==undefined){var r=C.configure;v=h.get(z).feedsMap;if(r){v=e.extend(true,null,v,r)}}else{v={};C.forEach(function(D){v[D.id]=D})}var u;for(u in v){if(v.hasOwnProperty(u)){var B=v[u];if(B){B=e.extend(true,null,B);o[u]=B;if(B.type===l.Feed.Type.Dimension){var A=B.aaIndex;A+=p;if(x<A){x=A}B.aaIndex=A;var w=B.acceptMND;if(w>=0){if(q>0){w+=q}if(t<w){t=w}B.acceptMND=w}}}}}if(t>=0){t+=1}}j(o,s.subModules,x,t)})}}return b.registerCategory("viz",function(q){var p=[];var o=q.modules;for(var u in o){if(o.hasOwnProperty(u)){var v=o[u];if(v!==null){b.module.loadModule(p,v,u)}}}var n=q.feeds;var w,r,s=q.name;var t;delete q.name;Object.defineProperties(q,{allFeeds:{value:function(){if(!w){w={};j(w,p,0,-1);e.extend(true,w,n);w=d3.values(w).filter(function(z){return z})}var x=!arguments.length||arguments[0]===false?false:true;if(x===false){if(!r){r=d3.values(w).filter(function(z){if(z.min===0&&z.max===0){return false}else{return true}})}return r}else{return w}}},allProperties:{value:function(){if(!t){t={};f(t,p)}return t}},getChartPropCate:{value:function(){return m(p,"CHART").config.configure.propertyCategory}},name:{get:function(){var x=g.get(s);if(x){return x}return s},enumerable:true}});return q})});sap.riv.module({qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.1"}],function Setup(b){var a={id:"riv/base",name:"IDS_BASECHART","abstract":true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",configure:{propertyCategory:"legend"}}}}},dependencies:{}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"}],function Setup(b){var a={id:"riv/base/multiple",name:"IDS_BASEMULTIPLECHART",base:"riv/base","abstract":true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{main:{id:"sap.viz.modules.tablecontainer",configure:{propertyCategory:"multiLayout"},modules:{xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the column axis of multiple charts.",propertyCategory:"columnAxis",properties:{title:{visible:false},gridline:{visible:true},color:"#d8d8d8",type:"category",position:"top"},propertiesOverride:{label:{isExported:false},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the row axis of multiple charts.",propertyCategory:"rowAxis",properties:{type:"category",position:"left",title:{visible:false},color:"#d8d8d8",gridline:{visible:true}},propertiesOverride:{label:{isExported:false},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}}}}},plot:{id:"sap.viz.modules.xycontainer"}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"}],function Setup(b){var a={id:"riv/base/multiple/xy",name:"IDS_BASEMULTIPLEXYCHART",base:"riv/base/multiple","abstract":true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip"}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,position:"inside",automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true}}}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.XY",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(d,c){var b={id:"regionColor",name:"IDS_REGIONCOLOR",type:c.Type.Dimension,min:0,max:2,aaIndex:2,acceptMND:1};var g={id:"primaryValues",name:"IDS_PRIMARYVALUES",type:c.Type.Measure,min:1,max:c.Constraints.INF,mgIndex:1};var f={id:"secondaryValues",name:"IDS_SECONDARYVALUES",type:c.Type.Measure,min:0,max:c.Constraints.INF,mgIndex:2};var e={id:"axisLabels",name:"IDS_AXISLABELS",type:c.Type.Dimension,min:1,max:2,acceptMND:0,aaIndex:1};var a={id:"xy",feeds:[b,e,g,f]};d.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.feeds.XY",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.xy.base","abstract":true,type:b.Module.Type.Chart,name:"xy base module",datastructure:"DATA STRUCTURE DOC",properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set color palette for non-dual chart. Or dual chart's color palette when MND is not fed on legend color."},primaryValuesColorPalette:{name:"primaryValuesColorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColorDualAxis1,description:"Set axis 1 color palette for dual chart.",isExported:false},secondaryValuesColorPalette:{name:"secondaryValuesColorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColorDualAxis2,description:"Set axis 2 color palette for dual chart.",isExported:false},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of XY.",isExported:true},},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"xy"},css:null,configure:null};c.register(a)});sap.riv.module({qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},[{qname:"sap.viz.data.feed.feeder",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(b,e,d){var c=function(){var g=[];var h={};var f=e.get("IDS_ISNOVALUE");var i=function(j){if(j===null||j===undefined){return f}else{return j}};h.generateTooltipData=function(n,l,q,p,k,m){var o=function(R){var O;var z=false;if(l[q][0]!==undefined&&l[q][0].length>0){O=d3.merge([l[q][0],l[q][1]]);z=true}else{O=l[q]}var F={body:[],footer:[]};var H=O.length;var A=false;var D=0;var K=[R.getMeasureValuesGroupDataByIdx(0),R.getMeasureValuesGroupDataByIdx(1)];var P=[R.getAnalysisAxisDataByIdx(0),R.getAnalysisAxisDataByIdx(1)];var G=a(P);if(K[0]&&K[1]){A=true;D=K[0].values.length}var u=false;var w;var L=0,J=0,I=0,M;var t;var C;var x;var Q;var N;var E;if(!G.hasMNDonCate&&!G.hasMNDonColor){if(P[1]){t=0;if(K[0]){for(L=0;L<K[0].values.length;++L){C={name:i(K[0].values[L].col),val:[]};for(J=0,M=K[0].values[L].rows.length;J<M;++J){x=t*M+J;Q=[];for(I=0;I<P[1].values.length;++I){Q.push(P[1].values[I].rows[J])}N={shape:k[x%k.length],color:p[x%p.length],label:Q,value:O[x].val===" "?f:m===undefined?i(O[x].val):m(O[x].val),valueAxis:0};C.val.push(N)}F.body.push(C);++t}}if(K[1]){for(L=0;L<K[1].values.length;++L){C={name:i(K[1].values[L].col),val:[]};for(J=0,M=K[1].values[L].rows.length;J<M;++J){x=t*M+J;Q=[];for(I=0;I<P[1].values.length;++I){Q.push(P[1].values[I].rows[J])}N={shape:k[x%k.length],color:p[x%p.length],label:Q,value:O[x].val===" "?f:m===undefined?i(O[x].val):m(O[x].val),valueAxis:1};C.val.push(N)}F.body.push(C);++t}}}else{C={name:i(K[0].values[0].col),val:[]};N={shape:k[0%k.length],color:p[0%p.length],label:null,value:O[0].val===" "?f:m===undefined?i(O[0].val):m(O[0].val),valueAxis:0};C.val.push(N);F.body.push(C)}for(L=0,M=P[0].values.length;L<M;++L){E={label:P[0].values[L].col,value:P[0].values[L].rows[q]};F.footer.unshift(E)}}else{if(G.hasMNDonColor){for(L=0;L<P[1].values.length;++L){if(P[1].values[L].type==="MND"){w=P[1].values[L].rows.length;if(L===0){u=true}break}}t=0;var v;if(K[0]){for(L=0;L<K[0].values.length;++L){C={name:i(K[0].values[L].col),val:[]};for(J=0,M=K[0].values[L].rows.length;J<M;++J){v=undefined;if(u){x=t*M+J}else{if(!z||!A){x=J*w+t}else{x=J*D+t;v=J*w+t}}Q=[];for(I=0;I<P[1].values.length;++I){if(P[1].values[I].type!=="MND"){Q.push(P[1].values[I].rows[J])}}N={shape:v!==undefined?k[v%k.length]:k[x%k.length],color:v!==undefined?p[v%p.length]:p[x%p.length],label:Q,value:O[x].val===" "?f:m===undefined?i(O[x].val):m(O[x].val),valueAxis:0};C.val.push(N)}F.body.push(C);++t}}if(K[1]){for(L=0;L<K[1].values.length;++L){C={name:i(K[1].values[L].col),val:[]};for(J=0,M=K[1].values[L].rows.length;J<M;++J){v=undefined;if(u){x=t*M+J}else{if(!z||!A){x=J*w+t}else{x=J*(w-D)+t-D+parseInt(H*D/w,10);v=J*w+t}}Q=[];for(I=0;I<P[1].values.length;++I){if(P[1].values[I].type!=="MND"){Q.push(P[1].values[I].rows[J])}}N={shape:v!==undefined?k[v%k.length]:k[x%k.length],color:v!==undefined?p[v%p.length]:p[x%p.length],label:Q,value:O[x].val===" "?f:m===undefined?i(O[x].val):m(O[x].val),valueAxis:1};C.val.push(N)}F.body.push(C);++t}}for(L=0,M=P[0].values.length;L<M;++L){E={label:P[0].values[L].col,value:P[0].values[L].rows[q]};F.footer.unshift(E)}}else{var B=null;var r;for(L=0;L<P[0].values.length;++L){if(P[0].values[L].type==="MND"){w=P[0].values[L].rows.length;var s=0;if(l.length!==undefined){s=l.length}else{for(J in l){if(l.hasOwnProperty(J)){++s}}}r=s/w;if(L===0){u=true;B=P[0].values[L].rows[parseInt(q/r,10)]}else{B=P[0].values[L].rows[q%w]}break}}C={name:B,val:[]};if(P[1]){if(K[0]){for(J=0,M=K[0].values[0].rows.length;J<M;++J){x=J;Q=[];for(I=0;I<P[1].values.length;++I){Q.push(P[1].values[I].rows[J])}N={shape:k[x%k.length],color:p[x%p.length],label:Q,value:O[x].val===" "?f:m===undefined?i(O[x].val):m(O[x].val),valueAxis:0};C.val.push(N)}}}else{N={shape:k[0%k.length],color:p[0%p.length],label:null,value:O[0].val===" "?f:m===undefined?i(O[0].val):m(O[0].val),valueAxis:0};C.val.push(N)}F.body.push(C);for(L=0,M=P[0].values.length;L<M;++L){if(P[0].values[L].type!=="MND"){E={label:P[0].values[L].col,value:null};if(u){E.value=P[0].values[L].rows[q%r]}else{E.value=P[0].values[L].rows[parseInt(q/w,10)]}F.footer.unshift(E)}}}}return F};var j=function(r){if(g[r]===undefined){g[r]=o(n)}return g[r]};return j(q)};return h};function a(i){var g=false;var h,f;if(i[0]){for(h=0,f=i[0].values.length;h<f;++h){if(i[0].values[h].type&&i[0].values[h].type==="MND"){g=true}}}var k=false;if(!g){if(i[1]){for(h=0,f=i[1].values.length;h<f;++h){if(i[1].values[h].type&&i[1].values[h].type==="MND"){k=true}}}}return{hasMNDonCate:g,hasMNDonColor:k}}c.formatTooltipData=function(g){var f={name:d.Module.Event.TooltipShow.name,data:g};return f};c.dataTransform=function(n){var l=n.MG1;var k=n.MG2;var s=[];var p,m;if(n.hasMND&&n.MNDOnColor&&n.MNDInner){var r=0,o=0,g=0;if(n.MG1Number){r=n.MG1Number;g=l.length/r}if(n.MG2Number){o=n.MG2Number;g=k.length/o}for(p=0;p<g;p++){for(m=0;m<r;m++){s.push(l[p*r+m])}for(m=0;m<o;m++){s.push(k[p*o+m])}}}else{if(l){for(p=0;p<l.length;p++){s.push(l[p])}}if(k){for(p=0;p<k.length;p++){s.push(k[p])}}}var q=[];var f;if(l.length!==0){f=l[0].length}else{f=k[0].length}for(m=0;m<f;m++){var h=[];for(p=0;p<s.length;p++){h.push(s[p][m])}q.push(h)}return q};return c});sap.riv.module({qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},[{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(a){var b={sap32:function(){return d3.scale.ordinal().range(a.SAPColorSingleAxis)},sap32dualaxis1:function(){return d3.scale.ordinal().range(a.SAPColorDualAxis1)},sap32dualaxis2:function(){return d3.scale.ordinal().range(a.SAPColorDualAxis2)},};return b});sap.riv.module({qname:"sap.viz.util.Scaler",version:"4.0.1"},[],function Setup(){var a={getRoughTickNum:function(e,d){var c=2;var b=-1;if(!d||d<c){var g=e.range();var f=Math.abs(g[0]-g[g.length-1]);if(f>10){b=c+Math.round(f/100)}else{b=c}}else{b=d}e.tickHint=b;return b},toFixedNumber:function(c){if((typeof c)==="object"&&c.length){for(var b=0;b<=(c.length-1);b++){if((typeof c[b])==="number"){c[b]=parseFloat(c[b].toFixed(8))}}}else{if((typeof c)==="number"){c=parseFloat(c.toFixed(8))}}return c},perfect:function(o,e,s){var d=o.nice();var h=2;var c=100;var j=o.domain();j=this.toFixedNumber(j);var f=j[0];var i=j[j.length-1];var q=-1;var r=-1;if(!s||s<h){q=this.getRoughTickNum(o,e)}else{r=s}if(r<0){var t=d.ticks(q);t=this.toFixedNumber(t);var m=true;var g;if(t.length==0){m=false}else{if(t.length>1){g=t[1]-t[0]}else{var p=Math.abs(j[0]-t[0]);var b=Math.abs(j[j.length-1]-t[0]);if(p>b){g=p}else{g=b}}}var k=h;if(m){k=t.length;if(j[0]<j[1]){if(t[0]!=j[0]){j[0]=t[0]-g;k++}if(t[t.length-1]!=j[j.length-1]){j[j.length-1]=t[t.length-1]+g;k++}}else{if(t[0]!=j[j.length-1]){j[j.length-1]=t[0]-g;k++}if(t[t.length-1]!=j[0]){j[0]=t[t.length-1]+g;k++}}}d.tickNum=k;d.distance=g;d.tickHint=k-1;j[0]=this.toFixedNumber(j[0]);j[j.length-1]=this.toFixedNumber(j[j.length-1]);d.domain(j)}else{this.perfect(d,r);if(d.tickNum>r){var l=r;for(;l>=h;){l--;this.perfect(d,l);if(d.tickNum<=r){break}}}if(d.tickNum<r){var n=(r-d.tickNum);var j=d.domain();for(;n>0;){if(j[0]<j[1]){if(Math.abs(j[1]-i)>Math.abs(f-j[0])){j[0]-=d.distance}else{j[1]+=d.distance}n--;d.tickNum++}else{if(Math.abs(j[1]-i)>Math.abs(f-j[0])){j[0]+=d.distance}else{j[1]-=d.distance}n--;d.tickNum++}}d.tickHint=d.tickNum-1;j[0]=parseFloat(j[0].toFixed(8));j[j.length-1]=parseFloat(j[j.length-1].toFixed(8));d.domain(j)}}return d},perfectDual:function(f,c){this.perfect(f);this.perfect(c);var q=f.domain();var p=c.domain();var g=f.range();var d=c.range();if((q[0]>q[q.length-1]&&p[0]<p[p.length-1])||(q[0]<q[q.length-1]&&p[0]>p[p.length-1])||(q[0]<0&&q[q.length-1]<0)||(p[0]<0&&p[p.length-1]<0)||(q[0]>0&&q[q.length-1]>0)||(p[0]>0&&p[p.length-1]>0)||(Math.abs(g[0]-g[g.length-1])!=Math.abs(d[0]-d[d.length-1]))){return}var o=0;var n=0;var m=0;var l=0;var k=f.tickNum;var h=c.tickNum;var s=(q[q.length-1]-q[0])/(k-1);s=parseFloat(s.toFixed(8));for(var j=0;j<k;j++){var e=q[0]+j*s;if(e>0){o++}else{if(e<0){n++}}}var r=(p[p.length-1]-p[0])/(h-1);r=parseFloat(r.toFixed(8));for(var j=0;j<h;j++){var e=p[0]+j*r;if(e>0){m++}else{if(e<0){l++}}}if(o>m){var b=o-m;if(p[0]<p[p.length-1]){p[p.length-1]+=(b*Math.abs(r));c.tickNum+=b}else{if(p[0]>p[p.length-1]){p[0]+=(b*Math.abs(r));c.tickNum+=b}}}else{if(o<m){var b=m-o;if(q[0]<q[q.length-1]){q[q.length-1]+=(b*Math.abs(s));f.tickNum+=b}else{if(q[0]>q[q.length-1]){q[0]+=(b*Math.abs(s));f.tickNum+=b}}}}if(n>l){var b=n-l;if(p[0]<p[p.length-1]){p[0]-=(b*Math.abs(r));c.tickNum+=b}else{if(p[0]>p[p.length-1]){p[p.length-1]-=(b*Math.abs(r));c.tickNum+=b}}}else{if(n<l){var b=l-n;if(q[0]<q[q.length-1]){q[0]-=(b*Math.abs(s));f.tickNum+=b}else{if(q[0]>q[q.length-1]){q[q.length-1]-=(b*Math.abs(s));f.tickNum+=b}}}}q[0]=parseFloat(q[0].toFixed(8));q[1]=parseFloat(q[1].toFixed(8));p[0]=parseFloat(p[0].toFixed(8));p[1]=parseFloat(p[1].toFixed(8));f.domain(q);c.domain(p);f.tickHint=f.tickNum-1;c.tickHint=c.tickNum-1}};return a});sap.riv.module({qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},[],function Setup(){return function(i){var e;var d;var c=false;var f=true;var j=false;var k=false;var m=i.getMeasureValuesGroupDataByIdx(1);var o=i.getMeasureValuesGroupDataByIdx(0);var g=i.getAnalysisAxisDataByIdx(1);var b=i.getAnalysisAxisDataByIdx(0);if((m&&m.values&&m.values.length>0)){k=true}if(b&&b.values&&b.values.length>0){if(b.values[0].type==="MND"){c=true;f=false;j=false}else{if(b.values[b.values.length-1].type==="MND"){c=true;f=false;j=true}}}if(g&&g.values&&g.values.length>0){if(g.values[0].type==="MND"){c=true;j=false}else{if(g.values[g.values.length-1].type==="MND"){c=true;j=true}}}function a(t){var u=[];var s,r,q;var v;if(t.values.length<=0){return u}if(c&&!f){for(r=0;r<t.values[0].rows.length;++r){v=new Array(t.values.length*t.values[0].rows[0].length);for(q=0;q<t.values[0].rows[0].length;++q){for(s=0;s<t.values.length;++s){var p={};p.val=t.values[s].rows[r][q].val;p.ctx=t.values[s].rows[r][q].ctx;if(j){v[q*t.values.length+s]=p}else{v[s*t.values[0].rows[0].length+q]=p}}}u.push(v)}}else{u=new Array(t.values.length*t.values[0].rows.length);for(s=0;s<t.values.length;++s){for(r=0;r<t.values[0].rows.length;++r){v=t.values[s].rows[r];if(!c||!j){u[s*t.values[0].rows.length+r]=v}else{u[r*t.values.length+s]=v}}}}return u}function l(r,q){for(var p=0;p<q.length;++p){r[p]=r[p].concat(q[p])}}function h(A){var q=[];var x=o.values.length;var v=m.values.length;var z=o.values[0].rows[0].length;var t=new Array(o.values[0].rows.length);var p=0;var u,s,r;for(u=0;u<t.length;++u){t[u]=[]}if(j){var w=o.values[0].rows.length;for(u=0;u<z;++u){for(s=0;s<x;++s){for(r=0;r<w;++r){t[r][p]=o.values[s].rows[r][u]}q[p]=0;++p}for(s=0;s<v;++s){for(r=0;r<w;++r){t[r][p]=m.values[s].rows[r][u]}q[p]=1;++p}}}else{for(u=0;u<x;++u){for(s=0;s<z;++s){q[p++]=0}l(t,o.values[u].rows)}for(u=0;u<v;++u){for(s=0;s<z;++s){q[p++]=1}l(t,m.values[u].rows)}}A.MG1=t;A.MG1Number=o.values.length;A.color=q}var n={};if(k&&!f){h(n)}else{e=a(o);n.MG1Number=o.values.length;if(k){d=a(m);n.MG2Number=m.values.length}n.MG1=e;n.MG2=d}n.hasMND=c;n.MNDOnColor=f;n.MNDInner=j;return n}});sap.riv.module({qname:"sap.viz.modules.area",version:"4.0.1"},[{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.BoundingBox",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.DrawUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(f,g,i,a,p,d,m,j,e,l,o,k,b,h,c,n){return function(H,U){var z="v-marker-selected",au="v-marker-hover",A="v-datapoint";var q,t;var P=null,Y;var W=b.guid();var u=null;var ah;var ae="#FFFFFF";var X="#cccccc";var ab="#333333";var K=d3.scale.ordinal();var al;var ag;var aq;var T,an,E;var L=new g("showTooltip","hideTooltip","initialized","startToInit");var S=U.effectManager;var R={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],areas:[],bottomValue:null,topValue:null};var I=[];var af=false;var ap=0;var r=null;var ar=false,D=true,aw=false,B=false;var ax;var Q=0.4;var ad=false;function J(){var ay=false;if(D){ay=Y.animation.dataLoading}else{if(B){ay=Y.animation.dataUpdating}else{if(aw){ay=Y.animation.resizing}}}return ay}function ac(ay){n.drawBound(ay,q,t);ah=o();F(ay);ar=false,D=false,aw=false,B=false;return ac}function aj(aC,ay){var aB=new Array(aC.data[0].length);var aA;for(aA=0;aA<aB.length;++aA){aB[aA]=0}for(aA=0;aA<aC.data.length;++aA){for(var az=0;az<aC.data[aA].length;++az){if(!j.isNoValue(aC.data[aA][az].val)){aB[az]+=aC.data[aA][az].val;if(ay.min===null){ay.min=aB[az];ay.max=aB[az]}else{ay.min=ay.min>aB[az]?aB[az]:ay.min;ay.max=ay.max>aB[az]?ay.max:aB[az]}}}}}function ak(aA){var az={min:null,max:null};if(!aA.data||aA.data.length===0){return az}if(Y.mode==="percentage"){az.min=0;az.max=1;return az}aj(aA,az);if(j.isNoValue(az.max)){return null}if(az.min>=0){az.min=0;az.max+=az.max*5/(Y.orientation==="vertical"?t:q)}else{if(az.max<=0){az.max=0;az.min+=az.min*5/(Y.orientation==="vertical"?t:q)}else{var ay=(az.max-az.min)*5/(Y.orientation==="vertical"?t:q);az.min-=ay;az.max+=ay}}if(az.min===0&&az.max===0){az.max=1}return az}function s(){I=[];var az=0,ay=0;R.colorPalette=Y.colorPalette;for(az=0;az<R.data.length;++az){I.push(R.colorPalette[az%R.colorPalette.length])}}function N(aA){var az=(Y.orientation==="vertical"?[t,0]:[0,q]);if(aA.data&&aA.data.length>0){if(aA.topValue===null||aA.topValue===undefined){var ay=ak(aA);if(!ay){aA.scale.domain([0,1]).range(az)}else{aA.scale.domain([ay.min,ay.max]).range(az)}}else{aA.scale.domain([aA.bottomValue,aA.topValue]).range(az)}if(!aA.manualRange){p.perfect(aA.scale)}else{p.getRoughTickNum(aA.scale)}}else{aA.scale.domain([0,0]).range([0,0])}return aA.scale}function w(){if(!(a.isExist(q)&&a.isExist(t)&&a.isExist(P))){return}var aA=[];var ay=R.data[0].length;for(var az=0;az<ay;az++){aA.push(az)}K.domain(aA).rangeBands(Y.orientation==="vertical"?[0,q]:[t,0]);N(R)}function av(aA,aB,az){if(aA===undefined||aA===null){return}var ay=0;for(ay=0;ay<R.data.length;++ay){if(!R.selectedMarkers[ay][aA]){aa(ay,aA,az,R);if(ap>0){d3.select(R.markers[ay][aA]).attr("opacity",Q).attr("visibility",aB)}else{d3.select(R.markers[ay][aA]).attr("opacity",1).attr("visibility",aB)}}}}function aa(az,ay,aA,aC){var aB="transparent";if(aA===au){aB=ae}else{if(aA===z){aB=ab}}d3.select(aC.markers[az][ay]).attr("class",A+" "+aA).attr("stroke",aB)}function ao(aA){var az=aA/K.rangeBand();az=Math.floor(az);var ay=0;ay=R.data[0].length;if(az>ay-1){az=ay-1}if(az<0){az=0}return(Y.orientation==="vertical"?az:ay-1-az)}function V(aF,az){var ay=false,aE,aA;for(var aD=0;aD<aF.markers.length&&!ay;aD++){var aC=aF.markers[aD];for(var aB=0;aB<aC.length&&!ay;aB++){if(aC[aB]===az){ay=true;aE=aD;aA=aB}}}if(!ay){return false}if(aF.selectedMarkers[aE][aA]){return true}aa(aE,aA,z,aF);d3.select(aF.markers[aE][aA]).attr("opacity",1).attr("visibility","visible");E.selectAll(".v_areabg").attr("opacity",Q).attr("stroke-opacity",Q);d3.select(aF.areas[aE][aA]).attr("opacity",1).attr("visibility","visible");aF.selectedMarkers[aE][aA]=true;++ap}function x(aF,az){var aA=ag;var ay=false,aE;for(var aD=0;aD<aF.markers.length&&!ay;aD++){var aC=aF.markers[aD];for(var aB=0;aB<aC.length&&!ay;aB++){if(aC[aB]===az){ay=true;aE=aD;aA=aB}}}if(!ay){return false}if(!aF.selectedMarkers[aE][aA]){return true}if(aA===ag){aa(aE,aA,au,aF)}else{aa(aE,aA,"",aF)}d3.select(aF.markers[aE][aA]).attr("opacity",Q);d3.select(aF.areas[aE][aA]).attr("visibility","hidden");if(aA!==ag){d3.select(aF.markers[aE][aA]).attr("visibility","hidden")}aF.selectedMarkers[aE][aA]=false;--ap}function O(aF){var ay={data:[],bgAreaData:[],accuVal:[]};var aD,aB;var aE=[];var az=[];var aA=new Array(aF[0].length);if(Y.mode==="percentage"&&ad){Z(aF);ad=false}for(aD=0;aD<aA.length;++aD){aA[aD]=0}ay.bgAreaData=new Array(aF.length);for(aD=0;aD<aF.length;++aD){ay.bgAreaData[aD]=[];ay.accuVal[aD]=new Array(aF[aD].length);for(aB=0;aB<aF[aD].length;++aB){ay.accuVal[aD][aB]=(aD>0?ay.accuVal[aD-1][aB]:0);if(!j.isNoValue(aF[aD][aB].val)){aA[aB]++;ay.accuVal[aD][aB]+=(Y.mode==="percentage"?Math.abs(aF[aD][aB].val):aF[aD][aB].val)}}}for(aD=0;aD<aF.length;++aD){for(aB=0;aB<aF[aD].length;++aB){if(!j.isNoValue(aF[aD][aB].val)){az.push({x:aB,y:(aD>0?ay.accuVal[aD-1][aB]:0)});aE.push({x:aB,y:ay.accuVal[aD][aB]})}else{if(aA[aB]>0){if(aB>0&&!j.isNoValue(aF[aD][aB-1].val)){aE.push({x:aB,y:ay.accuVal[aD][aB]});aE=aE.concat(az.reverse());ay.bgAreaData[aD].push(aE);aE=[];az=[]}if(aB<aF[aD].length-1&&!j.isNoValue(aF[aD][aB+1].val)){aE.push({x:aB,y:ay.accuVal[aD][aB]})}}else{if(aE.length>0){aE=aE.concat(az.reverse());ay.bgAreaData[aD].push(aE);aE=[];az=[]}}}}if(aE.length>0){aE=aE.concat(az.reverse());ay.bgAreaData[aD].push(aE);aE=[];az=[]}}var aC={};for(aD=0;aD<aF.length;++aD){ay.data[aD]=[];for(aB=0;aB<aF[aD].length;++aB){if(aB>0){if(aA[aB-1]>0){aE.push({x:aB-0.5,y:(ay.accuVal[aD][aB-1]+ay.accuVal[aD][aB])/2});az.push({x:aB-0.5,y:(aD>0?((ay.accuVal[aD-1][aB-1]+ay.accuVal[aD-1][aB])/2):0)})}}aE.push({x:aB,y:ay.accuVal[aD][aB]});az.push({x:aB,y:(aD>0?ay.accuVal[aD-1][aB]:0)});if(aB<aF[0].length-1){if(aA[aB+1]>0){aE.push({x:aB+0.5,y:(ay.accuVal[aD][aB]+ay.accuVal[aD][aB+1])/2});az.push({x:aB+0.5,y:(aD>0?((ay.accuVal[aD-1][aB]+ay.accuVal[aD-1][aB+1])/2):0)})}}aE=aE.concat(az.reverse());ay.data[aD].push(aE);aE=[];az=[]}}return ay}function G(aE){if(!aE.data||aE.data.length===0){return}var az=O(aE.data);var aC=E.selectAll(".v-areagroup").data(az.bgAreaData);aC.enter().append("svg:g").attr("class","v-areagroup");aC.exit().remove();var aA=(Y.orientation==="vertical"?d3.svg.line().x(function(aH,aG){return K(aH.x)+K.rangeBand()/2}).y(function(aG){return aE.scale(aG.y)}):d3.svg.line().y(function(aH,aG){return K(aH.x)+K.rangeBand()/2}).x(function(aG){return aE.scale(aG.y)}));aC.attr("transform",function(aI,aG){var aH=d3.select(this).selectAll(".v-areabg").data(aI);aH.enter().append("svg:path").attr("stroke-linejoin","round").attr("class","v-areabg").attr("opacity",1).attr("stroke-opacity",1);aH.exit().remove();aH.attr("transform",function(aK,aJ){d3.select(this).attr("d",aA(aK)).attr("stroke",function(){var aL={graphType:"line",fillColor:aE.colorPalette[aG%aE.colorPalette.length]};return S.register(aL)}).attr("stroke-width",1).attr("fill",function(){var aL={drawingEffect:Y.drawingEffect,graphType:"rectangle",direction:Y.orientation,fillColor:aE.colorPalette[aG%aE.colorPalette.length]};return S.register(aL)})})});aA=(Y.orientation==="vertical"?d3.svg.line().x(function(aH,aG){return(aH.x+0.5)*K.rangeBand()}).y(function(aG){return aE.scale(aG.y)}):d3.svg.line().y(function(aH,aG){return t-(aH.x+0.5)*K.rangeBand()}).x(function(aG){return aE.scale(aG.y)}));aE.areas=[];aC=an.selectAll(".v-area").data(az.data);aC.enter().append("svg:g").attr("class","v-area");aC.exit().remove();aC.attr("transform",function(aI,aG){markerArr=[];var aH=d3.select(this).selectAll(".v-areashape").data(aI);aH.enter().append("svg:path").attr("stroke-linejoin","round").attr("class","v-areashape");aH.exit().remove();aH.attr("transform",function(aJ,aK){markerArr.push(d3.select(this).node());d3.select(this).attr("d",aA(az.data[aG][aK])).attr("stroke",function(){var aL={graphType:"line",fillColor:aE.colorPalette[aG%aE.colorPalette.length]};return S.register(aL)}).attr("stroke-width",1).attr("visibility","hidden").attr("fill",function(){var aL={drawingEffect:Y.drawingEffect,graphType:"rectangle",direction:Y.orientation,fillColor:aE.colorPalette[aG%aE.colorPalette.length]};return S.register(aL)})});aE.areas.push(markerArr)});aE.selectedMarkers=new Array(aE.data.length);aE.markers=[];for(var aB=0;aB<aE.data.length;++aB){aE.selectedMarkers[aB]=[];for(var aD=0;aD<aE.data[0].length;++aD){aE.selectedMarkers[aB][aD]=false}}var ay=T.selectAll("g.v-marker").data(aE.data);ay.enter().append("svg:g").attr("class","v-marker");ay.exit().remove();var aF="hidden";ay.attr("transform",function(aJ,aG){var aI=d3.select(this).selectAll(".v-datashape").data(aJ);var aH=aI.enter().append("g").attr("class","v-datashape");l.createElements(aH,{shape:Y.marker.shape,className:A});aI.exit().remove();markerArr=[];aI.attr("transform",function(aK,aL){if(j.isNoValue(aK.val)){d3.select(this).remove();markerArr.push(null);return}markerArr.push(d3.select(this).selectAll("path").node());var aM={drawingEffect:Y.drawingEffect,graphType:Y.marker.shape,fillColor:aE.colorPalette[aG%aE.colorPalette.length],direction:"vertical",rx:Y.marker.size/2,ry:Y.marker.size/2,borderWidth:2,borderColor:Y.style.marker.stroke,strokeOpacity:0.3,node:d3.select(this).select("path"),visibility:aF};l.drawGraph(aM,S);return Y.orientation==="vertical"?"translate("+(K(aL)+K.rangeBand()/2)+","+aE.scale(az.accuVal[aG][aL])+")":"translate("+aE.scale(az.accuVal[aG][aL])+","+(K(aL)+K.rangeBand()/2)+")"});aE.markers.push(markerArr)})}function am(aB,ay){if(ap===0||!aB.selectedMarkers||aB.selectedMarkers.length===0){return}for(var az=0;az<aB.selectedMarkers.length;++az){for(var aA=0;aA<aB.selectedMarkers[0].length;++aA){if(!aB.selectedMarkers[az][aA]){continue}d3.select(aB.areas[az][aA]).attr("visibility","hidden");if(aA===ay){aa(az,aA,au,aB);d3.select(aB.markers[az][aA]).attr("opacity",Q).attr("visibility","visible")}else{aa(az,aA,"",aB);d3.select(aB.markers[az][aA]).attr("visibility","hidden")}aB.selectedMarkers[az][aA]=false}}}function ai(){var az=Y.orientation==="vertical"?(d3.event?d3.event.clientX:0)-aq.node().getBoundingClientRect().left:(d3.event?d3.event.clientY:0)-aq.node().getBoundingClientRect().top;var ay=ao(az);am(R,ay);ap=0}function F(az){r=az;C();L.startToInit();if(!aq){aq=az.append("svg:g")}if(!T){E=aq.append("svg:g").attr("class","v-areasbg");an=aq.append("svg:g").attr("class","v-areas");if(!al){al=aq.append("svg:line").attr("stroke",X).attr("class","v-hoverline viz-plot-hoverline")}T=aq.append("svg:g").attr("class","v-markers v-datashapesgroup")}if(Y.orientation==="vertical"){al.attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",t).attr("stroke-width",1).attr("visibility","hidden").attr("stroke-linejoin","round")}else{al.attr("x1",0).attr("y1",0).attr("x2",q).attr("y2",0).attr("stroke-width",1).attr("stroke",X).attr("visibility","hidden").attr("stroke-linejoin","round")}ap=0;v();if(!ax){ax=aq.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+W).append("rect")}if(Y.orientation==="vertical"){ax.attr("x",0).attr("y",0).attr("height",t).attr("width",(J()?0:q))}else{ax.attr("x",0).attr("y",(J()?t:0)).attr("height",(J()?0:t)).attr("width",q)}E.attr("clip-path","url(#clip1_"+W+")").attr("fill","none");T.attr("clip-path","url(#clip1_"+W+")").attr("fill","none");G(R);if(J()){af=true;var aB=0;var ay=(Y.orientation==="vertical"?q/50:t/50);var aA=setInterval(function(aC){if(aB>=(Y.orientation==="vertical"?q:t)){clearInterval(aA);L.initialized();T.attr("clip-path",null)}else{aB+=ay;if(Y.orientation==="vertical"){ax.attr("width",aB)}else{ax.attr("height",aB);ax.attr("y",t-aB)}}},20)}else{L.initialized();T.attr("clip-path",null);E.attr("clip-path",null)}}function Z(aC){if(aC===null||aC===undefined||aC[0].length===0){return}var aB=0,aA=0;var ay=new Array(aC[0].length);var az=new Array(aC[0].length);for(aB=0;aB<ay.length;++aB){ay[aB]=0;az[aB]=0}for(aB=0;aB<aC.length;++aB){for(aA=0;aA<aC[aB].length;++aA){if(!j.isNoValue(aC[aB][aA].val)){ay[aA]+=Math.abs(aC[aB][aA].val);if(aC[aB][aA].val===0){++az[aA]}}}}for(aB=0;aB<aC.length;++aB){for(aA=0;aA<aC[aB].length;++aA){aC[aB][aA].value=aC[aB][aA].val;if(!j.isNoValue(aC[aB][aA].val)){if(ay[aA]>0){aC[aB][aA].value=aC[aB][aA].val;aC[aB][aA].val=aC[aB][aA].val/ay[aA]}else{if(az[aA]>0){aC[aB][aA].val=1/az[aA]}}}}}}function v(){E.selectAll(".v-areabg").attr("opacity",1).attr("stroke-opacity",1);an.selectAll(".v-areashape").attr("visibility","hidden");T.selectAll("."+A).attr("opacity",1)}function M(){E.selectAll(".v-areabg").attr("opacity",Q).attr("stroke-opacity",Q);an.selectAll(".v-areashape").attr("visibility","hidden");T.selectAll("."+A).attr("opacity",Q)}function C(){if(!Y.style){Y.style={}}var ay;if(!Y.style.marker){Y.style.marker={}}Y.style.marker.stroke="transparent";ay=U.styleManager.queryDefault("v-hoverline");if(ay){if(ay.stroke){X=ay.stroke}}}function at(){R.topValue=null;R.bottomValue=null}ac.width=function(ay){if(!arguments.length){return q}aw=(!aw&&(ay===q))?false:true;q=ay;w();return ac};ac.height=function(ay){if(!arguments.length){return t}aw=(!aw&&(ay===t))?false:true;t=ay;w();return ac};ac.afterUIComponentAppear=function(){L.initialized()};ac.properties=function(ay){if(!arguments.length){return Y}h.extend(true,Y,ay);w();Y.marker.size=4;Y.marker.shape="circle";s();return ac};ac.primaryAxisColor=function(){return null};ac.dispatch=function(ay){if(!arguments.length){return L}L=ay;return ac};ac.data=function(ay){if(!arguments.length){return P}B=true;ar=false;if(!f().hasSameSchema(P,ay)){ar=true}allDataIsNaN=true;ad=true;P=ay;var az=i(P);R.data=az.MG1;at();u=o.dataTransform(az);w();s();return ac};ac.dataLabel=function(ay){};ac.primaryAxisTitle=function(az){if(!arguments.length){var aC=P.getMeasureValuesGroupDataByIdx(0),aB=[];if(aC){for(var aA=0,ay=aC.values.length;aA<ay;aA++){if(aC.values[aA].col!==null&&aC.values[aA].col!==undefined){aB.push(aC.values[aA].col)}else{aB.push(e.get("IDS_ISNOVALUE"))}}}return aB.join("/")}return this};ac.getColorPalette=function(){if(I.length===0){s()}return I};ac.shapePalette=function(){if(!arguments.length){return[Y.marker.shape]}return ac};ac.primaryScale=function(ay){if(!arguments.length){return R.scale}R.scale=ay;return ac};ac.categoryScale=function(ay){if(!arguments.length){return K}K=ay;return ac};ac.primaryDataRange=function(ay){if(!arguments.length){return{min:R.scale.domain()[0],max:R.scale.domain()[1]}}if(ay!==null){R.topValue=ay.max;R.bottomValue=ay.min;if(ay.from==="axis"){R.manualRange=true}if(a.isExist(q)&&a.isExist(t)){N(R)}}return ac};ac.parent=function(){return r};ac.size=function(ay,az){if(arguments.length===0){return{width:ac.width(),height:ac.height()}}ac.width(ay).height(az);return ac};ac.clear=function(ay){ai();if(ay===null||ay===undefined){v()}else{M()}};ac.highlight=function(aB){var az;if(aB instanceof Array){az=aB}else{az=[];az.push(aB)}for(var aA=0;aA<az.length;aA++){var ay=az[aA];V(R,ay)}};ac.unhighlight=function(aB){var az;if(aB instanceof Array){az=aB}else{az=[];az.push(aB)}for(var aA=0;aA<az.length;aA++){var ay=az[aA];x(R,ay)}};ac.hoverOnPoint=function(ay){var aC=ay.x,aB=ay.y;if(Y.orientation==="vertical"){if(aC<0||aC>q){return}}else{if(aB<0||aB>t){return}}var az=ao(Y.orientation==="vertical"?aC:aB);if(ag===az){return}var aF=K(az)+K.rangeBand()/2;av(ag,"hidden","");av(az,"visible",au);ag=az;if(Y.hoverline.visible){al.attr(Y.orientation==="vertical"?"x1":"y1",aF).attr(Y.orientation==="vertical"?"x2":"y2",aF);al.attr("visibility","visible")}else{al.attr("visibility","hidden")}if(Y.tooltip.enabled){var aE={};var aA=aq.node().getTransformToElement(aq.node().ownerSVGElement);if(Y.orientation==="vertical"){aE.x=K(az)+K.rangeBand()/2+aA.e;aE.y=t/4+aA.f}else{aE.x=q*3/4+aA.e;aE.y=aF+aA.f}var aD=ah.generateTooltipData(P,u,az,I,[Y.marker.shape]);aD.point=aE;aD.plotArea={x:aA.e,y:aA.f,width:q,height:t};L.showTooltip(o.formatTooltipData(aD))}};ac.blurOut=function(){al.attr("visibility","hidden");av(ag,"hidden","");ag=null;if(Y.tooltip.enabled){L.hideTooltip()}};ac.dataLabel=function(ay){};Y=H.props(null);return ac}});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.area",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.area",name:"area",base:"sap.viz.modules.xy.base",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."},mode:{name:"mode",supportedValueType:"List",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set dispaly mode of area chart.",isExported:false},orientation:{name:"orientation",supportedValueType:"List",supportedValues:["vertical","horizontal"],defaultValue:"vertical",description:"vertical or horizontal area chart.",isExported:false},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for tooltip related properties."},hoverline:{name:"hoverline",supportedValueType:"Object",description:"Settings for hoverline properties.",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set to enabled/disabled hoverline or not."}}},marker:{name:"marker",description:"Settings for marker/data point graphics",supportedValueType:"Object",isExported:false,supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set show marker or not.",isExported:false},shape:{name:"shape",supportedValueType:"List",supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],defaultValue:"circle",description:"Set marker shapes for chart."},size:{name:"size",supportedValueType:"PositiveInt",defaultValue:"4",min:"4",max:"32",description:"Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 4."}}}},css:{".viz-plot-hoverline.v-hoverline":{description:"Define style for hoverline in line.",value:{stroke:"#cccccc"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_area",name:"IDS_MULTIAREACHART",base:"riv/base/multiple/xy",modules:{root:{modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"xAxis",properties:{title:{visible:false},gridline:{visible:false},type:"category",position:"bottom"},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"value",position:"left"},propertiesOverride:{title:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",orientation:"vertical",automaticInOutside:false,outsidePosition:"down"},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiHorizontalAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiAreaChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_horizontal_area",name:"IDS_MULTIHORIZONTALAREACHART",base:"viz/multi_area",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{configure:{properties:{direction:"horizontal"}}},xAxis:{id:"sap.viz.modules.axis",data:null,configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{gridline:{visible:true},type:"value",position:"bottom"},propertiesOverride:{title:{isExported:false},gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the catetory axis of an XY chart.",propertyCategory:"yAxis",properties:{gridline:{visible:false},type:"category",position:"left"},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",orientation:"horizontal",automaticInOutside:false,outsidePosition:"left"},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{orientation:"horizontal"}}}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiPercentageHorizontalAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiHorizontalAreaChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_100_horizontal_area",name:"IDS_MULTIPERCENTAGEHORIZONTALAREACHART",base:"viz/multi_horizontal_area",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{mode:"percentage"}}}}}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiPercentageAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.manifests.MultiAreaChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_100_area",name:"IDS_MULTIPERCENTAGEAREACHART",base:"viz/multi_area",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"}],function Setup(b){var a={id:"sap.viz.modules.xy.bar.base",name:"bar",base:"sap.viz.modules.xy.base","abstract":true,properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."},isRoundCorner:{name:"isRoundCorner",supportedValueType:"Boolean",defaultValue:false,description:"Set enable/disable round corner of bar."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation of plot area."}},css:{".v-hoverline":{description:"Define style for hoverline in bar.",value:{fill:"rgba(204,204,204,1)"}}}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.util.lassoSelection",version:"4.0.1"},[],function Setup(){return function(){var k={},j={},e=null;var h,q,n,p,b=false,i=null,d=null,c={},m,g,l=null;var o=function(s,r){h=$('<div id="lasso-selection-help" style="position:absolute;pointer-events:none;background:#cccccc;"></div>');m=r&&r.filter?r.filter:".v-datapoint";d=d3.select(s).select(".main").length>0?d3.select(s).select(".main")[0][0]:s;i=d3.select(d);var t=d.getBBox();l=i.insert("rect","g").attr("width",t.width).attr("height",t.height).attr("x",0).attr("y",0).attr("fill-opacity",0);q=r.lassoStart?r.lassoStart:function(){},n=r.lassoMove?r.lassoMove:function(){},lassoEnd=r.lassoEnd?r.lassoEnd:function(){};i.on("mousedown",o.start);i.on("mousemove",o.move);i.on("mouseup",o.end);return o};function f(s,r){return(s.x<=(r.x+r.width)&&r.x<=(s.x+s.width)&&s.y<=(r.y+r.height)&&r.y<=(s.y+s.height))}var a=function(r,t){c.x=r.x;c.y=r.y;c.height=t.height;c.width=t.width;var s=[];if(g==null){g=i.selectAll(m)}g.filter(function(w,u){var x=this.getBoundingClientRect();var v={x:x.left,y:x.top,width:x.width,height:x.height};if(f(v,c)){s.push(this)}});return s};o.start=function(){e=d.ownerSVGElement.getBoundingClientRect();j.x=d3.event.clientX,j.y=d3.event.clientY;k.x=j.x-e.left,k.y=j.y-e.top;h.css({left:k.x,top:k.y,width:0,height:0});h.insertBefore(d.ownerSVGElement.parentNode);var r=a({x:j.x,y:j.y},{width:0,height:0});q(r);b=true};o.move=function(){if(b){e=d.ownerSVGElement.getBoundingClientRect();var s=k.x,v=k.y,r=d3.event.clientX-e.left,u=d3.event.clientY-e.top;if(s>r){var t=r;r=s;s=t}if(v>u){var t=u;u=v;v=t}h.css({left:s,top:v,width:r-s,height:u-v})}};o.end=function(){h.css({width:0,height:0});h.remove();e=d.ownerSVGElement.getBoundingClientRect();var s=k.x,B=k.y,r=d3.event.clientX-e.left,A=d3.event.clientY-e.top;var z=j.x,u=j.y,x=d3.event.clientX,t=d3.event.clientY;if(s>r){var v=r;r=s;s=v;v=x;x=z;z=v}if(B>A){var v=A;A=B;B=v;v=t;t=u;u=v}if(s===r&&B===A){b=false}else{var w=a({x:z,y:u},{width:r-s,height:A-B});lassoEnd(w);b=false}};return o}});sap.riv.module({qname:"sap.viz.modules.bar",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.modules.util.lassoSelection",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.datalabel",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,g,i,d,b,j,k,n,c,m,h,e,l){var f=function(G,R){var aw;var ao,an,ay,Z=[],E=0,s=0,S=false,ag=false,V=0,O=0,U=null;var o,t,F=false,r=false,ae=Math.floor(Math.random()*10000),I=[],H,aB,v=false,aj=0,ai=0,aA=["squareWithRadius"],p,M=new g("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var Q=R.effectManager;var aC=[],am=d3.scale.ordinal(),L=d3.scale.linear(),aq=d3.scale.linear();var D=null,at=[],al=null,N=true,aa=false;var aD=0,w,ah,Y=[],C;var z=true,af=true,T=true,av=false,ab=true,P=1000,az=false;var ak=null,ad=null,ap=c.guid();var X="normal";var au=false,q=false,A=false;var x;function K(){var aE=false;if(!az){aE=z}else{if(q||A){aE=af}else{if(au){aE=T}}}return aE}var ac=function(){av=p.isRoundCorner;z=p.animation.dataLoading;af=p.animation.dataUpdating;T=p.animation.resizing;N=p.tooltip.enabled;if(F&&!r){H=p.primaryValuesColorPalette;aB=p.secondaryValuesColorPalette}else{aB=p.colorPalette;H=p.colorPalette}X=p.drawingEffect;var aI=0;if(!r){aD=ao.length;aI=Z[0].length}else{aI=Z.length*Z[0].length}I=[];var aH=0;if(v){var aF=0,aE=0,aG=0;for(aH=0;aH<aD;aH++){I.push(H[aH%H.length]);aF++;if(aF===aj){aE=0;for(;aG<=(aI-aD);aG++){if(aE>=ai){aF=0;break}I.push(aB[aG%aB.length]);aE++}}}}else{for(aH=0;aH<aI;aH++){if(aH<aD){I.push(H[aH%H.length])}else{if(F&&!r){I.push(aB[(aH-aD)%aB.length])}}}}};var J=function(aF){var aG="";var aE=p.imagePalette.length;if(aE>0){aG=p.imagePalette[aF%aE]}return aG};function ax(aF){l.drawBound(aF,o,t);var aG=function(aJ){var aI=0;if(aJ>=1){aI=1;for(;;){if((aJ/10)<1){break}else{aJ/=10;aI*=10}}}else{if(aJ<1){aI=0.1;for(;;){if((aJ*10)>=1){break}else{aJ*=10;aI/=10}}}}return aI};var aH=function(aJ,aO,aU){var aQ=1;var aR=[];for(var aM=0;aM<aJ.length;aM++){for(var aK=0;aK<aJ[aM].length;aK++){var aS={};aS.rectWidth=aO(aJ[aM][aK].val);aS.rectHeight=aU;aS.imageWidth=aU;aS.val=aJ[aM][aK].val;aR.push(aS)}}aR.sort(function(aW,aV){return aV.rectWidth-aW.rectWidth});if(aR.length!=0){var aP=aR[0].rectWidth/aR[0].imageWidth;var aL=aR[0].val;var aT=aG(aP/aL);var aN=[];aN.push({base:1,gap:Math.abs(aT*aL-aP)});aN.push({base:2,gap:Math.abs(aT*2*aL-aP)});aN.push({base:5,gap:Math.abs(aT*5*aL-aP)});aN.push({base:10,gap:Math.abs(aT*10*aL-aP)});var aI=function(aW,aV){return aW.gap-aV.gap};aN.sort(aI);aQ=aT*aN[0].base}return aQ};var aE=function(aK,aM,aJ,aR){var aO=function(aX,aW){return ap+"-defID-"+aJ+aW};var aL=function(aX,aW){return"url(#"+aO(aX,aW)+")"};var aV=function(aX){var aW=aC[aX.valueAxis];return aW(aX.val)};var aI=function(aW){return aV(aW)+2};var aS=function(a6){var aW=a6.val;if(a6.val<0){aW=-aW}var aZ={number:0,interval:aR};aZ.number=aW*aP;var a5=Math.floor(aZ.number);var aY=aZ.number-a5;var aX=aV(a6);var a1=aR;var a4=a1*aY;var a3;if(a5==0){a3=0}else{if(aX>a4){a3=(aX-a4)/a5}else{a3=0}}var a2;if(a5<=1){a2=aX/2}else{if(aX>a1){a2=(aX-a4)/(a5)}else{a2=aX/(a5+1)}}var a0;if(a5===0){a0=0}else{if(a5===1){a0=aX-a4}else{if(aX>a1){a0=(aX-a1)/(a5-1)}else{a0=aX/(a5+1)}}}if(a3>=a1){aZ.interval=a3}else{if(a2<a1&&(a4>(a1-a2))){aZ.interval=a2}else{aZ.interval=a0}}return aZ};var aN=[];var aU=function(ba,a0){var a3=function(bc,bb){return ap+"-pathID-"+aJ+a0+bb};var a7=function(bc,bb){return"url(#"+a3(bc,bb)+")"};var a5=function(bc,bb){return"L-"+a3(bc,bb)};var a8=function(bc,bb){return"url(#"+a5(bc,bb)+")"};var aX=d3.select(this);var a1=aV(ba);var a6=aR;var aW=aS(ba);var a9=Math.floor(aW.number);var a2=aW.number-a9;aX.selectAll("*").remove();var aZ=0;for(;aZ<a9;aZ++){aX.append("image").attr("xlink:xlink:href",J(a0)).attr("width",a6).attr("height",a6).attr("x",aZ*aW.interval)}if(a2){var a4=aZ*aW.interval;var aY=aX.append("g").attr("transform","translate("+a4+",0)");aY.append("defs").append("pattern").attr("id",a5).attr("patternUnits","userSpaceOnUse").attr("width",a6+2).attr("height",a6+2).append("image").attr("xlink:xlink:href",J(a0)).attr("width",a6).attr("height",a6);aY.append("rect").attr("width",a6*a2).attr("height",a6).attr("fill",a8)}};aK.selectAll("defs").remove();var aQ=aK.append("defs").append("pattern").attr("id",aO).attr("patternUnits","userSpaceOnUse").attr("width",aI).attr("height",aR+2);var aP=1;aQ.each(function(aX){var aW=aC[aX.valueAxis];aP=aH(Z,aW,aR)});aQ.each(aU);aM.attr("fill",aL);var aT=false;if(aT){aM.attr("stroke","#555555");aM.attr("stroke-width","1")}};aw=b();if(aC.length===0){return}M.startToInit();aF.each(function(){w=Z[0].length;ah=Z.length;C=8*(am.rangeBand())/(9*w+7);var aI=(U=d3.select(this));if(D===null){D=d3.select(this).append("rect").attr("visibility","hidden").attr("width",o).attr("height",am.rangeBand()-C/2).attr("fill",R.styleManager.queryDefault("v-hoverline").fill).attr("class","v-hoverline")}else{D.attr("width",o).attr("height",am.rangeBand()-C/2).attr("visibility","hidden")}if(ak===null){ak=aI.append("defs").append("clipPath").append("rect").attr("width",o).attr("height",t)}else{ak.attr("width",o).attr("height",t)}if(ad===null){ad=aI.append("defs")}else{if(q||au||A||!av){ad.remove();ad=aI.append("defs")}}var aL=Math.log(C)/Math.log(2);if(aL<0){av=false}var aJ;var aK=aI.selectAll("g.v-datashapesgroup");if(!a.isExist(aK[0][0])){aK=aI.append("g").attr("class","v-datashapesgroup")}var aM=aK.selectAll("g.v-bar").data(Z),aN=Z.length-1;aM.enter().append("g");aM.attr("class","v-bar").each(function(aY,aP){var aX,aR=[];var aT=d3.select(this).selectAll("g.v-datashape").data(aY);aT.enter().append("g").attr("class","v-datashape").append("rect").attr("class","v-datapoint");aT.exit().remove();aT.attr("transform",function(a2,a1){var a0;aJ=aC[a2.valueAxis];if(a2.val<0){a0=aJ(a2.val)}else{a0=aJ(0)}var a3=am(aP)+C*(w-a1-1);a3=a3+C/8*(w-a1-1)+C/2;aR.push(a3);return"translate("+a0+","+a3+")"});var aU=aT.select("rect.v-datapoint"),aW=Z[0].length-1;aU.attr("fill",function(a0,a1){a0.fillColor=I[a1%I.length];var a2={drawingEffect:X,fillColor:a0.fillColor,direction:"vertical"};return Q.register(a2)}).attr("shape-rendering","crispEdges").attr("fill-opacity",1);var aS=function(){aU.attr("width",function(a0){aJ=aC[a0.valueAxis];if(a0.val!==" "&&a0.val!==0){var a1=Math.abs(aJ(a0.val)-aJ(0));return a1}else{return 0}}).attr("x",0).attr("height",C).attr("y",0);if(av){aU.attr("clip-path",function(a1,a0){var a2="roundCorner-clip-"+a0+aP+ap;ad.append("clipPath").attr("id",a2).append("rect").attr("rx",aL).attr("ry",aL).attr("width",function(){aJ=aC[a1.valueAxis];if(a1.val!==" "&&a1.val!==0){var a3=Math.abs(aJ(a1.val)-aJ(0));return(a3+aL)}else{return 0}}).attr("height",C).attr("y",0).attr("x",function(){aJ=aC[a1.valueAxis];if(a1.val<0){return 0}else{return 0-aL}});return"url(#"+a2+")"})}};var aQ=function(){aU.attr("y",function(a2,a1){var a3=am(aP)-aR[a1]+C*(w-a1-1);a3=a3+C/8*(w-a1-1)+C/2;return a3}).attr("x",function(a1){aJ=aC[a1.valueAxis];if(a1.val>0){return 0}else{return aJ(0)-aJ(a1.val)}}).attr("height",C).attr("width",0).attr("class",function(a2,a1){return"v-datapoint series-"+a1});if(av){aU.attr("clip-path",function(a4,a2){var a3=this.getAttribute("width"),a5=this.getAttribute("height"),a1=this.getAttribute("x"),a7=this.getAttribute("y");var a6="roundCorner-clip-"+a2+aP+ap;ad.append("clipPath").attr("id",a6).append("rect").attr("rx",aL).attr("ry",aL).attr("width",a3+aL).attr("height",C).attr("y",0).attr("x",a1).transition().delay(function(a9,a8){return(a8+w*aP)*a0}).attr("x",function(){aJ=aC[a4.valueAxis];if(a4.val<0){return 0}else{return 0-aL}}).attr("width",function(){aJ=aC[a4.valueAxis];if(a4.val!==" "&&a4.val!==0){var a8=Math.abs(aJ(a4.val)-aJ(0));return a8+aL}else{return 0}});return"url(#"+a6+")"})}var a0=P/(w*ah);aX=aU.transition();aX.delay(function(a2,a1){return(a1+w*aP)*a0}).attr("x",0).attr("y",0).attr("width",function(a1){aJ=aC[a1.valueAxis];if(a1.val!==" "&&a1.val!==0){var a2=Math.abs(aJ(a1.val)-aJ(0));return a2}else{return 0}}).each("end",function(a2,a1){if(a1===aW&&aP===aN){B()}})};if(K()){if(q){aQ()}else{if(au){if(!ar()){if(av){aU.attr("clip-path",function(a3,a1){var a2=parseFloat(this.getAttribute("width")),a4=this.getAttribute("height"),a0=this.getAttribute("x"),a6=this.getAttribute("y");var a5="roundCorner-clip-"+a1+aP+ap;ad.append("clipPath").attr("id",a5).append("rect").attr("rx",aL).attr("ry",aL).attr("width",a2+aL).attr("height",a4).attr("y",a6).attr("x",a0).transition().duration(P).attr("x",function(){if(a3.val<0){return 0}else{return 0-aL}}).attr("width",function(){aJ=aC[a3.valueAxis];if(a3.val!==" "&&a3.val!==0){var a7=Math.abs(aJ(a3.val)-aJ(0));return a7+aL}else{return 0}}).attr("height",C).attr("y",0);return"url(#"+a5+")"})}aX=aU.transition();aX.duration(P).attr("x",0).attr("y",0).attr("width",function(a1,a0){aJ=aC[a1.valueAxis];if(a1.val!==" "&&a1.val!==0){var a2=Math.abs(aJ(a1.val)-aJ(0));return a2}else{return 0}}).attr("height",C).each("end",function(a1,a0){if(a0===aW&&aP===aN){B()}})}else{var aZ=500;aS();var aV=aM.attr("opacity",0.3);aV=aV.transition();aV=aV.delay(0).duration(aZ).attr("opacity",1).each("end",B)}}else{if(A){if(!ar()){if(av){aU.attr("clip-path",function(a3,a1){var a2=parseFloat(this.getAttribute("width")),a4=this.getAttribute("height"),a0=this.getAttribute("x"),a6=this.getAttribute("y");var a5="roundCorner-clip-"+a1+aP+ap;ad.append("clipPath").attr("id",a5).append("rect").attr("rx",aL).attr("ry",aL).attr("x",-aL).attr("width",a2+aL).attr("height",a4).attr("y",a6).transition().duration(P).attr("width",function(){aJ=aC[a3.valueAxis];if(a3.val!==" "&&a3.val!==0){var a7=Math.abs(aJ(a3.val)-aJ(0));return(a7+aL)}else{return 0}}).attr("height",C).attr("y",0);return"url(#"+a5+")"})}aX=aU.transition();aX.duration(P).attr("width",function(a0){aJ=aC[a0.valueAxis];if(a0.val!==" "&&a0.val!==0){var a1=Math.abs(aJ(a0.val)-aJ(0));return a1}else{return 0}}).attr("x",0).attr("y",0).each("end",function(a1,a0){if(a0===aW&&aP===aN){B()}})}else{var aO=500;aS();var aV=aM.attr("opacity",0.3);aV=aV.transition();aV=aV.delay(0).duration(aO).attr("opacity",1).each("end",B)}}else{if(av){aU.attr("clip-path",function(a1,a0){var a2="roundCorner-clip-"+a0+aP+ap;ad.append("clipPath").attr("id",a2).append("rect").attr("rx",aL).attr("ry",aL).attr("width",function(){aJ=aC[a1.valueAxis];if(a1.val!==" "&&a1.val!==0){var a3=Math.abs(aJ(a1.val)-aJ(0));return(a3+aL)}else{return 0}}).attr("height",C).attr("y",0).attr("x",function(){aJ=aC[a1.valueAxis];if(a1.val<0){return 0}else{return 0-aL}});return"url(#"+a2+")";if(a0===aW&&aP===aN){B()}})}}}}}else{aS()}if(ar()){aE(aT,aU,aP,C)}});aM.exit().remove()});if(!K()){B()}au=false,q=false,A=false;az=true;return ax}function B(){M.initialized()}var ar=function(){return(p.imageFill&&!F)};ax.afterUIComponentAppear=function(){M.initialized()};ax.imageInfo=function(){var aE={imageMode:p.imageFill,imagePalette:p.imagePalette,radio:1};return aE};ax.dataLabel=function(aE){if(!arguments.length){return aE}x=aE};ax.hoverOnPoint=function(aE){var aH=aE.x,aF=aE.y;var aI=-1;while(aI<Z.length){if(Math.abs(aF-am.rangeBand()*aI-0.5*am.rangeBand())<=0.5*am.rangeBand()){break}aI++}if(aI>(Z.length-1)||aI<0){D.attr("visibility","hidden");return}D.attr("y",am.rangeBand()*aI+C/4).attr("visibility","visible");if(aI!==al){if(N){al=aI;var aG=U[0][0].getTransformToElement(U[0][0].ownerSVGElement);var aK=aG.f;var aJ=aw.generateTooltipData(ay,Z,ah-1-aI,I,aA);aJ.point={x:d3.event.layerX,y:am.rangeBand()*aI+0.5*am.rangeBand()+aK};aJ.plotArea={x:aG.e,y:aG.f,width:o,height:t};M.showTooltip(b.formatTooltipData(aJ))}}};ax.parent=function(){return U};ax.highlight=function(aF){if(aF instanceof Array){for(var aG=0,aE=aF.length;aG<aE;aG++){aF[aG].setAttribute("fill-opacity",1)}}else{aF.setAttribute("fill-opacity",1)}};ax.unhighlight=function(aF){if(aF instanceof Array){for(var aG=0,aE=aF.length;aG<aE;aG++){aF[aG].setAttribute("fill-opacity",0.4)}}else{aF.setAttribute("fill-opacity",0.4)}};ax.clear=function(aE){if(aE==null){U.selectAll(".v-datapoint").attr("fill-opacity",1)}else{U.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};ax.blurOut=function(){al=null;D.attr("visibility","hidden");if(N){M.hideTooltip()}};ax.width=function(aE){if(!arguments.length){return o}au=(o===aE)&&!au?false:true;o=aE;if(a.isExist(o)&&a.isExist(t)&&a.isExist(Z)){W()}return ax};ax.height=function(aE){if(!arguments.length){return t}au=(t===aE)&&!au?false:true;t=aE;if(a.isExist(o)&&a.isExist(t)&&a.isExist(Z)){W()}return ax};ax.data=function(aF){if(!arguments.length){return ay}ay=aF;var aG=i(ay);ao=aG.MG1;an=aG.MG2;aj=aG.MG1Number;ai=aG.MG2Number||0;v=aG.MNDOnColor&&aG.MNDInner;if(a.isExist(aG.color)){r=true;F=true}else{r=false;if(a.isExist(an)){F=true}else{F=false}}var aE=u(ao,an,aG.color);if(Z.length!==aE.length||aE[0].length!==Z[0].length){q=true}else{A=true}Z=aE;if(a.isExist(o)&&a.isExist(t)){W()}ac();return ax};ax.properties=function(aE){if(!arguments.length){return p}h.extend(true,p,aE);ac();return ax};var W=function(){var aF=[];aC=[];for(var aE=0;aE<Z.length;aE++){aF.push(aE)}am.domain(aF).rangeBands([t,0]);if(s===0&&E===0){L.domain([0,1]).range([0,o])}else{L.domain([s,E]).range([0,o])}if(a.isExist(an)||F){if(V===0&&O===0){aq.domain(L.domain()).range(L.range())}else{aq.domain([O,V]).range([0,o]);if(s===0&&E===0){L.domain(aq.domain()).range(aq.range())}}if(!ag&&!S){n.perfectDual(L,aq)}else{if(!ag&&S){n.perfect(aq);n.getRoughTickNum(L)}else{if(ag&&!S){n.perfect(L);n.getRoughTickNum(aq)}else{n.getRoughTickNum(L);n.getRoughTickNum(aq)}}}}else{if(!S){n.perfect(L)}else{n.getRoughTickNum(L)}aq.range([0,0])}aC.push(L);aC.push(aq)};ax.categoryScale=function(aE){if(!arguments.length){return am}am=aE;return ax};ax.primaryScale=function(aE){if(!arguments.length){return L}L=aE;aC[0]=L;return ax};ax.secondScale=function(aE){if(!arguments.length){return aq}aq=aE;aC[1]=aq;return ax};ax.primaryAxisColor=function(){if(F&&!r){return I[0]}else{return undefined}};ax.secondAxisColor=function(){if(!r){return I[Z[0].length-1]}else{return undefined}};ax.primaryDataRange=function(aE){if(!arguments.length){return{min:s,max:E}}if(aE!==null){E=aE.max;s=aE.min;if(aE.from==="axis"){S=true}if(a.isExist(o)&&a.isExist(t)){W()}}return ax};ax.secondDataRange=function(aE){if(!arguments.length){return{min:O,max:V}}if(aE!==null){V=aE.max;O=aE.min;if(aE.from==="axis"){ag=true}if(a.isExist(o)&&a.isExist(t)){W()}}return ax};ax.getPreferredSize=function(){};ax.dispatch=function(aE){if(!arguments.length){return M}M=aE;return this};ax.colorPalette=function(aE){if(!arguments.length){return I}I=aE;return this};ax.shapePalette=function(aE){if(!arguments.length){return aA}aA=aE;return this};ax.primaryAxisTitle=function(aF){if(!arguments.length){var aI=ay.getMeasureValuesGroupDataByIdx(0),aH=[];if(aI){for(var aG=0,aE=aI.values.length;aG<aE;aG++){if(aI.values[aG].col!==null&&aI.values[aG].col!==undefined){aH.push(aI.values[aG].col)}else{aH.push(e.get("IDS_ISNOVALUE"))}}}return aH.join("/")}return this};ax.secondAxisTitle=function(aF){if(!arguments.length){var aI=ay.getMeasureValuesGroupDataByIdx(1),aH=[];if(aI){for(var aG=0,aE=aI.values.length;aG<aE;aG++){if(aI.values[aG].col!==null&&aI.values[aG].col!==undefined){aH.push(aI.values[aG].col)}else{aH.push(e.get("IDS_ISNOVALUE"))}}}return aH.join("/")}return this};var u=function(aI,aH,aO){E=s=0;V=O=0;var aM=[];var aF=0;if(aI[0]&&aI[0].length){aF=aI[0].length}else{if(aH[0]&&aH[0].length){aF=aH[0].length}}var aR=[];var aT=0,aJ=0;var aQ=0,aP=0;for(aQ=0;aQ<aI.length;aQ++){if(r){for(aP=0;aP<aI[aQ].length;aP++){if(aO[aP]===0){aT=aI[aQ][aP].val;aI[aQ][aP].valueAxis=0;if(E<aT){E=aT}if(s>aT){s=aT}aD++}else{aJ=aI[aQ][aP].val;aI[aQ][aP].valueAxis=1;if(V<aJ){V=aJ}if(O>aJ){O=aJ}}}}else{aT=d3.max(aI[aQ],function(aU){return aU.val});aJ=d3.min(aI[aQ],function(aU){return aU.val});if(E<aT){E=aT}if(s>aJ){s=aJ}}aR.push(aI[aQ])}if(aH!==undefined){for(aQ=0;aQ<aH.length;aQ++){aT=d3.max(aH[aQ],function(aU){return aU.val});aJ=d3.min(aH[aQ],function(aU){return aU.val});if(V<aT){V=aT}if(O>aJ){O=aJ}aR.push(aH[aQ])}}for(aP=0;aP<aF;aP++){var aL=[];for(aQ=0;aQ<aR.length;aQ++){if(!r){if(aQ<aI.length){aR[aQ][aP].valueAxis=0}else{aR[aQ][aP].valueAxis=1}}if(j.isNoValue(aR[aQ][aP].val)){aR[aQ][aP].val=" "}aL.push(aR[aQ][aP])}if(v){var aS=[],aG=0,aE=0;var aK=0;for(var aN=0;aN<aI.length;aN++){aS.push(aL[aN]);aG++;if(aG===aj&&aH!==undefined){aE=0;for(;aK<aH.length;aK++){if(aE>=ai){aG=0;break}aS.push(aL[aI.length+aK]);aE++}}}aM.push(aS)}else{aM.push(aL)}}return aM};p=G.props(null);return ax};return f});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.bar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.bar",name:"bar",base:"sap.viz.modules.xy.bar.base",properties:{imageFill:{name:"imageFill",supportedValueType:"Boolean",defaultValue:false,isExported:false,description:"Set enabled/disabled image fill."},imagePalette:{name:"imagePalette",supportedValueType:"StringArray",defaultValue:["http://www.sap.com/global/ui/images/global/sap-logo.png"],isExported:false,description:"images to fill the bar",}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_bar",name:"IDS_MULTIBARCHART",base:"riv/base/multiple/xy",modules:{root:{modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:"bar",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{configure:{properties:{direction:"horizontal"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{orientation:"horizontal",outsidePosition:"right"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{title:{visible:false},type:"value",position:"bottom"},propertiesOverride:{title:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false}},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},plot:{id:"sap.viz.modules.bar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.modules.verticalbar",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,f,h,b,d,l,c,i,g,e,j){var k=function(C,O){var av;var an,am,ax,V=[],A=0,p=0,P=false,ab=false,R=0,J=0,K=null;var m=undefined,q=undefined,Z=Math.floor(Math.random()*10000),ad=0,ac=0,B=false,E=[],D,aA,s=false,ai=0,ah=0,az=["squareWithRadius"],n,H=new f("showTooltip","hideTooltip","initialized","startToInit");var N=O.effectManager;var aB=[],G=d3.scale.ordinal(),al=d3.scale.linear(),aq=d3.scale.linear();var z,L,ap=[],I=true,ak=null;var aC=0,t,af,U,ae=[];var u=true,aa=true,Q=true,at=false,W=true,M=1000,au=false,ay=false;var aj,Y,ao=c.guid();var T="normal";var ar=false,o=false,v=false;function F(){var x=false;if(!ay){x=u}else{if(o||v){x=aa}else{if(ar){x=Q}}}return x}aw.hoverOnPoint=function(x){var aF=x.x,aD=x.y;var aG=-1;while(aG<V.length){if(Math.abs(aF-G.rangeBand()*aG-0.5*G.rangeBand())<=0.5*G.rangeBand()){break}aG++}if(aG>(V.length-1)||aG<0){z.attr("visibility","hidden");return}z.attr("x",G.rangeBand()*aG+U/4).attr("visibility","visible");if(ak!==aG){if(I){ak=aG;var aE=K[0][0].getTransformToElement(K[0][0].ownerSVGElement);var aI=aE.e;var aH=av.generateTooltipData(ax,V,aG,E,az);aH.point={x:G.rangeBand()*aG+0.5*G.rangeBand()+aI,y:d3.event.layerY};aH.plotArea={x:aE.e,y:aE.f,width:m,height:q};H.showTooltip(b.formatTooltipData(aH))}}};aw.parent=function(){return K};aw.highlight=function(aD){if(aD instanceof Array){for(var aE=0,x=aD.length;aE<x;aE++){aD[aE].setAttribute("fill-opacity",1)}}else{aD.setAttribute("fill-opacity",1)}};aw.unhighlight=function(aD){if(aD instanceof Array){for(var aE=0,x=aD.length;aE<x;aE++){aD[aE].setAttribute("fill-opacity",0.4)}}else{aD.setAttribute("fill-opacity",0.4)}};aw.clear=function(x){if(x==null){K.selectAll(".v-datapoint").attr("fill-opacity",1)}else{K.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};aw.blurOut=function(){z.attr("visibility","hidden");ak=null;if(I){H.hideTooltip()}};var X=function(){at=n.isRoundCorner;u=n.animation.dataLoading;aa=n.animation.dataUpdating;Q=n.animation.resizing;I=n.tooltip.enabled;T=n.drawingEffect;if(B&&!hasMNDonCategoryAxis){D=n.primaryValuesColorPalette;aA=n.secondaryValuesColorPalette}else{aA=n.colorPalette;D=n.colorPalette}var aG=0;if(!hasMNDonCategoryAxis){aC=an.length;aG=V[0].length}else{aG=V.length*V[0].length}E=[];if(s){var aD=0,x=0,aE=0;for(var aF=0;aF<aC;aF++){E.push(D[aF%D.length]);aD++;if(aD==ai){x=0;for(;aE<=(aG-aC);aE++){if(x>=ah){aD=0;break}E.push(aA[aE%aA.length]);x++}}}}else{for(var aF=0;aF<aG;aF++){if(aF<aC){E.push(D[aF%D.length])}else{if(B&&!hasMNDonCategoryAxis){E.push(aA[(aF-aC)%aA.length])}}}}};function aw(x){j.drawBound(x,m,q);av=b();if(aB.length==0){return}H.startToInit();x.each(function(){t=V[0].length;af=V.length;U=8*(G.rangeBand())/(9*t+7);var aD=K=d3.select(this);if(z==null){z=aD.append("rect").attr("width",G.rangeBand()-U/2).attr("height",q).attr("visibility","hidden").attr("fill",O.styleManager.queryDefault("v-hoverline").fill).attr("class","v-hoverline")}else{z.attr("width",G.rangeBand()-U/2).attr("height",q).attr("visibility","hidden")}if(aj==null){aj=aD.append("defs").append("clipPath").append("rect").attr("width",m).attr("height",q)}else{aj.attr("width",m).attr("height",q)}if(Y==null){Y=aD.append("defs")}else{if(o||ar||v||!at){Y.remove();Y=aD.append("defs")}}var aH=Math.log(U)/Math.log(2);if(aH<0){at=false}var aE;var aG=aD.selectAll("g.v-datashapesgroup");if(!a.isExist(aG[0][0])){aG=aD.append("g").attr("class","v-datashapesgroup")}var aI=aG.selectAll("g.v-column").data(V),aJ=V.length-1,aF=V[0].length-1;aI.enter().append("g");aI.attr("class","v-column").each(function(aK,aO){var aR=[],aQ=[];var aM=d3.select(this).selectAll("g.v-datashape").data(aK);aM.enter().append("g").attr("class","v-datashape").append("rect").attr("class","v-datapoint");aM.exit().remove();if(au){aM.each(function(){aQ.push(this.getTransformToElement(this.parentNode).f)})}aM.attr("transform",function(aU,aT){var aV;aE=aB[aU.valueAxis];if(aU.val>=0){aV=aE(aU.val)}else{aV=aE(0)}var aS=G(aO)+U*aT;aS=aS+U/8*(aT)+U/2;aR.push(aS);return"translate("+aS+","+aV+")"});var aP=aM.select("rect.v-datapoint");aP.attr("fill",function(aT,aS){aT.fillColor=E[aS%E.length];var aU={drawingEffect:T,fillColor:aT.fillColor,direction:"horizontal"};return N.register(aU)}).attr("shape-rendering","crispEdges").attr("fill-opacity",1);if(F()){if(o){aP.attr("width",U).attr("height",0).attr("x",function(aU,aT){var aS=G(aO)-aR[aT]+U*aT;aS=aS+U/8*(aT)+U/2;return aS}).attr("y",function(aT){aE=aB[aT.valueAxis];if(aT.val!==" "&&aT.val!=0&&aT.val>0){var aS=Math.abs(aE(aT.val)-aE(0));return aS}else{return 0}});if(at){aP.attr("clip-path",function(aV,aT){var aU=this.getAttribute("width"),aW=this.getAttribute("height"),aS=this.getAttribute("x"),aY=this.getAttribute("y");var aX="roundCorner-clip-"+aT+aO+ao;Y.append("clipPath").attr("id",aX).append("rect").attr("rx",aH).attr("ry",aH).attr("x",0).attr("width",U).attr("y",aW).transition().delay(function(a0,aZ){return(aZ+t*aO)*aL}).attr("height",function(){aE=aB[aV.valueAxis];if(aV.val!==" "&&aV.val!=0){var aZ=Math.abs(aE(aV.val)-aE(0));return(aZ+aH)}else{return 0}}).attr("y",function(){if(aV.val>0){return 0}else{return 0-aH}});return"url(#"+aX+")"})}var aL=M/(t*af);aP.transition().delay(function(aT,aS){return(aS+t*aO)*aL}).attr("height",function(aU,aT){aE=aB[aU.valueAxis];if(aU.val!==" "&&aU.val!=0){var aS=Math.abs(aE(aU.val)-aE(0));return aS}else{return 0}}).attr("y",0).attr("x",0).each("end",function(aT,aS){if(aS===aF&&aO===aJ){w()}})}else{if(ar){if(at){aP.attr("clip-path",function(aV,aT){var aU=this.getAttribute("width"),aW=this.getAttribute("height"),aS=this.getAttribute("x"),aY=this.getAttribute("y");var aX="roundCorner-clip-"+aT+aO+ao;Y.append("clipPath").attr("id",aX).append("rect").attr("rx",aH).attr("ry",aH).attr("width",aU).attr("x",aS).attr("height",aW).attr("y",function(){if(aV.val>0){return 0}else{return 0-aH}}).transition().duration(M).attr("width",U).attr("height",function(){aE=aB[aV.valueAxis];if(aV.val!==" "&&aV.val!=0){var aZ=Math.abs(aE(aV.val)-aE(0));return(aZ+aH)}else{return 0}});return"url(#"+aX+")"})}aP.transition().duration(M).attr("width",U).attr("height",function(aT){aE=aB[aT.valueAxis];if(aT.val!==" "&&aT.val!=0){var aS=Math.abs(aE(aT.val)-aE(0));return aS}else{return 0}}).attr("y",0).attr("x",0).each("end",function(aT,aS){if(aS===aF&&aO===aJ){w()}})}else{if(v){var aN=[];aP.attr("y",function(aT,aS){var aU=aQ[aS]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f;aN.push(aU);return aU});if(at){aP.attr("clip-path",function(aV,aT){var aU=this.getAttribute("width"),aW=this.getAttribute("height"),aS=this.getAttribute("x"),aY=this.getAttribute("y");var aX="roundCorner-clip-"+aT+aO+ao;Y.append("clipPath").attr("id",aX).append("rect").attr("rx",aH).attr("ry",aH).attr("x",aS).attr("width",U).attr("height",function(){aE=aB[aV.valueAxis];var aZ=Math.abs(aE(aV.val)-aE(0));if(parseFloat(aW)>aZ){return aW}else{return aZ}}).attr("y",function(){return aN[aT]}).transition().duration(M).attr("height",function(){aE=aB[aV.valueAxis];if(aV.val!==" "&&aV.val!=0){var aZ=Math.abs(aE(aV.val)-aE(0));return(aZ+aH)}else{return 0}}).attr("y",function(){aE=aB[aV.valueAxis];if(aV.val>=0){return 0}else{return 0-aH}});return"url(#"+aX+")"})}aP.transition().duration(M).attr("height",function(aU,aT){aE=aB[aU.valueAxis];if(aU.val!==" "&&aU.val!=0){var aS=Math.abs(aE(aU.val)-aE(0));aU.height=aS;return aS}else{return 0}}).attr("y",0).attr("x",0).each("end",function(aT,aS){if(aS===aF&&aO===aJ){w()}})}else{if(at){aP.attr("clip-path",function(aT,aS){var aU="roundCorner-clip-"+aS+aO+ao;Y.append("clipPath").attr("id",aU).append("rect").attr("rx",aH).attr("ry",aH).attr("width",U).attr("height",function(){aE=aB[aT.valueAxis];if(aT.val!==" "&&aT.val!=0){var aV=Math.abs(aE(aT.val)-aE(0));return(aV+aH)}else{return 0}}).attr("y",function(){aE=aB[aT.valueAxis];if(aT.val>=0){return 0}else{return 0-aH}}).attr("x",0);return"url(#"+aU+")";if(aS===aF&&aO===aJ){w()}})}}}}}else{aP.attr("width",U).attr("height",function(aT){aE=aB[aT.valueAxis];if(aT.val!==" "&&aT.val!=0){var aS=Math.abs(aE(aT.val)-aE(0));aT.height=aS;return aS}else{return 0}}).attr("y",0).attr("x",0);if(at){aP.attr("clip-path",function(aT,aS){var aU="roundCorner-clip-"+aS+aO+ao;Y.append("clipPath").attr("id",aU).append("rect").attr("rx",aH).attr("ry",aH).attr("width",U).attr("height",function(){aE=aB[aT.valueAxis];if(aT.val!==" "&&aT.val!=0){var aV=Math.abs(aE(aT.val)-aE(0));return(aV+aH)}else{return 0}}).attr("y",function(){aE=aB[aT.valueAxis];if(aT.val>=0){return 0}else{return 0-aH}}).attr("x",0);return"url(#"+aU+")"})}}});aI.exit().remove()});if(!F()){w()}ar=false,v=false,o=false;ay=true;return aw}function w(){H.initialized();au=true}aw.afterUIComponentAppear=function(){H.initialized()};function ag(aE,x){var aD=d3.interpolate(q,(x>=aC)?aq(aE.val):al(aE.val));return function(aF){return aD(aF)}}aw.width=function(x){if(!arguments.length){return m}ar=(m===x)&&!ar?false:true;m=x;if(a.isExist(m)&&a.isExist(q)&&a.isExist(V)){S()}return aw};aw.height=function(x){if(!arguments.length){return q}ar=(q===x)&&!ar?false:true;q=x;if(a.isExist(m)&&a.isExist(q)&&a.isExist(V)){S()}return aw};aw.data=function(aD){if(!arguments.length){return ax}ax=aD;var aE=h(ax);an=aE.MG1;am=aE.MG2;ai=aE.MG1Number;ah=aE.MG2Number||0;s=aE.MNDOnColor&&aE.MNDInner;if(a.isExist(aE.color)){hasMNDonCategoryAxis=true;B=true}else{hasMNDonCategoryAxis=false;if(a.isExist(am)){B=true}else{B=false}}var x=r(an,am,aE.color);if(V.length!==x.length||x[0].length!==V[0].length){o=true}else{v=true}V=x;if(a.isExist(m)&&a.isExist(q)){S()}X();return aw};aw.properties=function(x){if(!arguments.length){return n}g.extend(true,n,x);X();return aw};var S=function(){var aD=[];for(var x=0;x<V.length;x++){aD.push(x)}aB=[];G.domain(aD).rangeBands([0,m]);if(p===0&&A===0){al.domain([0,1]).range([q,0])}else{al.domain([p,A]).range([q,0])}if(a.isExist(am)||B){if(R===0&&J===0){aq.domain(al.domain()).range(al.range())}else{aq.domain([J,R]).range([q,0]);if(p===0&&A===0){al.domain(aq.domain()).range(aq.range())}}if(!ab&&!P){l.perfectDual(al,aq)}else{if(!ab&&P){l.getRoughTickNum(al);l.perfect(aq)}else{if(ab&&!P){l.perfect(al);l.getRoughTickNum(aq)}else{l.getRoughTickNum(al);l.getRoughTickNum(aq)}}}}else{if(!P){l.perfect(al)}else{l.getRoughTickNum(al)}aq.range([0,0])}aB.push(al);aB.push(aq)};aw.categoryScale=function(x){if(!arguments.length){return G}G=x;return aw};aw.primaryScale=function(x){if(!arguments.length){return al}al=x;aB[0]=al;return aw};aw.secondScale=function(x){if(!arguments.length){return aq}aq=x;aB[1]=aq;return aw};aw.primaryAxisColor=function(){if(B&&!hasMNDonCategoryAxis){return E[0]}else{return undefined}};aw.secondAxisColor=function(){if(!hasMNDonCategoryAxis){return E[V[0].length-1]}else{return undefined}};aw.primaryDataRange=function(x){if(!arguments.length){return{min:p,max:A}}if(x!==null){A=x.max;p=x.min;if(x.from==="axis"){P=true}if(a.isExist(m)&&a.isExist(q)){S()}}return aw};aw.secondDataRange=function(x){if(!arguments.length){return{min:J,max:R}}if(x!==null){R=x.max;J=x.min;if(x.from==="axis"){ab=true}if(a.isExist(m)&&a.isExist(q)){S()}}return aw};aw.getPreferredSize=function(){};aw.x=function(x){if(!arguments.length){return ad}ad=x;return this};aw.y=function(x){if(!arguments.length){return ac}ac=x;return this};aw.dispatch=function(x){if(!arguments.length){return H}H=x;return this};aw.dataLabel=function(x){};aw.eventTarget=function(x){if(x.type=="mousemove"){return aw.hoverOnPoint}else{if(x.type=="mouseout"){return blurOut}}};aw.colorPalette=function(x){if(!arguments.length){return E}E=x;return this};aw.shapePalette=function(x){if(!arguments.length){return az}az=x;return this};aw.primaryAxisTitle=function(aD){if(!arguments.length){var aG=ax.getMeasureValuesGroupDataByIdx(0),aF=[];if(aG){for(var aE=0,x=aG.values.length;aE<x;aE++){if(aG.values[aE].col!==null&&aG.values[aE].col!==undefined){aF.push(aG.values[aE].col)}else{aF.push(e.get("IDS_ISNOVALUE"))}}}return aF.join("/")}return this};aw.secondAxisTitle=function(aD){if(!arguments.length){var aG=ax.getMeasureValuesGroupDataByIdx(1),aF=[];if(aG){for(var aE=0,x=aG.values.length;aE<x;aE++){if(aG.values[aE].col!==null&&aG.values[aE].col!==undefined){aF.push(aG.values[aE].col)}else{aF.push(e.get("IDS_ISNOVALUE"))}}}return aF.join("/")}return this};var r=function(aH,aF,aM){A=p=0;R=J=0;var aK=[];var aD=0;if(aH[0]&&aH[0].length){aD=aH[0].length}else{if(aF[0]&&aF[0].length){aD=aF[0].length}}var aP=[];var aR=aG=0;for(var aO=0;aO<aH.length;aO++){if(hasMNDonCategoryAxis){for(var aN=0;aN<aH[aO].length;aN++){if(aM[aN]==0){aR=aH[aO][aN].val;aH[aO][aN].valueAxis=0;if(A<aR){A=aR}if(p>aR){p=aR}aC++}else{aG=aH[aO][aN].val;aH[aO][aN].valueAxis=1;if(R<aG){R=aG}if(J>aG){J=aG}}}}else{aR=d3.max(aH[aO],function(aS){return aS.val});aG=d3.min(aH[aO],function(aS){return aS.val});if(A<aR){A=aR}if(p>aG){p=aG}}aP.push(aH[aO])}if(aF!=undefined){for(aO=0;aO<aF.length;aO++){var aR=d3.max(aF[aO],function(aS){return aS.val});var aG=d3.min(aF[aO],function(aS){return aS.val});if(R<aR){R=aR}if(J>aG){J=aG}aP.push(aF[aO])}}for(var aN=0;aN<aD;aN++){var aJ=[];for(aO=0;aO<aP.length;aO++){if(!hasMNDonCategoryAxis){if(aO<aH.length){aP[aO][aN].valueAxis=0}else{aP[aO][aN].valueAxis=1}}if(i.isNoValue(aP[aO][aN].val)){aP[aO][aN].val=" "}aJ.push(aP[aO][aN])}if(s){var aQ=[],aE=0,x=0;var aI=0;for(var aL=0;aL<aH.length;aL++){aQ.push(aJ[aL]);aE++;if(aE==ai&&aF!=undefined){x=0;for(;aI<aF.length;aI++){if(x>=ah){aE=0;break}aQ.push(aJ[aH.length+aI]);x++}}}aK.push(aQ)}else{aK.push(aJ)}}return aK};n=C.props(null);return aw};return k});sap.riv.module({qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.verticalbar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.verticalbar",name:"vertical bar",base:"sap.viz.modules.xy.bar.base",fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiBarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/multi_column",name:"IDS_MULTIVERTICALBARCHART",base:"viz/multi_bar",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"verticalbar",orientation:"left"}}},main:{modules:{plot:{modules:{background:{configure:{properties:{direction:"vertical"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{orientation:"vertical",outsidePosition:"up"}}},xAxis:{data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",properties:{type:"category",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{data:null,configure:{description:"Settings for the value axis of an XY chart.",properties:{type:"value",gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},plot:{id:"sap.viz.modules.verticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiVerticalBarChart",version:"4.0.1"}],function Setup(c,b){var a={id:"viz/multi_dual_column",name:"IDS_MULTIDUALVERTICALBARCHART",base:"viz/multi_column",modules:{root:{modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{title:{visible:false},type:"value",position:"right"},propertiesOverride:{title:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main",target:"secondDataRange",sourceModule:"root.main.plot.plot",source:"secondDataRange"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main",source:"secondDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis2",target:"scale",sourceModule:"root.main.plot.plot",source:"secondScale"},{targetModule:"root.main.plot.yAxis2",target:"title",sourceModule:"root.main.plot.plot",source:"secondAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"color",sourceModule:"root.main.plot.plot",source:"primaryAxisColor"},{targetModule:"root.main.plot.yAxis2",target:"color",sourceModule:"root.main.plot.plot",source:"secondAxisColor"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};c.register(a)});sap.riv.module({qname:"sap.viz.modules.stackedverticalbar",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,c,g,i,b,d,l,c,j,h,e,k){var f=function(F,Q){var ax;var az,aq=[[]],ap=[[]],aa=[],t=[],D=0,r=0,R=false,ag=false,V=0,N=0,T=null;var m=undefined,s=undefined,ai=0,ah=0,E=false,q=false,I=[],H,aC,u=false,am=0,al=0,aB=["squareWithRadius"],n,K=new g("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var P=Q.effectManager;var aD=new Array(2);xScale=d3.scale.ordinal(),yScale=d3.scale.linear(),yScale2=d3.scale.linear();var B,at=[],M=true,ao=null;var v,ak,U,aj=[],G=[],o=[],Z;var an,ae,ar=c.guid();var w=true,af=true,S=true,av=false,ac=true,aA=false,aw=false,O=800;var C="comparison";var Y="normal";var au=false,p=false,z=false,X=false;function J(){var x=false;if(!aA){x=w}else{if(p||z){x=af}else{if(au){x=S}}}return x}ay.hoverOnPoint=function(aM){var aL=aM.x,aF=aM.y;var aI=-1;while(aI<aa.length){if(Math.abs(aL-xScale.rangeBand()*aI-0.5*xScale.rangeBand())<=0.5*xScale.rangeBand()){break}aI++}if(aI>(aa.length-1)||aI<0){B.attr("visibility","hidden");return}B.attr("x",xScale.rangeBand()*aI+Z/4).attr("visibility","visible");if(ao!==aI){if(M){ao=aI;var aG=T.node().getTransformToElement(T.node().ownerSVGElement);var aJ=aG.e;var aE=100,x=100,aH=0;var aK=ax.generateTooltipData(az,t,aI,I,aB);aK.point={x:xScale.rangeBand()*aI+0.5*xScale.rangeBand()+aJ,y:d3.event.layerY};aK.plotArea={x:aG.e,y:aG.f,width:m,height:s};aK.valueAxis0Count=aa[0][0].length;aK.valueAxis1Count=a.isExist(aa[0][1])?aa[0][1].length:0;K.showTooltip(b.formatTooltipData(aK))}}};function ab(){for(var aI=0,x=aa.length;aI<x;aI++){for(var aF=0,aH=aa[aI],aK=t[aI];aF<aH.length;aF++){var aJ=0,aG=0;for(var aE=0;aE<aH[aF].length;aE++){aJ+=Math.abs(aH[aF][aE].val);if(!aH[aF][aE].isNaN){aG++}}if(aJ===0){for(var aE=0;aE<aH[aF].length;aE++){aH[aF][aE].value=a.isExist(aH[aF][aE].value)?aH[aF][aE].value:aH[aF][aE].val;aH[aF][aE].val=aH[aF][aE].isNaN?0:1/aG;if(a.isExist(aK[aF])&&a.isExist(aK[aF][aE])){aK[aF][aE].val=aK[aF][aE].isNaN?" ":1/aG}}}else{for(var aE=0;aE<aH[aF].length;aE++){if(aH[aF][aE].val<0){aH[aF][aE].isNegative=true}aH[aF][aE].value=a.isExist(aH[aF][aE].value)?aH[aF][aE].value:aH[aF][aE].val;aH[aF][aE].val=Math.abs(aH[aF][aE].val/aJ);if(a.isExist(aK[aF])&&a.isExist(aK[aF][aE])){aK[aF][aE].val=aK[aF][aE].isNaN?" ":aK[aF][aE].val/aJ}}}}}}ay.parent=function(){return T};ay.blurOut=function(){B.attr("visibility","hidden");ao=null;if(M){K.hideTooltip()}};ay.highlight=function(aE){if(aE instanceof Array){for(var aF=0,x=aE.length;aF<x;aF++){aE[aF].setAttribute("fill-opacity",1)}}else{aE.setAttribute("fill-opacity",1)}};ay.unhighlight=function(aE){if(aE instanceof Array){for(var aF=0,x=aE.length;aF<x;aF++){aE[aF].setAttribute("fill-opacity",0.4)}}else{aE.setAttribute("fill-opacity",0.4)}};ay.clear=function(x){if(x==null){T.selectAll(".v-datapoint").attr("fill-opacity",1)}else{T.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};var ad=function(){av=n.isRoundCorner;C=n.mode==="percentage"?"percentage":"comparison";w=n.animation.dataLoading;af=n.animation.dataUpdating;S=n.animation.resizing;M=n.tooltip.enabled;if(E&&!q){H=n.primaryValuesColorPalette;aC=n.secondaryValuesColorPalette}else{aC=n.colorPalette;H=n.colorPalette}Y=n.drawingEffect;I=[];indexforSecondaryAxis=aq.length;if(u){var aE=0,x=0,aF=0;for(var aG=0;aG<aa[0][0].length;aG++){I.push(H[aG%H.length]);aE++;if(aE==am&&E&&a.isExist(aa[0][1])){x=0;for(;aF<=aa[0][1].length;aF++){if(x>=al){aE=0;break}I.push(aC[aF%aC.length]);x++}}}}else{for(var aG=0;aG<aa[0].length;aG++){for(var aF=0;aF<aa[0][0].length;aF++){I.push(H[aF%H.length])}if(E&&a.isExist(aa[0][1])){for(var aF=0;aF<aa[0][1].length;aF++){I.push(aC[aF%aC.length])}}}}};function ay(x){k.drawBound(x,m,s);ax=b();if(C==="percentage"){ab()}if(!a.isExist(yScale)&&!a.isExist(yScale2)){return}K.startToInit();x.each(function(){var aH=aq.length;U=aa[0][0].length+((a.isExist(aa[0][1]))?aa[0][1].length:0);var aM=8*(xScale.rangeBand())/(9*U+7);v=(a.isExist(ap))?2:1;Z=8*(xScale.rangeBand())/(9*v+7);var aJ=T=d3.select(this);if(B==null){B=aJ.append("rect").attr("width",xScale.rangeBand()-Z/2).attr("height",s).attr("visibility","hidden").attr("fill",Q.styleManager.queryDefault("v-hoverline").fill).attr("class","v-hoverline")}else{B.attr("width",xScale.rangeBand()-Z/2).attr("height",s).attr("visibility","hidden")}if(an==null){an=aJ.append("defs").append("clipPath").append("rect").attr("width",m).attr("height",s)}else{an.attr("width",m).attr("height",s)}if(ae==null){ae=aJ.append("defs")}else{if(p||au||z||!av){ae.remove();ae=aJ.append("defs")}}var aE=Math.log(Z)/Math.log(2);if(aE<0){av=false}var aI,aF=tempNeg=0,aK=postiveIndex=0;var aG=aJ.selectAll("g.v-datashapesgroup");if(!a.isExist(aG[0][0])){aG=aJ.append("g").attr("class","v-datashapesgroup")}var aL=aG.selectAll("g.v-stackedcolumn").data(aa);aL.enter().append("g");aL.attr("class","v-stackedcolumn").each(function(aN,aO){var aP=d3.select(this).selectAll("g.v-axisGroup").data(aN);aP.enter().append("g");aP.attr("class","v-axisGroup").each(function(a3,aU){var aZ=(aU==0)?yScale:yScale2;var aQ=(aU==0)?Z/2:(Z/2+Z+Z/8);var a4=(aU==0)?xScale(aO):(xScale(aO)+Z/2+Z);var aW=(aU==0)?H:aC;var aS=0,aT=0,a2=0,a5=0;var aY=[],aR=[];var aX=d3.select(this).selectAll("g.v-datashape").data(a3);aX.enter().append("g").attr("class","v-datashape").append("rect").attr("class","v-datapoint");aX.exit().remove();if(aw){aX.each(function(){aY.push(this.getTransformToElement(this.parentNode).f)})}aX.attr("transform",function(a8,a7){var a9;if(a8.val>=0){a2+=a3[a7].val;aS=aZ(a2);a9=aS}else{aT=aZ(a5);a5+=a3[a7].val;a9=aT}var a6=xScale(aO)+aQ;aR.push(a6);return"translate("+a6+","+a9+")"});var a1=aX.select("rect.v-datapoint");a1.attr("fill",function(a6,a8){a6.fillColor=aW[a8%aW.length];var a7={drawingEffect:Y,fillColor:a6.fillColor,direction:"horizontal"};return P.register(a7)}).attr("shape-rendering","crispEdges").attr("fill-opacity",1);if(J()){if(p){a1.attr("x",function(a8,a7){var a6=a4-aR[a7]+aM*a7;a6=a6+aM/8*(a7)+aM/2;return a6}).attr("width",aM).attr("height",0).attr("y",function(a6){if(a6.val>0){return Math.abs(aZ(a6.val)-aZ(0))}else{return 0}});if(av){a1.attr("clip-path",function(a7,a6){if(a6===o[aU][aO]||a6===G[aU][aO]){var a9="roundCorner-clip-"+a6+aO+aU+ar;var a8=ae.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aE).attr("ry",aE).attr("y",Math.abs(aZ(a7.val)-aZ(0))+aE).attr("height",aE).attr("width",aM).attr("x",this.x.baseVal.value).transition().duration(O/2).attr("y",function(){if(a6===o[aU][aO]){return 0-aE}else{return 0}}).attr("height",function(){return Math.abs(aZ(a7.val)-aZ(0))+aE}).transition().delay(O/2).duration(O/2).attr("x",0).attr("width",Z);return"url(#"+a9+")"}})}a1.transition().duration(O/2).attr("height",function(a6){if(aO==0){X=true}return Math.abs(aZ(a6.val)-aZ(0))}).attr("y",0);a1.transition().delay(O/2).duration(O/2).attr("width",Z).attr("x",0).each("end",function(a7,a6){if(X==false){this.setAttribute("height",Math.abs(aZ(a7.val)-aZ(0)))}if(a6===aa[0][0].length-1&&aO==0){A()}})}else{if(au){a1.attr("y",function(a7,a6){return aY[a6]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f}).attr("height",function(a8,a7){var a6=Math.abs(aZ(a8.val)-aZ(0));if(parseFloat(this.height.baseVal.value)>a6){return this.height.baseVal.value}else{return a6}});var aV=a1.transition();aV.duration(O/2).attr("width",Z).attr("x",0).attr("height",function(a6){if(aO==0){X=true}return Math.abs(aZ(a6.val)-aZ(0))}).attr("y",0).each("end",function(a7,a6){if(X==false){this.setAttribute("height",Math.abs(aZ(a7.val)-aZ(0)))}if(a6===aa[0][0].length-1&&aO==0){A()}});if(av){aV.attr("clip-path",function(a7,a6){if(a6===o[aU][aO]||a6===G[aU][aO]){var ba="roundCorner-clip-"+a6+aO+aU+ar;var a9=parseFloat(this.y.baseVal.value);var a8=ae.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aE).attr("ry",aE).attr("y",function(){return a9-((a6===o[aU][aO])?aE:0)}).attr("height",this.height.baseVal.value+aE).attr("width",this.width.baseVal.value).attr("x",this.x.baseVal.value).transition().duration(O/2).attr("y",function(){if(a6===o[aU][aO]){return 0-aE}else{return 0}}).attr("height",function(){return Math.abs(aZ(a7.val)-aZ(0))+aE}).attr("x",0).attr("width",Z);return"url(#"+ba+")"}})}}else{if(z){a1.attr("y",function(a7,a6){return aY[a6]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f});var a0=a1.transition();a0.duration(O/2).attr("height",function(a6){if(aO==0){X=true}return Math.abs(aZ(a6.val)-aZ(0))}).attr("y",0).each("end",function(a7,a6){if(X==false){this.setAttribute("height",Math.abs(aZ(a7.val)-aZ(0)))}if(a6===aa[0][0].length-1&&aO==0){A()}});if(av){a0.attr("clip-path",function(a7,a6){if(a6===o[aU][aO]||a6===G[aU][aO]){var ba="roundCorner-clip-"+a6+aO+aU+ar;var a9=parseFloat(this.y.baseVal.value);var a8=ae.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aE).attr("ry",aE).attr("y",function(){return a9-((a6===o[aU][aO])?aE:0)}).attr("height",this.height.baseVal.value+aE).attr("width",this.width.baseVal.value).attr("x",this.x.baseVal.value).transition().duration(O/2).attr("y",function(){if(a6===o[aU][aO]){return 0-aE}else{return 0}}).attr("x",0).attr("height",function(){return Math.abs(aZ(a7.val)-aZ(0))+aE});return"url(#"+ba+")"}})}}else{if(av){a1.attr("clip-path",function(a7,a6){if(a6===o[aU][aO]||a6===G[aU][aO]){var a9="roundCorner-clip-"+a6+aO+aU+ar;var a8=ae.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aE).attr("ry",aE).attr("y",function(){if(a6===o[aU][aO]){return 0-aE}else{return 0}}).attr("height",function(){return Math.abs(aZ(a7.val)-aZ(0))+aE}).attr("x",0).attr("width",Z);return"url(#"+a9+")"}if(a6===lastBarIndex&&aO===lastBarGroupIndex){A()}})}}}}}else{a1.attr("y",0).attr("x",0).attr("width",Z).attr("height",function(a6){return Math.abs(aZ(a6.val)-aZ(0))});if(av){a1.attr("clip-path",function(a7,a6){if(a6===o[aU][aO]||a6===G[aU][aO]){var a9="roundCorner-clip-"+a6+aO+aU+ar;var a8=ae.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aE).attr("ry",aE).attr("y",function(){if(a6===o[aU][aO]){return 0-aE}else{return 0}}).attr("height",function(){return Math.abs(aZ(a7.val)-aZ(0))+aE}).attr("x",0).attr("width",Z);return"url(#"+a9+")"}})}}})});aL.exit().remove()});if(!J()){A()}au=false,z=false,p=false,X=false;aA=true;return ay}function A(){K.initialized();aw=true}ay.afterUIComponentAppear=function(){K.initialized()};ay.width=function(x){if(!arguments.length){return m}au=(m===x)&&!au?false:true;m=x;if(a.isExist(m)&&a.isExist(s)&&a.isExist(aa)){W()}return ay};ay.height=function(x){if(!arguments.length){return s}au=(s===x)&&!au?false:true;s=x;if(a.isExist(m)&&a.isExist(s)&&a.isExist(aa)){W()}return ay};ay.data=function(aN){if(!arguments.length){return az}az=aN;var aG=i(az);var aL=aG.MG1;var aI=aG.MG2;am=aG.MG1Number;al=aG.MG2Number||0;u=aG.MNDOnColor&&aG.MNDInner;t=[];if(a.isExist(aG.color)){q=true;E=true;var aM=[],aK=[];var aJ=[],aH=[];for(var aF=0;aF<aL.length;aF++){aM=[];aK=[];for(var aE=0;aE<aL[aF].length;aE++){if(aG.color[aE]==0){aM.push(aL[aF][aE]);aK.push({val:null,hasMNDonCategoryAxis:true})}else{aM.push({val:null,hasMNDonCategoryAxis:true});aK.push(aL[aF][aE])}}aJ.push(aM);aH.push(aK)}aL=aJ;aI=aH}else{q=false;if(a.isExist(aI)){if(!p&&(ap.length!==aI.length||ap[0].length!==aI[0].length)){p=true}E=true}else{E=false}}if(aq.length!==aL.length||aq[0].length!==aL[0].length){p=true}var x=L(aL,aI);aa=x;aq=aL;ap=aI;if(!p){z=true}if(q){for(var aF=0;aF<aa.length;aF++){var aO=aa[aF];if(aO[0][0].hasMNDonCategoryAxis){t.push(aO[1])}else{t.push(aO[0])}}}else{t=c.extend(true,{},aa)}if(a.isExist(m)&&a.isExist(s)){W()}ad();return ay};ay.properties=function(x){if(!arguments.length){return n}h.extend(true,n,x);ad();return ay};var W=function(){var aE=[];for(var x=0;x<aa.length;x++){aE.push(x)}xScale.domain(aE).rangeBands([0,m]);if(C==="percentage"){yScale.domain([0,1]).range([s,0]);yScale2.domain([0,1]).range([s,0]);l.perfect(yScale);l.perfect(yScale2)}else{if(r===0&&D===0){yScale.domain([0,1]).range([s,0])}else{yScale.domain([r,D]).range([s,0])}if(a.isExist(ap)||E){if(V===0&&N===0){yScale2.domain(yScale.domain()).range(yScale.range())}else{yScale2.domain([N,V]).range([s,0]);if(r===0&&D===0){yScale.domain(yScale2.domain()).range(yScale2.range())}}if(!R&&!ag){l.perfectDual(yScale,yScale2)}else{if(!R&&ag){l.perfect(yScale);l.getRoughTickNum(yScale2)}else{if(R&&!ag){l.perfect(yScale2);l.getRoughTickNum(yScale)}else{l.getRoughTickNum(yScale);l.getRoughTickNum(yScale2)}}}}else{if(!R){l.perfect(yScale)}else{l.getRoughTickNum(yScale)}}}if(!a.isExist(ap)){yScale2.range([0,0])}};ay.colorPalette=function(x){if(!arguments.length){return I}I=x;return ay};ay.primaryDataRange=function(aE){if(!arguments.length){var x,aF;if(C==="percentage"){x=1;aF=0}else{aF=r<0?r:0;x=D}return{min:aF,max:x}}if(aE!==null){D=aE.max;r=aE.min;if(aE.from==="axis"){R=true}if(a.isExist(m)&&a.isExist(s)){W()}}return ay};ay.secondDataRange=function(aE){if(!arguments.length){var x,aF;if(C==="percentage"){x=1;aF=0}else{aF=N<0?N:0;x=V}return{min:aF,max:x}}if(aE!==null){V=aE.max;N=aE.min;if(aE.from==="axis"){ag=true}if(a.isExist(m)&&a.isExist(s)){W()}}return ay};ay.categoryScale=function(x){if(!arguments.length){return xScale}xScale=x;return ay};ay.primaryScale=function(x){if(!arguments.length){return yScale}yScale=x;aD[0]=yScale;return ay};ay.secondScale=function(x){if(!arguments.length){return yScale2}yScale2=x;aD[0]=yScale2;return ay};ay.primaryAxisColor=function(){if(E&&!q){return I[0]}else{return undefined}};ay.secondAxisColor=function(){if(a.isExist(aa[0][1])&&!q){return aC[aa[0][1].length-1]}else{return undefined}};ay.getPreferredSize=function(){};ay.dataLabel=function(x){};ay.x=function(x){if(!arguments.length){return ai}ai=x;return this};ay.y=function(x){if(!arguments.length){return ah}ah=x;return this};ay.dispatch=function(x){if(!arguments.length){return K}K=x;return this};ay.primaryAxisTitle=function(aE){if(!arguments.length){var aH=az.getMeasureValuesGroupDataByIdx(0),aG=[];if(aH){for(var aF=0,x=aH.values.length;aF<x;aF++){if(aH.values[aF].col!==null&&aH.values[aF].col!==undefined){aG.push(aH.values[aF].col)}else{aG.push(e.get("IDS_ISNOVALUE"))}}}return aG.join("/")}return this};ay.secondAxisTitle=function(aE){if(!arguments.length){var aH=az.getMeasureValuesGroupDataByIdx(1),aG=[];if(aH){for(var aF=0,x=aH.values.length;aF<x;aF++){if(aH.values[aF].col!==null&&aH.values[aF].col!==undefined){aG.push(aH.values[aF].col)}else{aG.push(e.get("IDS_ISNOVALUE"))}}}return aG.join("/")}return this};var L=function(aM,aK,aF){var aJ=-1,aI=-1;G=[[],[]],o=[[],[]];D=r=0;V=N=0;var aE=[];ak=aM[0].length;var aP,x;for(var aG=0;aG<ak;aG++){var aN=[],aL=[];var aO=[];aP=0,x=0;aJ=-1,aI=-1;for(var aH=0;aH<aM.length;aH++){if(j.isNoValue(aM[aH][aG].val)){aM[aH][aG].val=null;aM[aH][aG].isNaN=true}else{if(aM[aH][aG].val>=0){aP+=aM[aH][aG].val;aJ=aH}else{x+=aM[aH][aG].val;aI=aH}}aN.push(aM[aH][aG])}G[0].push(aJ);o[0].push(aI);if(D<aP){D=aP}if(r>x){r=x}aO.push(aN);if(a.isExist(aK)){aP=0,x=0;aJ=-1,aI=-1;for(aH=0;aH<aK.length;aH++){if(j.isNoValue(aK[aH][aG].val)){aK[aH][aG].val=null;aK[aH][aG].isNaN=true}else{if(aK[aH][aG].val>=0){aP+=aK[aH][aG].val;aJ=aH}else{x+=aK[aH][aG].val;aI=aH}}aL.push(aK[aH][aG])}G[1].push(aJ);o[1].push(aI);if(V<aP){V=aP}if(N>x){N=x}aO.push(aL)}aE.push(aO)}return aE};n=F.props(null);return ay};return f});sap.riv.module({qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.stackedverticalbar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.stackedverticalbar",name:"stacked vertical bar",base:"sap.viz.modules.verticalbar",properties:{mode:{name:"mode",supportedValueType:"List",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set dispaly mode of stacked vertical bar.",isExported:true}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualVerticalBarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/multi_dual_stacked_column",name:"IDS_MULTIDUALSTACKEDVERTICALBARCHART",base:"viz/multi_dual_column",modules:{root:{modules:{main:{modules:{plot:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualPercentageStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualStackedVerticalBarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/multi_100_dual_stacked_column",name:"IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART",base:"viz/multi_dual_stacked_column",modules:{root:{modules:{main:{modules:{plot:{modules:{yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},yAxis2:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,type:"value",showZero:true}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiBarChart",version:"4.0.1"}],function Setup(b,a){var c={id:"viz/multi_dual_bar",name:"IDS_MULTIDUALBARCHART",base:"viz/multi_bar",modules:{root:{modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{title:{visible:false},gridline:{visible:false},type:"value",position:"top"},propertiesOverride:{title:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main",target:"secondDataRange",sourceModule:"root.main.plot.plot",source:"secondDataRange"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main",source:"secondDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.xAxis2",target:"scale",sourceModule:"root.main.plot.plot",source:"secondScale"},{targetModule:"root.main.plot.xAxis2",target:"title",sourceModule:"root.main.plot.plot",source:"secondAxisTitle"},{targetModule:"root.main.plot.xAxis",target:"color",sourceModule:"root.main.plot.plot",source:"primaryAxisColor"},{targetModule:"root.main.plot.xAxis2",target:"color",sourceModule:"root.main.plot.plot",source:"secondAxisColor"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};b.register(c)});sap.riv.module({qname:"sap.viz.modules.stackedbar",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,c,g,i,b,d,l,c,j,h,e,k){var f=function(H,U){var R=null;var aD,av=[[]],au=[[]],ac=[],t=[],E=0,r=0,V=false,ak=false,Z=0,Q=0,X=null;var m,s,ai=Math.floor(Math.random()*10000),am=0,al=0,G=false,K=[],J,aG,u=false,ap=0,ao=0,aF=["squareWithRadius"],n,N=new g("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var T=U.effectManager;var at=d3.scale.ordinal(),M=d3.scale.linear(),ax=d3.scale.linear();var C=null,ay=[],F=[],ar=null,ae=false;var v=1,an,Y,B,I=[],o=[];var w=true,aj=true,W=true,aA=false,af=true,q=false,aE=false,aB=false,P,S=1000;var aq=null,ah=null,aw=c.guid();var D="comparison";var ab="normal";var az=false,p=false,z=false;function L(){var x=false;if(!aE){x=w}else{if(p||z){x=aj}else{if(az){x=W}}}return x}var ag=function(){aA=n.isRoundCorner;D=n.mode==="percentage"?"percentage":"comparison";w=n.animation.dataLoading;aj=n.animation.dataUpdating;W=n.animation.resizing;P=n.tooltip.enabled;if(G&&!q){J=n.primaryValuesColorPalette;aG=n.secondaryValuesColorPalette}else{aG=n.colorPalette;J=n.colorPalette}ab=n.drawingEffect;var aJ=av.length;K=[];var aK,aI;if(u){var aH=0,x=0;for(aK=0;aK<ac[0][0].length;aK++){K.push(J[aK%J.length]);aH++;if(aH===ap&&G&&a.isExist(ac[0][1])){x=0;for(aI=0;aI<=ac[0][1].length;aI++){if(x>=ao){aH=0;break}K.push(aG[aI%aG.length]);x++}}}}else{for(aK=0;aK<ac[0].length;aK++){for(aI=0;aI<ac[0][0].length;aI++){K.push(J[aI%J.length])}if(G&&a.isExist(ac[0][1])){for(aI=0;aI<ac[0][1].length;aI++){K.push(aG[aI%aG.length])}}}}};function aC(x){k.drawBound(x,m,s);if(D==="percentage"){ad()}R=b();if(!a.isExist(M)&&!a.isExist(ax)){return}N.startToInit();x.each(function(){v=(a.isExist(au))?2:1;B=8*(at.rangeBand())/(9*v+7);Y=ac[0][0].length+((a.isExist(ac[0][1]))?ac[0][1].length:0);var aI=8*(at.rangeBand())/(9*Y+7);var aH=(X=d3.select(this));if(C===null){C=aH.append("rect").attr("width",m).attr("height",at.rangeBand()-B/2).attr("visibility","hidden").attr("fill",U.styleManager.queryDefault("v-hoverline").fill).attr("class","v-hoverline")}else{C.attr("width",m).attr("height",at.rangeBand()-B/2).attr("visibility","hidden")}if(aq===null){aq=aH.append("defs").append("clipPath").append("rect").attr("width",m).attr("height",s)}else{aq.attr("width",m).attr("height",s)}if(ah===null){ah=aH.append("defs").attr("id","round-corner-clip"+aw)}else{if(p||az||z||!aA){ah.remove();ah=aH.append("defs").attr("id","round-corner-clip"+aw)}}var aK=Math.log(B)/Math.log(2);if(aK<0){aA=false}var aJ=aH.selectAll("g.v-datashapesgroup");if(!a.isExist(aJ[0][0])){aJ=aH.append("g").attr("class","v-datashapesgroup")}var aL;aL=aJ.selectAll("g.v-stackedbar").data(ac);aL.enter().append("g");aL.attr("class","v-stackedbar").each(function(aM,aN){var aO=d3.select(this).selectAll("g.v-axisGroup").data(aM);aO.enter().append("g");aO.attr("class","v-axisGroup").each(function(a2,aV){var aZ=(aV===0)?M:ax;var aP=(aV===0)?B/2:(B/2+B+B/8);var a3=(aV===0)?at(aN):(at(aN)+B/2+B);var aW=(aV===0)?J:aG;var aR=0,aS=0,a1=0,a4=0;var aY=[],aQ=[];var aX=d3.select(this).selectAll("g.v-datashape").data(a2);aX.enter().append("g").attr("class","v-datashape").append("rect").attr("class","v-datapoint");aX.exit().remove();if(aB){aX.each(function(){aQ.push(this.getTransformToElement(this.parentNode).e)})}aX.attr("transform",function(a7,a6){var a8=at(aN)+aP;aY.push(a8);var a5;if(a7.val>=0){aR=aZ(a1);a1+=a2[a6].val;a5=aR}else{a4+=a2[a6].val;a5=aZ(a4)}return"translate("+a5+","+a8+")"});var a0=aX.select("rect.v-datapoint");a0.attr("fill",function(a5,a7){a5.fillColor=aW[a7%aW.length];var a6={drawingEffect:ab,fillColor:a5.fillColor,direction:"vertical"};return T.register(a6)}).attr("shape-rendering","crispEdges").attr("fill-opacity",1);if(L()){if(p){a0.attr("height",aI).attr("y",function(a6,a5){var a7=a3-aY[a5]+aI*a5;a7=a7+aI/8*(a5)+aI/2;return a7}).attr("x",function(a5){if(a5.val>0){return 0}else{return aZ(0)-aZ(a5.val)}}).attr("width",0);if(aA){a0.attr("clip-path",function(a6,a5){if(a5===o[aV][aN]||a5===I[aV][aN]){var a8="roundCorner-clip-"+a5+aN+aV+aw;var a7=ah.append("clipPath").attr("id",a8).append("rect").attr("class","roundCorner-clip").attr("rx",aK).attr("ry",aK).attr("y",this.y.baseVal.value).attr("height",aI).attr("width",0).attr("x",this.x.baseVal.value).transition().duration(S/2).attr("x",function(){if(a5===o[aV][aN]){return 0}else{return 0-aK}}).attr("width",function(){return Math.abs(aZ(a6.val)-aZ(0))+aK}).transition().delay(S/2).duration(S/2).attr("height",B).attr("y",0);return"url(#"+a8+")"}})}a4=0;a0.transition().duration(S/2).attr("width",function(a5){return Math.abs(aZ(a5.val)-aZ(0))}).attr("x",0);a0.transition().delay(S/2).duration(S/2).attr("height",B).attr("y",0).each("end",function(a6,a5){this.setAttribute("width",Math.abs(aZ(a6.val)-aZ(0)));if(a5===ac[0][0].length-1&&aN===0){A()}})}else{if(az){a0.attr("x",function(a6,a5){return aQ[a5]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr("width",function(a5){var a6=Math.abs(aZ(a5.val)-aZ(0));if(parseFloat(this.width.baseVal.value)>a6){return this.width.baseVal.value}else{return a6}});var aU=a0.transition();aU.duration(S/2).attr("width",function(a5){return Math.abs(aZ(a5.val)-aZ(0))}).attr("x",0).attr("y",0).attr("height",B).each("end",function(a6,a5){this.setAttribute("width",Math.abs(aZ(a6.val)-aZ(0)));if(a5===ac[0][0].length-1&&aN===0){A()}});if(aA){aU.attr("clip-path",function(a7,a6){if(a6===o[aV][aN]||a6===I[aV][aN]){var a9="roundCorner-clip-"+a6+aN+aV+aw;var a5=parseFloat(this.x.baseVal.value);var a8=ah.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aK).attr("ry",aK).attr("y",this.y.baseVal.value).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+aK).attr("x",function(){return a5-((a6===o[aV][aN])?0:aK)}).transition().duration(S/2).attr("x",function(){if(a6===o[aV][aN]){return 0}else{return 0-aK}}).attr("width",function(){return Math.abs(aZ(a7.val)-aZ(0))+aK}).attr("height",B).attr("y",0);return"url(#"+a9+")"}})}}else{if(z){a0.attr("x",function(a6,a5){return aQ[a5]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e});var aT=a0.transition();aT.duration(S/2).attr("width",function(a5){return Math.abs(aZ(a5.val)-aZ(0))}).attr("x",0).each("end",function(a6,a5){this.setAttribute("width",Math.abs(aZ(a6.val)-aZ(0)));if(a5===ac[0][0].length-1&&aN===0){A()}});if(aA){aT.attr("clip-path",function(a7,a6){if(a6===o[aV][aN]||a6===I[aV][aN]){var a9="roundCorner-clip-"+a6+aN+aV+aw;var a5=parseFloat(this.x.baseVal.value);var a8=ah.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aK).attr("ry",aK).attr("y",this.y.baseVal.value).attr("height",B).attr("width",this.width.baseVal.value+aK).attr("x",function(){return a5-((a6===o[aV][aN])?0:aK)}).transition().duration(S/2).attr("x",function(){if(a6===o[aV][aN]){return 0}else{return 0-aK}}).attr("width",function(){return Math.abs(aZ(a7.val)-aZ(0))+aK});return"url(#"+a9+")"}})}}else{if(aA){a0.attr("clip-path",function(a6,a5){if(a5===o[aV][aN]||a5===I[aV][aN]){var a8="roundCorner-clip-"+a5+aN+aV+aw;var a7=ah.append("clipPath").attr("id",a8).append("rect").attr("class","v-roundCorner-clip").attr("rx",aK).attr("ry",aK).attr("y",this.y.baseVal.value).attr("height",B).attr("width",function(){return Math.abs(aZ(a6.val)-aZ(0))+aK});if(a5===o[aV][aN]){a7.attr("x",0)}else{a7.attr("x",0-aK)}return"url(#"+a8+")"}if(a5===lastBarIndex&&aN===lastBarGroupIndex){A()}})}}}}}else{a0.attr("y",0).attr("x",0).attr("width",function(a6,a5){var a7=Math.abs(aZ(a6.val)-aZ(0));return a7}).attr("height",B);if(aA){a0.attr("clip-path",function(a6,a5){if(a5===o[aV][aN]||a5===I[aV][aN]){var a8="roundCorner-clip-"+a5+aN+aV+aw;var a7=ah.append("clipPath").attr("id",a8).append("rect").attr("class","v-roundCorner-clip").attr("rx",aK).attr("ry",aK).attr("y",this.y.baseVal.value).attr("height",B).attr("width",function(){return Math.abs(aZ(a6.val)-aZ(0))+aK});if(a5===o[aV][aN]){a7.attr("x",0)}else{a7.attr("x",0-aK)}return"url(#"+a8+")"}})}}});aO.exit().remove()});aL.exit().remove()});if(!L()){A()}az=false,z=false,p=false;aE=true;return aC}aC.hoverOnPoint=function(aP){var aO=aP.x,aJ=aP.y;var aM=-1;while(aM<ac.length){if(Math.abs(aJ-at.rangeBand()*aM-0.5*at.rangeBand())<=0.5*at.rangeBand()){break}aM++}if(aM>(ac.length-1)||aM<0){C.attr("visibility","hidden");return}C.attr("y",at.rangeBand()*aM+B/4).attr("visibility","visible");if(aM!==ar){if(P){ar=aM;var aK=X[0][0].getTransformToElement(X[0][0].ownerSVGElement);var x=aK.f;var aI=1,aH=1,aL=0;var aN=R.generateTooltipData(aD,t,an-1-aM,K,aF);aN.point={x:d3.event.layerX,y:at.rangeBand()*aM+0.5*at.rangeBand()+x};aN.plotArea={x:aK.e,y:aK.f,width:m,height:s};aN.valueAxis0Count=ac[0][0].length;aN.valueAxis1Count=a.isExist(ac[0][1])?ac[0][1].length:0;N.showTooltip(b.formatTooltipData(aN))}}};aC.blurOut=function(){C.attr("visibility","hidden");ar=null;if(P){N.hideTooltip()}};aC.parent=function(){return X};aC.highlight=function(aH){if(aH instanceof Array){for(var aI=0,x=aH.length;aI<x;aI++){aH[aI].setAttribute("fill-opacity",1)}}else{aH.setAttribute("fill-opacity",1)}};aC.unhighlight=function(aH){if(aH instanceof Array){for(var aI=0,x=aH.length;aI<x;aI++){aH[aI].setAttribute("fill-opacity",0.4)}}else{aH.setAttribute("fill-opacity",0.4)}};aC.clear=function(x){if(x==null){X.selectAll(".v-datapoint").attr("fill-opacity",1)}else{X.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};function ad(){for(var aL=0,x=ac.length;aL<x;aL++){for(var aI=0,aK=ac[aL],aN=t[aL];aI<aK.length;aI++){var aM=0,aJ=0,aH;for(aH=0;aH<aK[aI].length;aH++){aM+=Math.abs(aK[aI][aH].val);if(!aK[aI][aH].isNaN){aJ++}}if(aM===0){for(aH=0;aH<aK[aI].length;aH++){aK[aI][aH].value=a.isExist(aK[aI][aH].value)?aK[aI][aH].value:aK[aI][aH].val;aK[aI][aH].val=aK[aI][aH].isNaN?0:1/aJ;if(a.isExist(aN[aI])&&a.isExist(aN[aI][aH])){aN[aI][aH].val=aN[aI][aH].isNaN?" ":1/aJ}}}else{for(aH=0;aH<aK[aI].length;aH++){if(aK[aI][aH].val<0){aK[aI][aH].isNegative=true}aK[aI][aH].value=a.isExist(aK[aI][aH].value)?aK[aI][aH].value:aK[aI][aH].val;aK[aI][aH].val=Math.abs(aK[aI][aH].val/aM);if(a.isExist(aN[aI])&&a.isExist(aN[aI][aH])){aN[aI][aH].val=aN[aI][aH].isNaN?" ":aN[aI][aH].val/aM}}}}}}function A(){N.initialized();aB=true}aC.afterUIComponentAppear=function(){N.initialized()};aC.width=function(x){if(!arguments.length){return m}az=(m===x)&&!az?false:true;m=x;if(a.isExist(m)&&a.isExist(s)&&a.isExist(ac)){aa()}return aC};aC.height=function(x){if(!arguments.length){return s}az=(s===x)&&!az?false:true;s=x;if(a.isExist(m)&&a.isExist(s)&&a.isExist(ac)){aa()}return aC};aC.data=function(aQ){if(!arguments.length){return aD}aD=aQ;var aJ=i(aD);var aO=aJ.MG1;var aL=aJ.MG2;ap=aJ.MG1Number;ao=aJ.MG2Number||0;u=aJ.MNDOnColor&&aJ.MNDInner;t=[];var aK;if(a.isExist(aJ.color)){q=true;G=true;var aP=[],aN=[];var aM=[],aI=[];for(aK=0;aK<aO.length;aK++){aP=[];aN=[];for(var aH=0;aH<aO[aK].length;aH++){if(aJ.color[aH]===0){aP.push(aO[aK][aH]);aN.push({val:null,hasMNDonCategoryAxis:true})}else{aP.push({val:null,hasMNDonCategoryAxis:true});aN.push(aO[aK][aH])}}aM.push(aP);aI.push(aN)}aO=aM;aL=aI}else{q=false;if(a.isExist(aL)){if(!p&&(au.length!==aL.length||au[0].length!==aL[0].length)){p=true}G=true}else{G=false}}if(av.length!==aO.length||av[0].length!==aO[0].length){p=true}var x=O(aO,aL,aJ.color);if(!p){z=true}ac=x;av=aO;au=aL;if(q){for(aK=0;aK<ac.length;aK++){var aR=ac[aK];if(aR[0][0].hasMNDonCategoryAxis){t.push(aR[1])}else{t.push(aR[0])}}}else{t=c.extend(true,{},ac)}if(a.isExist(m)&&a.isExist(s)){aa()}ag();return aC};aC.properties=function(x){if(!arguments.length){return n}h.extend(true,n,x);ag();return aC};var aa=function(){var aH=[];for(var x=0;x<ac.length;x++){aH.push(x)}at.domain(aH).rangeBands([s,0]);if(D==="percentage"){M.domain([0,1]).range([0,m]);ax.domain([0,1]).range([0,m]);l.perfect(M);l.perfect(ax)}else{if(r===0&&E===0){M.domain([0,1]).range([0,m])}else{M.domain([r,E]).range([0,m])}if(a.isExist(au)||G){if(Z===0&&Q===0){ax.domain(M.domain()).range(M.range())}else{ax.domain([Q,Z]).range([0,m]);if(r===0&&E===0){M.domain(ax.domain()).range(ax.range())}}if(!V&&!ak){l.perfectDual(M,ax)}else{if(!V&&ak){l.perfect(M);l.getRoughTickNum(ax)}else{if(V&&!ak){l.perfect(ax);l.getRoughTickNum(M)}else{l.getRoughTickNum(M);l.getRoughTickNum(ax)}}}}else{if(!V){l.perfect(M)}else{l.getRoughTickNum(M)}}}if(!a.isExist(au)){ax.range([0,0])}};aC.colorPalette=function(x){if(!arguments.length){return K}K=x;return aC};aC.categoryScale=function(x){if(!arguments.length){return at}at=x;return aC};aC.primaryDataRange=function(aH){if(!arguments.length){var x,aI;if(D==="percentage"){x=1;aI=0}else{aI=r<0?r:0;x=E}return{min:aI,max:x}}if(aH!==null){E=aH.max;r=aH.min;if(aH.from==="axis"){V=true}if(a.isExist(m)&&a.isExist(s)){aa()}}return aC};aC.secondDataRange=function(aH){if(!arguments.length){var x,aI;if(D==="percentage"){x=1;aI=0}else{aI=Q<0?Q:0;x=Z}return{min:aI,max:x}}if(aH!==null){Z=aH.max;Q=aH.min;if(aH.from==="axis"){ak=true}if(a.isExist(m)&&a.isExist(s)){aa()}}return aC};aC.primaryScale=function(x){if(!arguments.length){return M}M=x;return aC};aC.secondScale=function(x){if(!arguments.length){return ax}ax=x;return aC};aC.primaryAxisColor=function(){if(G&&!q){return K[0]}else{return undefined}};aC.secondAxisColor=function(){if(a.isExist(ac[0][1])&&!q){return aG[ac[0][1].length-1]}else{return undefined}};aC.getPreferredSize=function(){};aC.x=function(x){if(!arguments.length){return am}am=x;return this};aC.y=function(x){if(!arguments.length){return al}al=x;return this};aC.dispatch=function(x){if(!arguments.length){return N}N=x;return this};aC.dataLabel=function(x){};aC.primaryAxisTitle=function(aH){if(!arguments.length){var aK=aD.getMeasureValuesGroupDataByIdx(0),aJ=[];if(aK){for(var aI=0,x=aK.values.length;aI<x;aI++){if(aK.values[aI].col!==null&&aK.values[aI].col!==undefined){aJ.push(aK.values[aI].col)}else{aJ.push(e.get("IDS_ISNOVALUE"))}}}return aJ.join("/")}return this};aC.secondAxisTitle=function(aH){if(!arguments.length){var aK=aD.getMeasureValuesGroupDataByIdx(1),aJ=[];if(aK){for(var aI=0,x=aK.values.length;aI<x;aI++){if(aK.values[aI].col!==null&&aK.values[aI].col!==undefined){aJ.push(aK.values[aI].col)}else{aJ.push(e.get("IDS_ISNOVALUE"))}}}return aJ.join("/")}return this};var O=function(aP,aN,aI){var aM=-1,aL=-1;I=[[],[]],o=[[],[]];E=r=0;Z=Q=0;var aH=[];an=aP[0].length;var aS,x;for(var aJ=0;aJ<an;aJ++){var aQ=[],aO=[];var aR=[];aS=0,x=0;aM=-1,aL=-1;for(var aK=0;aK<aP.length;aK++){if(j.isNoValue(aP[aK][aJ].val)){aP[aK][aJ].val=null;aP[aK][aJ].isNaN=true}else{if(aP[aK][aJ].val>=0){aS+=aP[aK][aJ].val;aM=aK}else{x+=aP[aK][aJ].val;aL=aK}}aQ.push(aP[aK][aJ])}I[0].push(aM);o[0].push(aL);if(E<aS){E=aS}if(r>x){r=x}aR.push(aQ);if(a.isExist(aN)){aS=0,x=0;aM=-1,aL=-1;for(aK=0;aK<aN.length;aK++){aM=0,aL=-1;if(j.isNoValue(aN[aK][aJ].val)){aN[aK][aJ].val=null;aN[aK][aJ].isNaN=true}else{if(aN[aK][aJ].val>=0){aS+=aN[aK][aJ].val;aM=aK}else{x+=aN[aK][aJ].val;aL=aK}}aO.push(aN[aK][aJ])}I[1].push(aM);o[1].push(aL);if(Z<aS){Z=aS}if(Q>x){Q=x}aR.push(aO)}aH.push(aR)}return aH};n=H.props(null);return aC};return f});sap.riv.module({qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.stackedbar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.stackedbar",name:"stacked bar",base:"sap.viz.modules.bar",properties:{mode:{name:"mode",supportedValueType:"List",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set dispaly mode of stacked bar.",isExported:true}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualBarChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_dual_stacked_bar",name:"IDS_MULTIDUALSTACKEDBARCHART",base:"viz/multi_dual_bar",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiDualPercentageStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualStackedBarChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_100_dual_stacked_bar",name:"IDS_MULTIDUALPERCENTAGESTACKEDBARCHART",base:"viz/multi_dual_stacked_bar",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},xAxis2:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,type:"value",showZero:true}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiVerticalBarChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_stacked_column",name:"IDS_MULTISTACKEDVERTICALBARCHART",base:"viz/multi_column",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiPercentageStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiStackedVerticalBarChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_100_stacked_column",name:"IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART",base:"viz/multi_stacked_column",feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,showZero:true}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiBarChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_stacked_bar",name:"IDS_MULTISTACKEDBARCHART",base:"viz/multi_bar",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiPercentageStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiStackedBarChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_100_stacked_bar",name:"IDS_MULTIPERCENTAGESTACKEDBARCHART",base:"viz/multi_stacked_bar",feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,type:"value",showZero:true}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.feeds.Radar",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(f,e){var c={id:"regionColor",name:"IDS_REGIONCOLOR",type:e.Type.Dimension,min:0,max:2,aaIndex:2,acceptMND:2},b={id:"regionShape",name:"IDS_REGIONSHAPE",type:e.Type.Dimension,min:0,max:2,aaIndex:3,acceptMND:0},g={id:"radarAxes",name:"IDS_RADARAXES",type:e.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:1},d={id:"radarAxesValues",name:"IDS_RADARAXESVALUE",type:e.Type.Measure,min:1,max:e.Constraints.INF,mgIndex:1};var a={id:"radar",feeds:[c,b,g,d]};f.register(a)});sap.riv.module({qname:"sap.viz.util.ShapeSeriesGenerator",version:"4.0.1"},[],function Setup(){var a={sapShapes:function(){return d3.scale.ordinal().range(["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"])}};return a});sap.riv.module({qname:"sap.viz.modules.radar",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.axis",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.ShapeSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.util.DrawUtil",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(h,g,e,c,d,k,m,j,a,l,f,b,i,n){return function(B,O){var F="v-marker-selected",G="v-marker-hover",U="v-datapoint";var M=0,L=0,X={},w={},R,D,A={},P,I,S=d3.scale.linear(),C,p={},N=[],H=[],V,W,E=null,r,u={},x="multiple",v,Q=O.effectManager;W=c("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");P={clazz:"spiderweb",node:null,color:k.sap32(),shape:m.sapShapes(),radiusLength:0,radius:d3.scale.linear(),anchor:{x:0,y:0},radians:[],series:[],categories:[],caption:{node:null,name:"category-axis-title",width:0,height:0},labels:{},locked:false,};I={clazz:"v-valueaxis",anchor:{x:0,y:0},ref:d(a.get("sap.viz.modules.axis"),O),node:null,width:0,height:0};w=B.props(null);css={axisTitle:"viz-axis-title"},A={spacing:{hgap:5,vgap:5},alignment:{horizontal:"center"},polaraxis:{clazz:"polar_axis",color:"#6c6c6c",weight:"1px",labels:{css:{key:"viz-polar-axis-label",def:null}},title:{css:{key:"viz-polar-axis-title",def:null}}},polargrid:{clazz:"polar_grid",color:"#d8d8d8",weight:"1px"},line:{clazz:"dataline"},valueaxis:{clazz:"value_axis",title:{css:{key:"viz-axis-title",def:null}}},marker:{clazz:U,css:{key:"viz-radar-marker",def:null},stroke:"transparent"},labels:{color:"#333333",fontSize:"14px",fontWeight:"normal",fontFamily:"Arial"},tooltip:{radialOffset:1*10}};r={dataline:{weight:[1,7]},marker:{size:[4,32]}};C={options:$.extend(true,{},w),styles:$.extend(true,{},A),wording:{dash:" - ",dot:".",slash:" / ",ellipsis:"...",series:"s",data:"d",measureIndex:" mi",and:" & "}};D=function(){var aa=P.series,Z=arguments[0],Y=arguments[1];P.max=typeof Y!=="undefined"?Y:d3.max(d3.merge(d3.merge(aa)),function(ab){return ab.val});P.min=typeof Z!=="undefined"?Z:d3.min(d3.merge(d3.merge(aa)),function(ab){return ab.val});if(P.min===P.max){if(P.min===0){P.max=100}if(P.min<0){P.max=0}if(P.min>0){P.min=0}}if(!P.min||P.min==="NaN"){P.min=0}if(!P.max||P.max==="NaN"){P.max=0}};V=function(Z,Y){return e.fastMeasure(Z,Y["font-size"]||Y.fontSize,Y["font-weight"]||Y.fontWeight,Y["font-family"]||Y.fontFamily)};v=function(){var ao=arguments[0],ad=ao.valueaxis,ag=ao.lblW,ab=ao.lblH,am=ao.caption,al={},aj,aa,ai,ak,af=A.spacing.hgap,an=A.spacing.vgap,Z=-1,ah=[];(function ac(){Z++;if(ab-1/3*L>0){ab=0}if(am.height-1/3*L>0){am.height=0}if(am.width-2/3*M>0){am.width=0}if(M-L>=0){aa=(L-2*(ab+2*an)-(am.height!==0?am.height+2*an:0))/2;aj=2*aa+2*(ag+2*af)+ad;if(aj>M){ai=aj-M;aa=(L-ai-2*(ab+2*an)-(am.height!==0?am.height+2*an:0))/2}}else{aa=(M-2*(ag+2*af)-ad)/2}ah[Z]=aa;if(typeof ah[Z-2]!=="undefined"&&ah[Z-2]<=0){return 0}if(ag>aa||aa<=0){ag=0,ab=0;am.width=0,am.height=0;aa=ac();if(ad>aa){ad=0;aa=ac();if(M>=L){if(aa<L/2){aa=L/2,an=0}}else{if(aa<M/2){aa=M/2,af=0}}}}return aa})();ak={width:ad+2*aa+4*af+2*ag,height:2*(ab+aa)+4*an+(am.height!==0?am.height+2*an:0)};P.radiusLength=aa;I.width=ad;I.anchor.x=0;I.anchor.y=ab+2*an;P.caption.width=am.width;P.caption.height=am.height;al.x=ad+ag+aa+af*2;al.y=ab+aa+an*2;am.x=al.x;am.y=al.y+aa+ab+2*an+am.height/2;var ae=0,Y=0;if(ad){I.ref.gridlineLength(al.x-ad);if(M>L){ae=M/2-ak.width/2;I.anchor.x+=ae;al.x+=ae;am.x+=ae}}else{if(M>L){ae=M/2-al.x;al.x+=ae;am.x+=ae}}P.caption.node.attr("x",am.x);P.caption.node.attr("y",am.y);I.node.attr("transform","translate("+I.anchor.x+","+I.anchor.y+")");P.node.attr("transform","translate("+al.x+","+al.y+")");P.pole=al;P.labels.width=ag;P.labels.height=ab};R=function(ad,ab,ac){var aa=[],Z=[],Y;if(!ad.length){return d3.scale.linear().domain([0,ac]).range([0,2*Math.PI])}for(Y=0;Y<ac;Y++){aa.push(Y);Z.push(Y/ac*2*Math.PI)}for(Y=ad.length-1;Y>=0;Y--){Z.splice(ad[Y].order,1)}return d3.scale.ordinal().domain(aa).range(Z)};function K(Y){n.drawBound(Y,M,L);W.startToInit();Y.each(function(au){var ag=d3.select(this),ap=C.wording;I.node=null;P.node=null;P.radiusLength=0;E=ag;ag.select(ap.dot.concat(I.clazz)).remove();ag.select(ap.dot.concat(P.clazz)).remove();ag.select(ap.dot+P.caption.name).remove();I.node=ag.append("g").attr("class",I.clazz);P.node=ag.append("g").attr("class",P.clazz+" v-datashapesgroup");P.caption.node=ag.append("text").attr("class",P.caption.name);A.valueaxis.title.css.def=O.styleManager.query(A.valueaxis.title.css.key);A.polaraxis.labels.css.def=O.styleManager.query(A.polaraxis.labels.css.key);var am,ad,aj,ak,ar,aq,an={},aw=P.categories,ah=P.series,aa=A.spacing.hgap,ac=A.spacing.vgap,ay=(P.radians=[]);var af=[];for(ar=0;ar<aw.length;ar++){af.push(V(aw[ar],A.polaraxis.labels.css.def))}ad=d3.max(af,function(az){return az.width});aj=d3.max(af,function(az){return az.height});S.domain([P.min,P.max]).range([200,0]);j.perfect(S);var ab={label:{visible:true,formatString:w.valueAxis.label.formatString},title:{visible:w.valueAxis.title.visible,text:w.valueAxis.title.text},type:"value",position:"left",gridline:{visible:true,showFirstLine:true,showLastLine:true,type:"dotted"}};if(w.valueAxis.gridline&&w.valueAxis.gridline.color){ab.gridline.color=w.valueAxis.gridline.color}I.ref.scale(S).properties(ab);I.width=w.valueAxis.visible?I.ref.getPreferredSize().width:0;if(I.width>0.5*M){I.width=0}v({valueaxis:I.width,lblW:ad,lblH:aj,caption:{width:V(w.polarAxis.title.visible?w.polarAxis.title.text:0,A.polaraxis.labels.css.def).width,height:V(w.polarAxis.title.visible?w.polarAxis.title.text:0,A.polaraxis.labels.css.def).height,}});if(w.polarAxis.title.visible&&P.caption.width&&P.caption.height){P.caption.node.text(w.polarAxis.title.text).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-family",A.valueaxis.title.css.def["font-family"]).attr("font-size",A.valueaxis.title.css.def["font-size"]).attr("font-weight",A.valueaxis.title.css.def["font-weight"]).attr("fill",A.valueaxis.title.css.def.fill)}S.range([P.radiusLength,0]);j.perfect(S);I.ref.scale(S);if(w.valueAxis.visible&&I.width){I.node.call(I.ref)}var ai=P.node.append("g").attr("class","polaraxes-group").selectAll(A.polaraxis.clazz).data(aw);ai.enter().append("g").attr("transform",function(aB,aA){var az=aA/aw.length*360-90;if(az>-180&&az<180){ay.push({axisIdx:aA,radian:-1*az*Math.PI/180})}else{ay.push({axisIdx:aA,radian:(360-az)*Math.PI/180})}return"rotate("+az+") translate("+P.radiusLength+")"});ai.append("svg:line").attr("x2",-1*P.radiusLength).attr("stroke",Q.register({drawingEffect:"normal",fillColor:A.polaraxis.color})).attr("stroke-width",A.polaraxis.weight).attr("fill","transparent");ay.sort(function(aA,az){return aA.radian-az.radian});var at;if(P.labels.width&&P.labels.height){ai.append("g").attr("class","categoryLabel").append("text").text(function(aA,az){return aA}).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("transform",function(aA,az){at=az/aw.length*360-90;if(at%90===0){if(at===-90||at===270){return"rotate(90) translate(0,"+(-1*(V(aA,A.polaraxis.labels.css.def).height/2+ac))+")"}else{if(at===0){return"translate("+(V(aA,A.polaraxis.labels.css.def).width/2+aa)+")"}else{if(at===180){return"rotate(180) translate("+(-1*(V(aA,A.polaraxis.labels.css.def).width/2+aa))+")"}else{return"rotate(-90) translate(0,"+(V(aA,A.polaraxis.labels.css.def).height/2+ac)+")"}}}}if((at>-90&&at<0)||(at>0&&at<90)){return"rotate("+(-1*at)+") translate("+(V(aA,A.polaraxis.labels.css.def).width/2+aa)+",0)"}return"rotate("+(-1*at)+") translate("+(-1*(V(aA,A.polaraxis.labels.css.def).width/2+aa))+",0)"}).attr("font-family",A.polaraxis.labels.css.def["font-family"]).attr("font-size",A.polaraxis.labels.css.def["font-size"]).attr("fill",Q.register({drawingEffect:"normal",fillColor:A.polaraxis.labels.css.def.fill}))}if(!P.min&&!P.max){W.initialized();return}S.domain([P.max,P.min]);j.perfect(S);am=P.categories.length;at=R([],am,am);var ao=d3.svg.line.radial().interpolate("linear").radius(S).angle(function(aA,az){return at(az)});var Z=S.ticks(S.tickNum),al=[],ae=[];for(ar=0;ar<Z.length;ar++){ae=[];for(aq=0;aq<aw.length;aq++){ae.push(Z[ar])}al.push(ae)}if(w.polarGrid.visible){P.node.append("g").attr("class","polargrid-group").selectAll("."+A.polargrid.clazz).data(al).enter().append("path").attr("class",A.polargrid.childClazz).attr("d",function(az){return ao(az)+"Z"}).attr("fill","none").attr("stroke",Q.register({drawingEffect:"normal",fillColor:A.polargrid.color})).attr("stroke-width",A.polargrid.weight)}P.node.append("g").attr("class","dataline-group").selectAll("."+A.line.clazz).data(ah).enter().append("path").attr("class",function(aA,az){return ap.series.concat(az+" ").concat(A.line.clazz)}).attr("d",function(aB,aA){if(!aB.length){return}var az=[];at=R([],am,am);for(var aC=0;aC<aB.length;aC++){az.push(aB[aC].val)}if(az.length!==P.categories.length){at=R(K.vacants[aA],az.length,am)}return ao(az)+"Z"}).attr("fill",function(aA,az){if(!aA.length){return}if(w.surface.fill.visible){return Q.register({drawingEffect:"normal",fillColor:aA[0].color})}}).attr("fill-opacity",function(aA,az){if(w.surface.fill.visible){return w.surface.fill.transparency}return 0}).attr("stroke",function(aA,az){if(!aA.length){return}return Q.register({drawingEffect:"normal",fillColor:aA[0].color})}).attr("stroke-width",w.line.width>r.dataline.weight[1]||w.line.width<r.dataline.weight[0]?C.options.line.width:w.line.width);var av=P.node.append("g").attr("class","marker-container").selectAll("."+A.marker.clazz).data(ah).enter().append("g");av.attr("class","marker-group").each(function(az,aA){var aD=K.vacants[aA],aC=[];$.each(P.categories,function(aE,aF){aC.push(aE/am*2*Math.PI-0.5*Math.PI)});for(var aB=aD.length-1;aB>=0;aB--){aC.splice(aD[aB].order,1)}d3.select(this).append("g").attr("class","marker-series").selectAll("."+A.marker.clazz).data(az).enter().append("g").attr("class","datashape").attr("transform",function(aG,aF){var aE=S(aG.val)*Math.cos(aC[aF]);y=S(aG.val)*Math.sin(aC[aF]);return"translate("+aE+", "+y+") rotate(0)"}).append("path").attr("class",function(aF,aE){return(ap.series+aA+" "+ap.data+aF.order+" "+ap.measureIndex+aF.ctx.path.mi+" "+A.marker.clazz)}).attr("d",function(aF,aE){return l.createMarkerData({type:aF.shape,rx:A.marker.size/2,ry:A.marker.size/2,borderWidth:2})}).attr("fill",function(aF){var aE={drawingEffect:w.drawingEffect,graphType:aF.shape,fillColor:aF.color,direction:"vertical",};return Q.register(aE)})});var ax=P.node.append("g").attr("class","phantom-marker-group").selectAll(".phantom-marker-series").data(K.vacants).enter().append("g");ax.attr("class","phantom-marker-series").each(function(az,aA){d3.select(this).selectAll(".phantom-marker").data(az).enter().append("path").attr("class",function(aC,aB){return(ap.series+aA+" "+ap.data+aC.order+" "+ap.measureIndex+aC.ctx.path.mi)}).attr("fill","none")});W.initialized()});P.locked=false}K.dataLabel=function(Y){};K.data=function(av){if(!arguments.length){return X}X=av,P.series=[],P.categories=[],H=[],N=[],K.vacants=[];if(!K.caliberated){return K}var am=X.getAnalysisAxisDataByIdx(0).values,au=X.getMeasureValuesGroupDataByIdx(0).values,aj=X.getAnalysisAxisDataByIdx(1),ai=X.getAnalysisAxisDataByIdx(2),ag=[],ax,ak,aw,ae=[],ah={aa2:{fed:aj!==null&&aj.values.length?true:false,axesFed:false,hasMND:false},aa3:{fed:ai!==null&&ai.values.length?true:false,axesFed:false,hasMND:false}},ap,ao,af;P.mndized=am[0].type&&am[0].type.toLowerCase()==="mnd"?true:false;for(ap=0;ap<am.length;ap++){aw=[];for(ao=0;ao<am[ap].rows.length;ao++){aw.push(am[ap].rows[ao].val)}ae.push(aw)}ax=ae.length,ak=ae[0].length;if(ax===1){for(ap=0;ap<ak;ap++){P.categories.push(ae[0][ap]===""||ae[0][ap]===null?f.get("IDS_ISNOVALUE"):ae[0][ap])}}else{var Z=[];for(ap=0;ap<ak;ap++){for(ao=0;ao<ax;ao++){Z.push(ae[ao][ap])}P.categories.push(Z.join(C.wording.slash));Z=[]}}ak=au[0].rows[0].length;if(P.mndized){if(!ah.aa2.fed&&!ah.aa3.fed){N.push(P.color(0));H.push(P.shape(0))}if(ah.aa2.fed){for(ap=0;ap<aj.values[0].rows.length;ap++){N.push(P.color(ap))}if(!ah.aa3.fed){H.push(P.shape(0))}}if(ah.aa3.fed){for(ap=0;ap<ai.values[0].rows.length;ap++){H.push(P.shape(ap))}if(!ah.aa2.fed){N.push(P.color(0))}}for(ap=0;ap<au.length;ap++){for(ao=0;ao<au[ap].rows.length;ao++){for(af=0;af<ak;af++){au[ap].rows[ao][af].color=N[af]||P.color(0);if(ah.aa2.fed){au[ap].rows[ao][af].shape=H[ao]||P.shape(0)}else{au[ap].rows[ao][af].shape=H[af]||P.shape(0)}}}}var Y,at=[],ar=[];for(ap=0;ap<au[0].rows.length;ap++){Y=[];for(ao=0;ao<au.length;ao++){Y.push(au[ao].rows[ap])}at.push(Y)}for(ap=0;ap<at.length;ap++){for(af=0;af<ak;af++){for(ao=0;ao<at[ap].length;ao++,ad=[]){ar.push(at[ap][ao][af])}ag.push(ar);ar=[]}}$.each(ag,function(az,aB){var ay=aB,aC=[];for(var aA=0;aA<ay.length;aA++){ay[aA].order=aA;if(ay[aA].val===null){aC.push(ay[aA])}}for(aA=ay.length-1;aA>=0;aA--){if(ay[aA].val===null){ay.splice(aA,1)}}K.vacants.push(aC)});if(w.polarAxis.title.text==="Categories"){w.polarAxis.title.text=f.get("IDS_DEFAULTMND")}}else{if(ah.aa2.fed){for(ap=0;ap<aj.values.length;ap++){if(aj.values[ap].type&&aj.values[ap].type.toLowerCase()==="mnd"){ah.aa2.hasMND=true}}if(ah.aa2.hasMND){if(aj.values.length>=2){ah.aa2.axesFed=true}else{ah.aa2.axesFed=false}}else{ah.aa2.axesFed=true}}if(ah.aa3.fed){for(ap=0;ap<ai.values.length;ap++){if(ai.values[ap].type&&ai.values[ap].type.toLowerCase()==="mnd"){ah.aa3.hasMND=true}}if(ah.aa3.hasMND){if(ai.values.length>=2){ah.aa3.axesFed=true}else{ah.aa3.axesFed=false}}else{ah.aa3.axesFed=true}}var aa=0,ab=0,af,aq=ah.aa2.hasMND&&!ah.aa2.axesFed,ac=ah.aa3.hasMND&&!ah.aa3.axesFed,ad=[];for(ap=0;ap<au.length;ap++){if(aq){N.push(P.color(ap))}if(ac){H.push(P.shape(ap))}for(ao=0;ao<au[ap].rows.length;ao++,ad=[]){for(af=0;af<au[ap].rows[ao].length;af++){if(au[ap].rows[ao][af].val===null){ad.push(au[ap].rows[ao][af])}au[ap].rows[ao][af].order=af}ag.push(au[ap].rows[ao]);K.vacants.push(ad);if(ah.aa2.fed){if(aq){for(af=0;af<au[ap].rows[ao].length;af++){au[ap].rows[ao][af].color=P.color(ap)}}else{if(ah.aa2.hasMND&&ah.aa2.axesFed){aa++;N.push(P.color(aa));for(af=0;af<au[ap].rows[ao].length;af++){au[ap].rows[ao][af].color=P.color(aa)}}else{N.push(P.color(ao));for(af=0;af<au[ap].rows[ao].length;af++){au[ap].rows[ao][af].color=P.color(ao)}}}}else{N.push(P.color(0));for(af=0;af<au[ap].rows[ao].length;af++){au[ap].rows[ao][af].color=P.color(0)}}if(ah.aa3.fed){if(ac){for(af=0;af<au[ap].rows[ao].length;af++){au[ap].rows[ao][af].shape=P.shape(ap)}}else{if(ah.aa3.hasMND&&ah.aa3.axesFed){ab++;H.push(P.shape(ab));for(af=0;af<au[ap].rows[ao].length;af++){au[ap].rows[ao][af].shape=P.shape(ab)}}else{if(ah.aa2.fed){if(ah.aa2.hasMND){H.push(P.shape(ao));for(af=0;af<au[ap].rows[ao].length;af++){au[ap].rows[ao][af].shape=P.shape(ao)}}else{for(af=0;af<au[ap].rows[ao].length;af++){H.push(P.shape(af));au[ap].rows[ao][af].shape=P.shape(af)}}}}}}else{H.push(P.shape(0));for(af=0;af<au[ap].rows[ao].length;af++){au[ap].rows[ao][af].shape=P.shape(0)}}}}for(ap=0;ap<ag.length;ap++){for(ao=ag[ap].length-1;ao>=0;ao--){for(var an=0;an<K.vacants[ap].length;an++){if(K.vacants[ap][an].order===ao){ag[ap].splice(ao,1)}}}}if(w.polarAxis.title.text==="Categories"){w.polarAxis.title.text=z(am)}}if(w.valueAxis.title.text==="Value"){var al=[];for(ap=0;ap<au.length;ap++){al.push(au[ap].col===""||au[ap].col===null?f.get("IDS_ISNOVALUE"):au[ap].col)}w.valueAxis.title.text=al.join(C.wording.and)}P.series=ag;P.feedings=ah;if(!P.locked){D()}return K};function z(Z){var aa="";for(var Y=0;Y<Z.length;Y++){aa=aa.concat(Z[Y].col.val===null?f.get("IDS_ISNOVALUE"):Z[Y].col.val+C.wording.slash)}return aa.lastIndexOf(C.wording.slash)>0?aa.substr(0,aa.lastIndexOf(C.wording.slash)):aa}K.primaryDataRange=function(Y){if(!arguments.length){return{min:P.min,max:P.max}}P.min=Y.min;P.max=Y.max;D(Y.min,Y.max);P.locked=true;return K};K.colorPalette=function(Y){if(!arguments.length){return N}N=Y;return K};K.shapes=function(Y){if(!arguments.length){return H}H=Y;return K};K.dispatch=function(Y){if(!arguments.length){return W}W=Y;return K};K.properties=function(Y){if(!arguments.length){return w}i.extend(true,w,Y);if(w.colorPalette.length){P.color.range(w.colorPalette)}if(w.shapePalette.length){P.shape.range(w.shapePalette)}A.marker.size=w.marker.size;if(A.marker.size>r.marker.size[1]||A.marker.size<r.marker.size[0]){A.marker.size=6}A.polargrid.color=w.polarGrid.color;K.caliberated=true;K.data(X);return K};K.afterUIComponentAppear=function(){W.initialized()};K.width=function(Y){if(!arguments.length){return M}var Z=M===Y?false:true;M=Y;if(g.isEmptyObject(X)&&L){K.data(X)}if(Z&&!P.locked){D()}return K};K.height=function(Y){if(!arguments.length){return L}var Z=L===Y?false:true;L=Y;if(g.isEmptyObject(X)&&M){K.data(X)}if(Z&&!P.locked){D()}return K};K.size=function(Y){if(!arguments.length){return{width:M,height:L}}M=Y;L=Y;if(g.isEmptyObject(X)&&M&&L){K.data(X)}if(M&&L&&P.series.length){D()}return K};K.parent=function(Y){if(!arguments.length){return E}E=Y;return K};K.hoverOnPoint=function(al){var am=P.pole,aa,Z,af=C.wording,ac=P.radians,ai={x:al.x-am.x,y:am.y-al.y};Z=Math.sqrt(Math.pow(ai.x,2)+Math.pow(ai.y,2));if(Z>P.radiusLength){if(typeof K.last!=="undefined"&&(g.isEmptyObject(u))){p.straight(af.dot+af.data+K.last,true)}if(w.tooltip.enabled){P.prompt()}return}aa=Math.atan2(ai.y,ai.x);var ae=d3.bisector(function(an){return an.radian}).right,Y=ae(ac,aa),ah,ab,ak,ag;if(Y===0){ab=ac.length-1,ak=0;if(ac[ab].radian===Math.PI){ah=-1*(Math.PI+Math.abs(ac[ak].radian))/2;ag=aa>ah?ag=ac[ak].axisIdx:ag=ac[ab].axisIdx}else{ag=ac[0].axisIdx}}else{if(Y===ac.length){ag=ac[ac.length-1].axisIdx}else{ab=Y-1,ak=Y;ah=(ac[ab].radian+ac[ak].radian)/2;ag=aa>ah?ag=ac[ak].axisIdx:ag=ac[ab].axisIdx}}if(typeof K.last!=="undefined"&&K.last!==ag){p.straight(af.dot+af.data+K.last,true)}p.focus(af.dot+af.data+ag,true);if(!g.isEmptyObject(u)){p.dim(af.dot+af.data+ag,true);for(var aj in u){for(var ad=0;ad<u[aj].length;ad++){p.highlight(u[aj])}}}if(w.tooltip.enabled){P.prompt(ag)}K.last=ag};K.clear=function(){if(!arguments[0]){p.straight().bright();u={}}else{p.dim()}};K.highlight=function(ah){if(!P.min&&!P.max){return}var ad=ah instanceof Array?ah:[ah],ae=/[sS][0-9]+/,ag;x=typeof arguments[1]==="boolean"?"multiple":(typeof arguments[1]==="string"?arguments[1].toLowerCase():typeof arguments[2]==="string"?arguments[2].toLowerCase():"multiple");p.highlight(ad);for(var ac=0,af=false;ac<ad.length;ac++,af=false){ag=ad[ac].className.baseVal.match(ae)[0];if(u[ag]){for(var ab=0;ab<u[ag].length;ab++){if(u[ag][ab]===ad[ac]){af=true}}if(!af){u[ag].push(ad[ac])}}else{u[ag]=[];u[ag].push(ad[ac])}}if(x==="single"){return}var Z,Y;for(var aa in u){if(u.hasOwnProperty(aa)){Y=aa.substr(1);Z=P.series[Y].length;t(aa,u[aa],Z)}}};function t(Y,Z,aa){if(Z.length===aa){p.highlight2(C.wording.dot+Y,true)}else{p.highlight(Z)}}K.unhighlight=function(Y){var Z=Y instanceof Array?Y:[Y];p.straight(Z).dim(Z);if(x==="single"){u=[];return}$.each(Z,function(aa,ae){var ad=ae.className.baseVal.match(/[sS][0-9]+/)[0];for(var ac in u){for(var ab=0;ab<u[ac].length;ab++){if(u[ac][ab]===Y){u[ac].splice(ab,1);break}}}p.straight2(C.wording.dot+ad).dim(C.wording.dot+ad)})};K.blurOut=function(){W.hideTooltip()};P.prompt=function(){if(typeof arguments[0]==="undefined"){W.hideTooltip();return}var am,ar={},ae,au=arguments[0],al=C.wording,ab={},ao=0,af=P.radiusLength-A.tooltip.radialOffset,ac=E[0][0].getTransformToElement(E[0][0].ownerSVGElement),an;for(an=0;an<P.radians.length;an++){if(P.radians[an].axisIdx===au){ao=P.radians[an].radian;break}}ab.x=af*Math.cos(ao);ab.y=af*Math.sin(ao);orient=ao<=0.5*Math.PI&&ao>-0.5*Math.PI?"left":"right";am={body:[],plotArea:{x:ac.e,y:ac.f,width:M,height:L},point:{x:ab.x+P.pole.x+ac.e,y:ab.y<0?Math.abs(ab.y)+P.pole.y+ac.f:P.pole.y-ab.y+ac.f,orientation:orient,angle:ao,range:{x:ao===0.5*Math.PI||ao===-0.5*Math.PI?0:Math.abs(ab.x),y:ao===0||ao===Math.PI||ao===-1*Math.PI?0:Math.abs(ab.y)}},footer:[]};var aj=X.getAnalysisAxisDataByIdx(0).values,ah=P.feedings.aa2.fed?X.getAnalysisAxisDataByIdx(1).values:null,ag=P.feedings.aa3.fed?X.getAnalysisAxisDataByIdx(2).values:null,at=X.getMeasureValuesGroupDataByIdx(0).values;ae=P.node.selectAll("."+al.data+au);var Y,aa,ai,Z,an,ak,aq;if(P.mndized){ar={name:P.categories[au]===""||P.categories[au]===null?f.get("IDS_ISNOVALUE"):P.categories[au],val:[]};ae.each(function(aw){var av={};av.color=aw.color;av.shape=aw.shape;av.value=aw.val!==null?aw.val:f.get("IDS_ISNOVALUE");if(!P.feedings.aa2.fed&&!P.feedings.aa3.fed){av.label=null}if(P.feedings.aa2.fed){Z=w.multichart?aw.ctx.path.dii_a2:aw.ctx.path.dii_a1;for(an=0,aq=[];an<ah.length;an++){aq.push(ah[an].rows[Z])}Y=aq;if(!P.feedings.aa3.fed){av.label=Y}}if(P.feedings.aa3.fed){Z=P.feedings.aa2.fed?aw.ctx.path.dii_a2:aw.ctx.path.dii_a1;for(an=0,aq=[];an<ag.length;an++){aq.push(ag[an].rows[Z])}if(P.feedings.aa2.fed){aa=aq;av.label=[];av.label=av.label.concat(Y);av.label=av.label.concat(aa)}else{Y=aq;av.label=Y}}ar.val.push(av)});am.body.push(ar)}else{if(!P.feedings.aa2.axesFed&&!P.feedings.aa3.axesFed){ae.each(function(ax){var aw={},av={name:at[ax.ctx.path.mi].col,val:[]};aw.color=ax.color;aw.shape=ax.shape;aw.value=ax.val!==null?ax.val:f.get("IDS_ISNOVALUE");aw.label=null;av.val.push(aw);am.body.push(av)})}else{for(var ad=0;ad<at.length;ad++){ar={name:at[ad].col===null?f.get("IDS_ISNOVALUE"):at[ad].col,val:[]};ae.each(function(ay){var aw={};aw.color=ay.color;aw.shape=ay.shape;aw.value=ay.val!==null?ay.val:f.get("IDS_ISNOVALUE");var av=d3.select(this)[0][0].className.baseVal.match(/\smi[0-9]+/);if(av!==null){av=av[0]}else{return}aq=[];if(av===(al.measureIndex+ad)){var ax=ah!==null?ah:ag;for(an=0;an<ax.length;an++){if(ay.ctx.path.dii_a2>ax[an].rows.length-1){ay.ctx.path.dii_a2=ax[an].rows.length-1}aq.push(ax[an].rows[ay.ctx.path.dii_a2])}aw.label=aq}else{return}ar.val.push(aw)});am.body.push(ar)}}var ap={};for(an=0;an<aj.length;an++){ap={};ap.label=aj[an].col;ap.value=aj[an].rows[au];am.footer.push(ap)}}W.showTooltip(b.formatTooltipData(am))};p.params={stroke:{invisible:"transparent",natural:"#ffffff",heavy:"#333333"},weight:{natural:w.line.width,heavy:"2px"},opacity:{natural:1,low:0.2}};p.dim=function(){var Z=C.wording;if(!arguments.length){P.node.selectAll(Z.dot+A.line.clazz).attr("opacity",p.params.opacity.low);P.node.selectAll(Z.dot+A.marker.clazz).attr("opacity",p.params.opacity.low)}else{if(arguments[0] instanceof Array){for(var Y=0;Y<arguments[0].length;Y++){d3.select(arguments[0][Y]).attr("opacity",p.params.opacity.low)}}else{if(arguments[1]){P.node.selectAll(arguments[0]).attr("opacity",p.params.opacity.low)}else{P.node.select(arguments[0]).attr("opacity",p.params.opacity.low)}}}return p};p.bright=function(){var Z=C.wording;if(!arguments.length){P.node.selectAll(Z.dot+A.line.clazz).attr("opacity",p.params.opacity.natural);P.node.selectAll(Z.dot+A.marker.clazz).attr("opacity",p.params.opacity.natural)}else{if(arguments[0] instanceof Array){for(var Y=0;Y<arguments[0].length;Y++){d3.select(arguments[0][Y]).attr("opacity",p.params.opacity.natural)}}else{if(arguments[1]){P.node.selectAll(arguments[0]).attr("opacity",p.params.opacity.natural)}else{P.node.select(arguments[0]).attr("opacity",p.params.opacity.natural)}}}return p};p.straight=function(){var Z=C.wording;if(!arguments.length){P.node.selectAll(Z.dot+A.marker.clazz).each(function(){o(d3.select(this))})}else{if(arguments[0] instanceof Array){for(var Y=0;Y<arguments[0].length;Y++){o(d3.select(arguments[0][Y]))}}else{if(arguments[1]){P.node.selectAll(arguments[0]).each(function(){o(d3.select(this))})}else{o(P.node.select(arguments[0]))}}}return p};function o(Z){Z.attr("stroke",p.params.stroke.invisible);var aa=Z.attr("class");var Y=aa.indexOf(U);if(Y>=0){Z.attr("class",aa.substring(0,Y)+U)}}p.straight2=function(){var Z=C.wording;if(!arguments.length){P.node.selectAll(Z.dot+A.marker.clazz).each(function(){T(d3.select(this))})}else{if(arguments[0] instanceof Array){for(var Y=0;Y<arguments[0].length;Y++){T(d3.select(arguments[0][Y]))}}else{if(arguments[1]){P.node.selectAll(arguments[0]).each(function(){T(d3.select(this))})}else{T(P.node.select(arguments[0]))}}}return p};function T(Z){Z.attr("stroke-width",p.params.weight.natural);var aa=Z.attr("class");var Y=aa.indexOf(U);if(Y>=0){Z.attr("class",aa.substring(0,Y)+U)}}p.highlight=function(){if(!arguments.length){return}if(arguments[0] instanceof Array){for(var Y=0;Y<arguments[0].length;Y++){J(d3.select(arguments[0][Y]))}}else{if(arguments[1]){P.node.selectAll(arguments[0]).each(function(){J(d3.select(this))})}else{J(P.node.select(arguments[0]))}}return p};function J(Z){Z.attr("stroke",p.params.stroke.heavy).attr("stroke-width",p.params.weight.heavy).attr("opacity",p.params.opacity.natural);var aa=Z.attr("class");var Y=aa.indexOf(U);if(Y>=0){Z.attr("class",aa.substring(0,Y)+U+" "+F)}}p.highlight2=function(){if(!arguments.length){return}if(arguments[0] instanceof Array){for(var Y=0;Y<arguments[0].length;Y++){q(d3.select(arguments[0][Y]))}}else{if(arguments[1]){P.node.selectAll(arguments[0]).each(function(){q(d3.select(this))})}else{q(P.node.select(arguments[0]))}}return p};function q(Z){Z.attr("stroke-width",p.params.weight.heavy).attr("opacity",p.params.opacity.natural);var aa=Z.attr("class");var Y=aa.indexOf(U);if(Y>=0){Z.attr("class",aa.substring(0,Y)+U+" "+F)}}p.focus=function(){if(!arguments.length){return}if(arguments[0] instanceof Array){for(var Y=0;Y<arguments[0].length;Y++){s(d3.select(arguments[0][Y]))}}else{if(arguments[1]){P.node.selectAll(arguments[0]).each(function(){s(d3.select(this))})}else{s(P.node.select(arguments[0]))}}return p};function s(Z){Z.attr("stroke",p.params.stroke.natural).attr("stroke-width",p.params.weight.natural);var aa=Z.attr("class");var Y=aa.indexOf(U);if(Y>=0){Z.attr("class",aa.substring(0,Y)+U+" "+G)}}return K}});sap.riv.module({qname:"sap.viz.modules.manifests.Radar",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.radar",version:"4.0.1"},{qname:"sap.viz.feeds.Radar",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.radar",type:b.Module.Type.Chart,name:"radar",description:"Radar module properties",properties:{drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of radar.",isExported:true},polarGrid:{name:"polarGrid",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set polar gridline visibility switch."},color:{name:"color",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Set polar gridline color."}},description:"Settings for Polar gridline customizations."},valueAxis:{name:"valueAxis",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set value axis visibility switch."},title:{name:"title",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set value axis title visibility switch."},text:{name:"text",supportedValueType:"String",defaultValue:"Value",description:"Set value axis title text."},},description:"Settings for value axis title."},label:{name:"label",supportedValueType:"Object",supportedValues:{formatString:{name:"formatString",supportedValueType:"String",defaultValue:null,description:"Set format string of value axis. If number format and format string are both set, number format will be ignored. "}},description:"Settings for axis label."}},description:"Settings for value axis at side bar."},polarAxis:{name:"polarAxis",supportedValueType:"Object",supportedValues:{title:{name:"title",description:"Settings for polar axis title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set category axis visibility switch."},text:{name:"text",supportedValueType:"String",defaultValue:"Categories",description:"Set category axis text."}}}},description:"Settings for polar axes customizations."},colorPalette:{name:"colorPalette",defaultValue:b.SAPColor,description:"Set marker color customizations."},shapePalette:{name:"shapePalette",supportedValueType:"StringArray",defaultValue:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],description:"Set marker shape customizations."},line:{name:"line",description:"Settings for line customizations.",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"PositiveInt",defaultValue:2,description:"Line weight settings. Range is [1, 7]"}}},surface:{name:"surface",supportedValueType:"Object",supportedValues:{fill:{name:"fill",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable fill effect for polar area."},transparency:{name:"transparency",supportedValueType:"Double",defaultValue:0.3,description:"Set alpha value for polar area fill color."},}}},description:"Settings for Surface customizations."},marker:{name:"marker",supportedValueType:"Object",supportedValues:{size:{name:"size",supportedValueType:"PositiveInt",defaultValue:6,min:4,max:32,description:"Set marker size customization."}},description:"Settings for marker/data point graphics."},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",supportedValues:[true,false],defaultValue:true,description:"Set tooltip enablement."}},isExported:false,description:"Settings for tooltip customization."},},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"radar"},css:{".viz-axis-title.v-title":{description:"Font style for polar axis title.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-axis-label.v-label":{description:"Define style for the axis label.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}},".viz-polar-axis-label":{description:"Font styles for polar axis labels.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif",fill:"#333333","font-size":"11px","font-weight":"bold"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiRadarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Radar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_radar",name:"IDS_MULTIRADARCHART",base:"riv/base/multiple/xy",modules:{root:{modules:{legend:{data:{aa:[3]}},tooltip:{id:"sap.viz.modules.tooltip",configure:{properties:{chartType:"radar",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{orientation:"vertical",position:"outside",automaticInOutside:false,outsidePosition:"up",positionPreference:true}}},plot:{id:"sap.viz.modules.radar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{multichart:true}}},background:{configure:{propertyCategory:"background",properties:{visible:false}}}}}}}}}},feeds:{multiplier:{acceptMND:0,max:2},regionShape:{max:0}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapes"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.modules.controller.rotate",version:"4.0.1"},[{qname:"sap.viz.util.Objects",version:"4.0.1"}],function Setup(a){return function(b){var h=null,k=null,l=b.props(null),n=0,e=0,d=false;var j=function(){return j};j.registerEvent=function(){k.on("mousedown.rotate",c).on("mousemove.rotate",f).on("mouseup.rotate",i);$(k.node()).mouseleave(i);var g=h.rotate();n=g.xAngle;e=g.yAngle};function c(){oldX=d3.event.layerX;oldY=d3.event.layerY;d=true}function f(){if(d==true){var g=d3.event.layerX;var m=d3.event.layerY;e+=(oldX-g)/2;if(e>180){e-=360}else{if(e<-180){e+=360}}n+=(m-oldY)/2;if(n>90){n=90}else{if(n<-90){n=-90}}oldX=g;oldY=m;h.rotate({xAngle:n,yAngle:e})}}function i(){d=false}j.module=function(g){if(!arguments.length){return h}h=g;k=h.parent();return j};j.properties=function(g){if(!arguments.length){return l}a.extend(true,l,g);return j};return j}});sap.riv.module({qname:"sap.viz.modules.manifests.controller.Rotate",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.controller.rotate",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Base",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.controller.rotate",name:"selection",base:"sap.viz.modules.controller.base",description:"Settings for the interactions of the chart.",properties:{},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.modules.threeD.Vector3D",version:"4.0.1"},[{qname:"sap.viz.modules.threeD.Vector",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.1"}],function Setup(a,b){function c(){a.apply(this,arguments)}c.prototype=Object.create(a.prototype);c.prototype.transform=function(d){var f=new b(0,0,0).transform(d);var e=new b(this.value(0),this.value(1),this.value(2)).transform(d);this.value(0,e.x-f.x);this.value(1,e.y-f.y);this.value(2,e.z-f.z);return this};return c});sap.riv.module({qname:"sap.viz.modules.threeD.cube",version:"4.0.1"},[{qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Vector3D",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.1"}],function Setup(d,b,a,c){return function(){var i,f,j,h,g;function e(m){var n=m.selectAll("g.v-cube").data(function(t,r){var s=d3.functor(i).apply(this,arguments);var p=d3.functor(f).apply(this,arguments);var q=d3.functor(j).apply(this,arguments);var o=d3.functor(h).apply(this,arguments);var u=d3.functor(g).apply(this,arguments);return[{wv:s,hv:p,dv:q,m:o,data:t,c:u}]});n.exit().remove();n.enter().append("g").attr("class","v-cube v-datapoint v-normal");var l=function(o,p,q){return[[0,0,0],[0,p,0],[0,p,q],[0,0,q],[o,0,0],[o,p,0],[o,p,q],[o,0,q]]};var k=n.selectAll('rect[class|="v-cube-surface"]').data(function(t){var q=t.wv;var v=t.hv;var o=t.dv;var u=t.c;var x=d3.rgb(u).hsl();var p=x.l;var r=d3.hsl(x.h,x.s,p*1.06).rgb().toString();var s=d3.hsl(x.h,x.s,p*0.94).rgb().toString();var w=new Array({m:a().rotateX(90).translate(0,v,0).transform(t.m),type:"bottom"},{m:a().rotateY(180).translate(0,0,o).transform(t.m),type:"back"},{m:a().rotateY(90).transform(t.m),type:"left"},{type:"front",m:t.m},{m:a().rotateY(-90).translate(q,0,0).transform(t.m),type:"right"},{m:a().rotateX(-90).transform(t.m),type:"top"});w.forEach(function(z){z.normal=new b(0,0,-1).transform(z.m)});w=w.filter(function(z){return z.normal.value(2)<0});w.forEach(function(A){switch(A.type){case"bottom":A.x=0;A.y=0;A.w=q;A.h=o;break;case"back":A.x=-q;A.y=0;A.w=q;A.h=v;break;case"left":A.x=-o;A.y=0;A.w=o;A.h=v;break;case"front":A.x=0;A.y=0;A.w=q;A.h=v;break;case"right":A.x=0;A.y=0;A.w=o;A.h=v;break;case"top":A.x=0;A.y=-o;A.w=q;A.h=o;break}var z=A.normal.value(0);A.fill=z===0?r:(z<0?u:s)});return w});k.exit().remove();k.enter().append("rect").attr("class",function(o){return"v-cube-surface-"+o.type});k.attr("x",function(o){return o.x}).attr("y",function(o){return o.y}).attr("width",function(o){return o.w}).attr("height",function(o){return o.h}).attr("transform",function(o){if(o.m){return o.m.projection()}}).attr("fill",function(o){return o.fill});n.each(function(s){var q=0;if(s.m){var p=s.m.row(2);q=new d(0,s.hv,0,1).dotProduct(p)}d3.select(this.parentNode).datum().flbpz=q;var o=l(s.wv,s.hv,s.dv),r=[];o.forEach(function(t){r.push(new c(t[0],t[1],t[2]).transform(s.m))});r.sort(function(u,t){return(t.x-u.x)});r.splice(2);r.sort(function(u,t){return(u.y-t.y)});s.rtp=r[0]});m.sort(function(p,o){return d3.descending(p.flbpz,o.flbpz)})}e.width=function(){if(arguments.length===0){return i}i=arguments[0];return e};e.height=function(){if(arguments.length===0){return f}f=arguments[0];return e};e.depth=function(){if(arguments.length===0){return j}j=arguments[0];return e};e.matrix=function(){if(arguments.length===0){return h}h=arguments[0];return e};e.color=function(){if(arguments.length===0){return g}g=arguments[0];return e};return e}});sap.riv.module({qname:"sap.viz.modules.bar3d",version:"4.0.1"},[{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.threeD.cube",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.tooltip",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"}],function Setup(h,l,g,b,i,e,d,f,a,k,c){var j=0.5;return function(s){var G=0,F=0,Q,x=s.props(null),H=i();var M,L=f("initialized","showTooltip","hideTooltip","valueScaleChange","primaryCategoryScaleChange","secondaryCategoryScaleChange");var C=null;var u=null;var z={"sap.viz.modules.column3d.dimension":{key:"sap.viz.modules.column3d.dimension",values:[{col:{val:""},rows:[]}]}};var D={"sap.viz.modules.column3d.dimension":{key:"sap.viz.modules.column3d.dimension",values:[{col:{val:""},rows:[]}]}};var o=d3.scale.ordinal(),J=d3.scale.ordinal(),N=d3.scale.linear();var w=b();var I=d3.scale.ordinal();function E(Y){C=Y;var aa=Y.selectAll("style").data([".v-normal rect{stroke:#FFF; opacity:1} .v-selected rect{stroke:#000; opacity:1} .v-deselected rect{stroke:#FFF; opacity:0.4}"]);aa.exit().remove();aa.enter().append("style");aa.text(String);I.range(x.colorPalette);var T=o.rangeBand();var R=J.rangeBand();var X=B();var S=T/(1+2*j);var W=S;var U=S*j;var Z=X?function(ab){return F-N(ab.data.val)}:function(ab){return N(ab.data.val)};w.width(X?S:Z).height(X?Z:S).depth(W).matrix(function(ae){var ac=ae.aa1*T+U;var ab=X?ac:0;var af=X?N(ae.data.val):F-ac;var ad=ae.aa2*R+U;return i().translate(ab,af,ad).transform(H)}).color(function(ab){return I(ab.aa2)});var V=Y.select("g.v-datashapesgroup");if(!a.isExist(V[0][0])){V=Y.append("g").attr("class","v-datashapesgroup")}var m=V.selectAll("g.v-datashape").data(M);m.exit().remove();m.enter().append("g").attr("class","v-datashape");w(m);L.initialized()}E.afterUIComponentAppear=function(){L.initialized()};E.width=function(m){if(!arguments.length){return G}G=m;if(B()){r();p()}else{q()}return E};E.height=function(m){if(!arguments.length){return F}F=m;if(B()){q()}else{r();p()}return E};E.primaryCategoryScale=function(m){if(!arguments.length){return o}o=m;return E};E.secondaryCategoryScale=function(m){if(!arguments.length){return J}J=m;return E};E.valueScale=function(m){if(!arguments.length){return N}N=m;return E};E.data=function(ad){if(!arguments.length){return Q}Q=ad;var ag=h(Q);A(ag,Q);var af=ag.MG1;var Z;var R=af[0].length;var V=new Array(R);for(Z=0;Z<R;Z++){V[Z]=Z}o.domain(V);var T=af.length;var aa=new Array(T);for(Z=0;Z<T;Z++){aa[Z]=Z}J.domain(aa);p();M=[];for(var Z=0,Y=af.length;Z<Y;Z++){var S=af[Z];for(var X=0,U=S.length;X<U;X++){M.push({data:S[X],aa2:Z,aa1:X})}}var ae=d3.extent(M,function(ah){return ah.data.val});var W=ae[0],ac=ae[1];var m=W>=0?0:W;var ab=ac<=0?0:ac;if(m===0&&ab===0){ab=100}N.domain([m,ab]);l.perfect(N);return E};E.properties=function(m){if(!arguments.length){return x}g.extend(true,x,m);r();p();q();return E};E.colorPalette=function(m){if(!arguments.length){return x.colorPalette}x.colorPalette=m;return this};E.matrix=function(m){if(!arguments.length){return H}H=m;return this};E.secondaryCategoryData=function(m){if(!arguments.length){return z}z=m;return this};E.primaryCategoryData=function(m){if(!arguments.length){return D}D=m;return E};E.dispatch=function(m){if(!arguments.length){return L}L=m;return E};E.parent=function(){if(!arguments.length){return C}C=_;return E};E.highlight=function(m){if(m instanceof Array){for(var R=0;R<m.length;R++){var S=m[R].getAttribute("class");S=S.replace("v-normal","v-selected");S=S.replace("v-deselected","v-selected");m[R].setAttribute("class",S)}}else{var S=m.getAttribute("class");S=S.replace("v-normal","v-selected");S=S.replace("v-deselected","v-selected");m.setAttribute("class",S)}};E.unhighlight=function(m){if(m instanceof Array){for(var R=0;R<m.length;R++){var S=m[R].getAttribute("class");S=S.replace("v-selected","v-deselected");S=S.replace("v-nomral","v-deselected");m[R].setAttribute("class",S)}}else{var S=m.getAttribute("class");S=S.replace("v-selected","v-deselected");S=S.replace("v-nomral","v-deselected");m.setAttribute("class",S)}};E.clear=function(m){if(m==null){C.selectAll(".v-datapoint").each(function(S){var R=this.getAttribute("class");if(R.indexOf("v-deselected")!=-1){R=R.replace("v-deselected","v-normal")}else{R=R.replace("v-selected","v-normal")}this.setAttribute("class",R)})}else{C.selectAll(".v-datapoint").each(function(S){var R=this.getAttribute("class");R=R.replace("v-selected","v-deselected");R=R.replace("v-normal","v-deselected");this.setAttribute("class",R)})}};E.mouseover=function(V){if(u===V){return}var R={body:[],footer:[]};var W=V.__data__.data,Y=R.body,ab=R.footer;var ad=W.data.ctx.path;Y.push({name:Q.getMeasureValuesGroupDataByIdx(0).values[ad.mi].col,val:[{value:W.data.val,color:V.__data__.c,shape:"squareWithRadius"}]});var m=Q.getAnalysisAxisDataByIdx(0),U=ad.dii_a1;if(m){for(var X=0,aa=m.values.length;X<aa;X++){ab.push({label:m.values[X].col.val,value:m.values[X].rows[U].val,})}}var ac=Q.getAnalysisAxisDataByIdx(1),S=ad.dii_a2;if(ac){for(var X=0,aa=ac.values.length;X<aa;X++){if(ac.values[X].type==="MND"){continue}ab.push({label:ac.values[X].col.val,value:ac.values[X].rows[S].val,})}}var T=C.node().getTransformToElement(C.node().ownerSVGElement);var Z=V.__data__.rtp;R.point={x:Z.x+T.e,y:Z.y+T.f};R.plotArea={x:T.e,y:T.f,width:G,height:F};u=V;L.showTooltip(c.formatTooltipData(R))};E.mouseout=function(m){u=null;L.hideTooltip()};function B(){return x.direction==="vertical"}function r(){o.rangeBands(B()?[0,G]:[F,0]);L.primaryCategoryScaleChange(o,B()?[0,G]:[F,0])}function p(){J.rangeBands([0,o.rangeBand()*J.domain().length]);L.secondaryCategoryScaleChange(J,[0,o.rangeBand()*J.domain().length])}function q(){N.range(B()?[F,0]:[0,G]);L.valueScaleChange(N,B()?[F,0]:[0,G])}var n=function(R){var m=e.get("IDS_ISNOVALUE");if(R===null||R===undefined){return m}else{return R}};var t=function(R){for(var m=0;m<R.length;++m){R[m].val=n(R[m].val)}return R};var v=function(R){var m={};switch(R.aa){case 0:m.dii_a1=R.dii;break;case 1:m.dii_a2=R.dii;break;case 2:m.dii_a3=R.dii;break}return m};var P=function(U,m){var W,X=[],T,S;var R=O(W,U,T);T=R.feedsLength;var V=O(W,m,S);S=V.feedsLength;z["sap.viz.modules.column3d.dimension"].values[0].rows=V.labels;D["sap.viz.modules.column3d.dimension"].values[0].rows=R.labels};var K=function(U,T){var m=U[0];var R=function(V){var X=m;m=[];for(var Z=0;Z<X.length;Z++){for(var Y=0;Y<V.length;Y++){var ab=(X[Z].val===undefined)?X[Z].val:X[Z].val,aa=(V[Y].val===undefined)?V[Y].val:V[Y].val;var W={path:{}};d.extend(W.path,X[Z].ctx.path,V[Y].ctx.path);m.push({val:ab+T+aa,ctx:W})}}};for(var S=1;S<U.length;S++){R(U[S])}return m};var O=function(Z,aa,S){var W=[],ab=[],R=" / ",m=" - ";var Y,U=false,V,T,X;if(aa&&aa.length>0){for(V=0,X=aa.length;V<X;V++){if(aa[V].type!=="MND"){if(Z===undefined){Z=n(aa[V].col.val)}else{Z=Z+R+n(aa[V].col.val)}ab=aa[V].rows;for(T=0;T<ab.length;T++){if(W[T]===undefined){W[T]={};W[T].val=n(ab[T].val);W[T].ctx={path:v(ab[T].ctx.path)}}else{W[T].val=W[T].val+R+n(ab[T].val)}}}else{Y=V}}S=W.length}if(Y!==undefined){if(W.length>0){if(aa[Y].rows.length>1){if(Y===0){Z=e.get("IDS_DEFAULTMND")+m+Z;W=K([t(aa[Y].rows),W],m);S=S*aa[Y].rows.length}else{if(Y===aa.length-1){Z=Z+m+e.get("IDS_DEFAULTMND");W=K([W,t(aa[Y].rows)],m);S=S*aa[Y].rows.length}}}}else{Z=e.get("IDS_DEFAULTMND");ab=aa[Y].rows;for(T=0;T<ab.length;T++){ab[T].val=n(ab[T].val);W.push(ab[T])}S=ab.length;if(ab.length===1){U=true}}}return{title:Z,labels:W,feedsLength:S,MNDInfo:{MNDIndex:Y,hasOnlyMND:U}}};function A(){var R=null,m=null;var S=Q.getAnalysisAxisDataByIdx(0);if(S){R=S.values}S=Q.getAnalysisAxisDataByIdx(1);if(S){m=S.values}P(R,m)}return E}});sap.riv.module({qname:"sap.viz.modules.manifests.xyz.Bar3D",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.bar3d",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.1"}],function Setup(d,c,b){var a={id:"sap.viz.modules.bar3d",name:"3d bar",type:b.Module.Type.Chart,fn:c,properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set color palette."},direction:{name:"direction",supportedValueType:"List",supportedValues:["vertical","horizontal"],defaultValue:"vertical",description:"Set direction.",isExported:false}},feeds:{id:"xy",configure:{secondaryValues:null}}};d.register(a)});sap.riv.module({qname:"sap.viz.modules.xyzlayout",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.1"}],function Setup(a,f,d){var e=function(k,j,m){var l=[{x:0,y:0,z:0},{x:0,y:0,z:m},{x:k,y:0,z:0},{x:k,y:0,z:m},{x:0,y:j,z:0},{x:0,y:j,z:m},{x:k,y:j,z:0},{x:k,y:j,z:m}];return l.map(function(n){return new d(n.x,n.y,n.z)})};var c=function(j,k){var q=j[0];q.transform(k);var s=q.x,r=q.y,p=q.x,o=q.y;for(var l=1,n=j.length;l<n;l++){q=j[l];q.transform(k);s=Math.min(s,q.x);r=Math.min(r,q.y);p=Math.max(p,q.x);o=Math.max(o,q.y)}return{x:s,y:r,z:p,w:o}};var b=function(k,l,j,m){return{top:0,left:k.west.size.width,bottom:k.south.size.height>k.east.size.height?k.south.size.height:k.east.size.height,right:k.east.size.height}};var g=function(l,t,r,n){var k=r.z-r.x;var j=r.w-r.y;var m=t-n.bottom-n.top;var s=l-n.left-n.right;var q=s/k;var p=m/j;var o=Math.min(q,p);return{x:o,y:p,z:o}};var h=function(l,u,s,o,n,k,v,w){var j=e(l,u,s);var t=c(j,o);var r={x:t.x,y:t.y,x:t.z,w:t.w};var q=b(w,n,k,v);var p=g(l,u,t,q);return p};var i=function(p){var H={resize:true,type:"grid",padding:[0,0,0,0],hgap:0,vgap:0};var Z=p.hgap||H.hgap,L=p.vgap||H.vgap,U=p.padding||H.padding,o=p.bias||"none";var V=p.m_xaxis,G=p.m_yaxis,u=p.m_zaxis,r=p.m_plot,Y=p.m_background;var T=p.size.width,s=p.size.height;var k=p.xAngle,E=p.yAngle;var N={},C=p.prefs;var H={resize:true,type:"grid",padding:[0,0,0,0],hgap:0,vgap:0};var Z=p.hgap||H.hgap,L=p.vgap||H.vgap,U=p.padding||H.padding,o=p.bias||"none";var V=p.m_xaxis,G=p.m_yaxis,u=p.m_zaxis,r=p.m_plot,Y=p.m_background;var T=p.size.width,s=p.size.height;var k=p.xAngle,E=p.yAngle;var N={},C=p.prefs;if(!p.finalLayout){F=N.center={};F.bounds={x:0,y:0,width:T,height:s};return N}var ab=C.west.size.width,K=C.west.size.height,ad=C.south.size.width,M=C.south.size.height,X=C.east.size.width,J=C.east.size.height;var Q=f();Q.transform(f().rotateY(E).rotateX(k));var I=e(T,s,X);var ag=c(I,Q);var l=b(C,V,G,u);var aa=g(T,s,ag,l);N.scale=aa;K=s-M;Q.scale(aa.x,aa.y,aa.z);V.scale(aa.x,aa.y,aa.z);G.scale(aa.x,aa.y,aa.z);u.scale(aa.x,aa.y,aa.z);r.scale(aa.x,aa.y,aa.z);I=e(T,s,X);var D=c(I,Q);var j=D.w-D.y;var n=D.z-D.x;var B=(T-n)/2;var z=(s-j)/2+Math.abs(new d(0,0,X).transform(Q).y);var F=N.west={};var v=new d(0,0,0).transform(Q);var A=new d(0,K,0).transform(Q);var w=Math.sqrt(Math.pow(A.y-v.y,2)+Math.pow(A.x-v.x,2));F.bounds={x:v.x-ab,y:v.y-7.5,width:X,height:w};G.rotateY(-90).translate(v.x,v.y,0).transform(f().rotateY(E).rotateX(k));F=N.south={};var q=f().rotateY(E).rotateX(k);var af=new d(0,K,0).transform(Q);var W=new d(0,K,0).transform(q);var R=new d(ad,K,0).transform(q);var P=Math.sqrt(Math.pow(R.y-W.y,2)+Math.pow(R.x-W.x,2));F.bounds={x:af.x,y:af.y,width:P*aa.x,height:M};F.angle=Math.atan(q.value(1,0)/q.value(0,0))*180/Math.PI;F.labelAngle=Math.atan(q.value(1,2)/q.value(0,2))*180/Math.PI;F.tickAngle=Math.atan(q.value(1,2)/q.value(0,2))*180/Math.PI;V.rotateX(-90).transform(f().rotateY(E).rotateX(k)).translate(W.x,W.y,0);F=N.center={};var S=new d(0,0,0).transform(Q);F.bounds={x:S.x,y:S.y,width:ad,height:K-C.west.endPadding};r.transform(f().rotateY(E).rotateX(k)).translate(S.x,S.y,0);F=N.east={};var O=new d(ad,K-C.west.endPadding,0).transform(Q);var x=new d(ad,0,0).transform(q);var ae=new d(ad,0,X).transform(q);var ac=Math.sqrt(Math.pow(ae.y-x.y,2)+Math.pow(ae.x-x.x,2));F.bounds={x:O.x,y:O.y,width:ac*aa.z,height:J};F.angle=Math.atan(q.value(1,2)/q.value(0,2))*180/Math.PI;F.labelAngle=Math.atan(q.value(1,0)/q.value(0,0))*180/Math.PI;F.tickAngle=Math.atan(q.value(1,0)/q.value(0,0))*180/Math.PI;u.rotateY(-90).rotateZ(-90).transform(f().rotateY(E).rotateX(k)).translate(x.x,x.y,0);F=N.background={};var t=new d(ab+X,0,0).transform(G);F.bounds={x:t.x,y:t.y,width:ad,height:K-C.west.endPadding};Y.scale(N.scale.x,N.scale.y,N.scale.z).transform(f().rotateY(E).rotateX(k)).translate(t.x,t.y,0);return N};return i});sap.riv.module({qname:"sap.viz.modules.xyzcontainer",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.modules.xyzlayout",version:"4.0.1"},{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.data.handler.SingleChartDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Vector3D",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"}],function Setup(a,h,d,m,l,c,e,j,b,g,k,f){var i=function(C,J){var n=0,p=0,o={},Z={},S={},O={},s={},T,B=null;var G=new e("initialized","showTooltip","hideTooltip"),X=0;var r=C.props(null);var q=20,P=50;var V=0;var x=d3.scale.linear();var ad=d3.scale.ordinal();var K=d3.scale.ordinal();var ab=function(aj,ag){var af={},ai,ae,ah;if(ag){if(aj){ai=aj.propertyCategory;ae=o;ah={};ah[ai]=aj.properties;h.extend(true,af,ah,ae)}else{af=o}}else{if(aj){ai=aj.propertyCategory;ae=o[ai];ah=aj.properties;h.extend(true,af,ah,ae)}}return af};var W=function(aj,ag){var ae=S.modules;var af,ai,ah;if(ae[aj]&&O[aj]){ai=ae[aj].configure;if(ag){af=o}else{if(ai){ah=ai.propertyCategory;af=h.extend(true,{},o[ah])}else{af={}}}O[aj].properties(af)}};function u(){if(a.isEmptyObject(S)){d.error("Container configuration missing")}X=0;D("xAxis");D("yAxis");D("zAxis");D("background");var ai=S.modules.plot;if(!ai){return}var aj=O.plot=f(ai.id,J,"plot");var ae=new c(Z);aj.data(ae.getDataAdapter());var ah;if(ai.configure){ah=ab(ai.configure);aj.properties(ah)}if(aj.dispatch){var af=aj.dispatch();if(af.initialized){X++;af.on("initialized.xycontainer",A)}if(af.showTooltip){af.on("showTooltip.xycontainer",ac)}if(af.hideTooltip){af.on("hideTooltip.xycontainer",F)}}var ak=S.modules.dataLabel;if(a.isExist(ak)&&a.isExist(aj.dataLabel)){var ag=O.dataLabel=f(ak.id,J);aj.dataLabel(ag);ag.plot(aj);if(ak.configure){ah=ab(ak.configure);ag.properties(ah)}}if(O.xAxis&&!s.xAxis){s.xAxis=B.append("g").attr("class","v-m-xAxis")}if(O.yAxis&&!s.yAxis){s.yAxis=B.append("g").attr("class","v-m-yAxis")}if(O.zAxis&&!s.zAxis){s.zAxis=B.append("g").attr("class","v-zAxis")}if(O.plot&&!s.plot){s.plot=B.append("g").attr("class","v-m-plot")}if(O.background&&!s.background){s.background=B.insert("g",":first-child").attr("class","background")}}function t(ag){if(O[ag]){var af=S.modules[ag];var ae=af.data;if(ae){O[ag].data(Z.createDataAdapterForModule(ae))}}}function D(ah){if(!S.modules[ah]){return}var ag=S.modules[ah],af=O[ah]=f(ag.id,J,ah);t(ah);var ae=ab(ag.configure);af.properties(ae);if(af.dispatch&&af.dispatch()["initialized"]){X++;af.dispatch().on("initialized.xycontainer",A)}}var H=function(af,ae,ah){var ag=[{x:0,y:0,z:0},{x:0,y:0,z:ah},{x:af,y:0,z:0},{x:af,y:0,z:ah},{x:0,y:ae,z:0},{x:0,y:ae,z:ah},{x:af,y:ae,z:0},{x:af,y:ae,z:ah}];return ag.map(function(ai){return new b(ai.x,ai.y,ai.z)})};var aa=function(ae,af){var ak=ae[0];ak.transform(af);var am=ak.x,al=ak.y,aj=ak.x,ai=ak.y;for(var ag=1,ah=ae.length;ag<ah;ag++){ak=ae[ag];ak.transform(af);am=Math.min(am,ak.x);al=Math.min(al,ak.y);aj=Math.max(aj,ak.x);ai=Math.max(ai,ak.y)}return{x:am,y:al,z:aj,w:ai}};function I(ae){return ae*Math.PI/180}var Y=function(aw,am,ao,at,aq,ae,al,aj,af){var ax=L("south",aw,"xAxis",ad,ao,0,0,at,aq,ae,am.x0,am.x1,am.y0,am.z0,am.z1);var ar=Math.abs(I(ax));var ak=L("west",aw,"yAxis",x,ao,0,0,at,aq,ae,am.x0,am.x1,am.y0,am.z0,am.z1);var ag=Math.abs(I(ak));var au=L("none",aw,"zAxis",K,ao,0,0,at,aq,ae,am.x0,am.x1,am.y0,am.z0,am.z1);var ap=Math.abs(I(au));var ah=0,an=0,av=0,ai=0;ah=aj.width*Math.cos(ag);if(au<=1&&ax>0&&!(au==1&&ax==91&&q>0)){ah=(ah>al.height*Math.cos(ar))?ah:al.height*Math.cos(ar);av=af.height*Math.cos(ap);ai=(al.height*Math.sin(ar)>af.height*Math.sin(ap))?al.height*Math.sin(ar):af.height*Math.sin(ap)}else{ah=(ah>af.height*Math.cos(ap))?ah:af.height*Math.cos(ap);av=al.height*Math.cos(ar);ai=(al.height*Math.sin(ar)>af.height*Math.sin(ap))?al.height*Math.sin(ar):af.height*Math.sin(ap)}return{top:0,left:ah,bottom:ai,right:av}};var z=function(an,ah,al,ai,ag){var af=al.z-al.x;var ae=al.w-al.y;var am=an/af;var ak=ah/ae;var aj=Math.min(am,ak);return{x:aj,y:ak,z:aj}};var w=function(af,am,ak,ag){var ae=H(af,am,ak);var al=aa(ae,ag);var aj={x:al.x,y:al.y,x:al.z,w:al.w};var ai=Y();var ah=z(af,am,al,ai);return ah};var M=function(ah){var al=new g(0,0,1);var aj=false,am=false,ak=false;var an=new b(0,0,0);var ae=new b(1,0,0);var ap=new b(0,-1,0);var ao=new b(0,0,1);an.transform(ah);ae.transform(ah);ap.transform(ah);ao.transform(ah);var ai=new g(ae.x-an.x,ae.y-an.y,ae.z-an.z),ag=new g(ap.x-an.x,ap.y-an.y,ap.z-an.z),af=new g(ao.x-an.x,ao.y-an.y,ao.z-an.z);if(al.dotProduct(ai)<0){aj=true}if(al.dotProduct(ag)<0){am=true}if(al.dotProduct(af)>0){ak=true}return{isRenderRT:aj,isRenderTP:am,isRenderFT:ak,renderingOrderX:ai,renderingOrderY:ag,renderingOrderz:af}};function N(ap,af,an,ag,al,ai){var ah,ae,ao,am,ak,aj;ao=an+al;if(ap.isRenderFT){ah=af;if(ap.isRenderTP){ak=0}else{ak=ai}}else{ah=af+ag;if(ap.isRenderTP){ak=ai}else{ak=0}}if(ap.isRenderRT){aj=0;if(ap.isRenderTP){ae=af+ag}else{ae=af}}else{aj=ai;if(ap.isRenderTP){ae=af}else{ae=af+ag}}return{x0:ah,x1:ae,y0:ao,z0:ak,z1:aj}}function L(ak,aA,ag,aC,ar,ay,ai,az,al,am,ax,av,ah,ao,an){var aB,at,au,af;var aj,aw,ae,ap,aq;switch(ak){case"south":aB=new b(ay,ah,ao);aq=(0==ao)?-am:am;au=new b(ay,ah,ao+aq);at=new b(ay+az,ah,ao);break;case"north":aB=new b(ay,al-ah,am-ao);aq=(0==ao)?-am:am;au=new b(ay,ah,am-ao+aq);at=new b(ay+az,al-ah,am-ao);break;case"west":aB=new b(ax,ai,an);au=new b(ax-az,ai,an);at=new b(ax,ai-al,an);break;case"east":aB=new b(az-ax,ai+al,am-an);au=new b(az,ai+al,am-an);at=new b(az-ax,ai,am-an);break;default:aB=new b(av,ah,0);aq=(ay==av)?-az:az;au=new b(av+aq,ah,0);at=new b(av,ah,am);break}aB.transform(ar);au.transform(ar);at.transform(ar);if(ak=="west"){ae=0;ap=0}else{af=new g(au.x-aB.x,au.y-aB.y,at.z-aB.z);ae=Math.atan2(af.values[0],af.values[1])*180/Math.PI+90;if(ae>90){ae-=180}else{if(ae<-90){ae+=180}}ae=E(ae);ap=Math.atan2(af.values[1],af.values[0])*180/Math.PI}O[ag].labelAngle(ae).tickAngle(ap);af=new g(at.x-aB.x,at.y-aB.y,at.z-aB.z);s[ag].attr("transform","translate("+aB.x+" "+aB.y+")");aw=Math.atan2(af.values[1],af.values[0])*180/Math.PI+90;if(ak==="none"&&aw==0){aw=-1}O[ag].angle(aw);O[ag].labelAlign("start");aj=(at.x-aB.x)*(at.x-aB.x)+(at.y-aB.y)*(at.y-aB.y);if(aj<0.01){aj=0}if(ak=="west"){O[ag].height(Math.sqrt(aj))}else{O[ag].width(Math.sqrt(aj))}if(aC.rangeBands){aC.rangeBands([0,Math.sqrt(aj)])}else{aC.range([Math.sqrt(aj),0])}return ae}function E(ae){var af=ae%360;if(-271<af&&af<-270){return -271}else{if(-270<=af&&af<-269){return -269}}if(-181<af&&af<-180){return -181}else{if(-180<=af&&af<-179){return -179}else{if(-91<af&&af<-90){return -91}else{if(-90<=af&&af<-89){return -89}else{if(-1<af&&af<0){return -1}else{if(0<=af&&af<1){return 1}else{if(89<af&&af<90){return 89}else{if(90<=af&&af<91){return 91}else{if(179<af&&af<180){return 179}else{if(180<=af&&af<181){return 181}else{if(269<af&&af<270){return 269}else{if(270<=af&&af<271){return 271}else{if(359<af&&af<360){return 359}}}}}}}}}}}}}return Math.round(ae)}function U(at){V++;if(a.isEmptyObject(O)||!n||!p){return}n=n<0?0:n;p=p<0?0:p;if(V%4!=0){O.plot.width(n).height(p)}else{var am=O.xAxis.getPreferredSize();var ak=O.yAxis.getPreferredSize();var af=O.zAxis.getPreferredSize();var aw=am.width,av=ak.height,ae=af.width;var ap=j().rotateY(P).rotateX(q);var az=M(ap);var an=N(az,0,0,aw,av,ae);var aj=H(aw,av,ae);var ai=aa(aj,ap);var ag={x:ai.x,y:ai.y,x:ai.z,w:ai.w};var ao=Y(az,an,ap,aw,av,ae,am,ak,af);var aq=p-ao.bottom-ao.top;var aA=n-ao.left-ao.right;var aB=z(aA,aq,ai,ao);var ah=ap.unit().scale(aB.x,aB.y,aB.z).clone();ap.rotateY(P).rotateX(q);var ay=0,ax=0;var au=0;while(au<10){aj=H(aw,av,ae);ai=aa(aj,ap);ay=0-ai.x+ao.left+(aA-ai.z+ai.x)/2;ax=0-ai.y+ao.top+(aq-ai.w+ai.y)/2;if(ay>0&&ax>0){break}aB=z(aA,aq,ai,ao);ap=ah.clone();ap.scale(aB.x,aB.y,aB.z);ah=ap.clone();ap.rotateY(P).rotateX(q);au++}O.plot.matrix(ap);L("south",az,"xAxis",ad,ap,0,0,aw,av,ae,an.x0,an.x1,an.y0,an.z0,an.z1);L("west",az,"yAxis",x,ap,0,0,aw,av,ae,an.x0,an.x1,an.y0,an.z0,an.z1);L("none",az,"zAxis",K,ap,0,0,aw,av,ae,an.x0,an.x1,an.y0,an.z0,an.z1);var ar=s.yAxis.node(),al=ar.getTransformToElement(ar.parentNode);s.yAxis.attr("transform","translate("+(al.e-ak.width)+","+al.f+")");aj=H(aw,av,ae);ai=aa(aj,ap);ar=s.yAxis.node(),al=ar.getTransformToElement(ar.parentNode);s.yAxis.attr("transform","translate("+(al.e+ay)+","+(al.f+ax)+")");ar=s.xAxis.node(),al=ar.getTransformToElement(ar.parentNode);s.xAxis.attr("transform","translate("+(al.e+ay)+","+(al.f+ax)+")");ar=s.zAxis.node(),al=ar.getTransformToElement(ar.parentNode);s.zAxis.attr("transform","translate("+(al.e+ay)+","+(al.f+ax)+")");ar=s.plot.node();s.plot.attr("transform","translate("+(ay)+","+(ax)+")")}}function R(ae){ae.each(function(af){B=ae;k.drawBound(ae,n,p);if(a.isEmptyObject(O)){u()}Q()});return R}R.width=function(ae,af){if(!arguments.length){return n}n=ae;U(af);return R};R.height=function(ae,af){if(!arguments.length){return p}p=ae;U(af);return R};R.size=function(ae){if(!arguments.length){return{width:n,height:p}}p=ae.height;n=ae.width;U();return R};R.data=function(af){if(!arguments.length){return Z}Z=af;if(!a.isEmptyObject(O)){var ae=new c(Z);O.plot.data(ae.getDataAdapter());t("xAxis");t("yAxis");t("zAxis")}return R};R.properties=function(ae){if(!arguments.length){return r}o=ae;if(!a.isEmptyObject(O)){W("xAxis");W("yAxis");W("zAxis");W("plot");W("datalabel");W("background")}h.extend(true,r,ae.xyzcontainer);q=r&&r.xAngle?r.xAngle:q;P=r&&r.yAngle?r.yAngle:P;return R};R.config=function(ae){if(!arguments.length){return S}S=ae;return R};R.modules=function(ae){if(!arguments.length){if(a.isEmptyObject(O)){u()}return O}O=ae;return R};R.parent=function(ae){if(!arguments.length){return B}B=ae;return R};R.rotate=function(ae){if(!arguments.length){return{xAngle:q,yAngle:P}}V=2;q=ae.xAngle;P=ae.yAngle;U();U();Q();return R};R.dispatch=function(ae){if(!arguments.length){return G}G=ae;return R};R.infoForSizeLegend=function(){return{space:T,number:1,plotHeight:O.plot.height()}};R.yAxis=function(ae){if(!arguments.length){return x}x=ae.copy();return R};R.xAxis=function(ae){if(!arguments.length){return ad}ad=ae.copy();return R};R.zAxis=function(ae){if(!arguments.length){return K}K=ae.copy();return R};R.xAxisScaleChange=function(af,ae){if(ad.rangeBands){ad.rangeBands(ae)}else{ad.range(ae)}};R.zAxisScaleChange=function(af,ae){K.rangeBands(ae)};R.yAxisScaleChange=function(af,ae){if(x.rangeBands){x.rangeBands(ae)}else{x.range(ae)}};function Q(){for(var ae in s){if(s.hasOwnProperty(ae)){s[ae].datum(O[ae].data()).call(O[ae])}}if(a.isExist(O.dataLabel)){O.dataLabel()}}var v=0;function A(){if(X==++v){v=0;G.initialized()}}function ac(ae){G.showTooltip(ae)}function F(ae){G.hideTooltip(ae)}return R};return i});sap.riv.module({qname:"sap.viz.modules.manifests.XYZContainer",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.xyzcontainer",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.xyzcontainer",type:b.Module.Type.Container,name:"single container",properties:{xAngle:{name:"xAngle",supportedValueType:"Number",defaultValue:20},yAngle:{name:"yAngle",supportedValueType:"Number",defaultValue:50}},css:null,configure:null,events:{showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.xyz.Base3DChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYZContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xyz.Bar3D",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Rotate",version:"4.0.1"}],function Setup(a){return function(d){var f=d==="vertical";var e,g;if(f){e="xAxis";g="yAxis"}else{e="yAxis";g="xAxis"}var c={id:"viz/3d_"+(f?"column":"bar"),name:"IDS_3D_"+(f?"COLUMN":"BAR"),modules:{root:{id:"sap.viz.modules.rootContainer",modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",data:{aa:[2]},configure:{propertyCategory:"legend"}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{selectability:{mode:"multiple",selectWithCtrlKey:true},preserveSelectionWhenDragging:true}}},rotate:{id:"sap.viz.modules.controller.rotate",configure:{clientID:"main",propertyCategory:"rotate"}},main:{id:"sap.viz.modules.xyzcontainer",modules:{plot:{id:"sap.viz.modules.bar3d",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{direction:d}}},zAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the category axis of an XYZ chart.",propertyCategory:"zAxis",properties:{type:"category",position:"bottom",forceVerticalFont:true,gridline:{visible:false},shapeRendering:false,isIndependentMode:true}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:d}}}},configure:{propertyCategory:"xyzcontainer",properties:{xAngle:20,yAngle:50}}}}}},dependencies:{attributes:[{targetModule:"root.main",target:e,sourceModule:"root.main.plot",source:"primaryCategoryScale"},{targetModule:"root.main",target:g,sourceModule:"root.main.plot",source:"valueScale"},{targetModule:"root.main."+g,target:"scale",sourceModule:"root.main",source:g},{targetModule:"root.main."+e,target:"scale",sourceModule:"root.main",source:e},{targetModule:"root.main",target:"zAxis",sourceModule:"root.main.plot",source:"secondaryCategoryScale"},{targetModule:"root.main.zAxis",target:"scale",sourceModule:"root.main",source:"zAxis"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.main.zAxis",target:"independentData",sourceModule:"root.main.plot",source:"secondaryCategoryData"},{targetModule:"root.main."+e,target:"independentData",sourceModule:"root.main.plot",source:"primaryCategoryData"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.rotate",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.rotate"},{targetModule:"root.main",listener:f?"xAxisScaleChange":"yAxisScaleChange",sourceModule:"root.main.plot",type:"primaryCategoryScaleChange.xyzcontainer"},{targetModule:"root.main",listener:f?"yAxisScaleChange":"xAxisScaleChange",sourceModule:"root.main.plot",type:"valueScaleChange.xyzcontainer"},{targetModule:"root.main",listener:"zAxisScaleChange",sourceModule:"root.main.plot",type:"secondaryCategoryScaleChange.xyzcontainer"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip.tooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip.tooltip"}]}};var b=c.modules.root.modules.main.modules;b[e]={id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the value axis of an XYZ chart.",propertyCategory:e,properties:{type:"category",isIndependentMode:true,position:f?"bottom":"left",forceVerticalFont:(f?true:undefined),gridline:{visible:false,showFirstLine:(f?false:true),showLastLine:(f?false:true)},shapeRendering:false},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}};b[g]={id:"sap.viz.modules.axis",configure:{description:"Settings for the category axis of an XYZ chart.",propertyCategory:g,properties:{type:"value",position:(f?"left":"bottom"),forceVerticalFont:(f?undefined:true),shapeRendering:false,gridline:{showFirstLine:(f?true:false),showLastLine:(f?true:false)}}}};a.register(c)}});sap.riv.module({qname:"sap.viz.manifests.xyz.Bar3DChart",version:"4.0.1"},[{qname:"sap.viz.manifests.xyz.Base3DChart",version:"4.0.1"}],function Setup(a){a("horizontal")});sap.riv.module({qname:"sap.viz.manifests.xyz.Column3DChart",version:"4.0.1"},[{qname:"sap.viz.manifests.xyz.Base3DChart",version:"4.0.1"}],function Setup(a){a("vertical")});sap.riv.module({qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.1"}],function Setup(b){var a={id:"riv/basehorizontalchart",name:"IDS_BASEHORIZONTALCHART","abstract":true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",data:{aa:[2]},configure:{propertyCategory:"legend"}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"bar",orientation:"left"}}},main:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"horizontal",position:"inside",automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"right"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{type:"value",position:"bottom"}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"horizontal"}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/horizontal_area",name:"IDS_HORIZONTALAREACHART",base:"riv/basehorizontalchart",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,outsidePosition:"left",showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",propertiesOverride:{bStacked:true},properties:{orientation:"horizontal"}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageHorizontalAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalAreaChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/100_horizontal_area",name:"IDS_PERCENTAGEHORIZONTALAREACHART",base:"viz/horizontal_area",modules:{root:{modules:{main:{modules:{plot:{configure:{properties:{mode:"percentage"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"horizontalline",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.1"}],function Setup(b){var a={id:"riv/baseverticalchart",name:"IDS_BASEVERTICALCHART","abstract":true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",data:{aa:[2]},configure:{propertyCategory:"legend"}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"verticalbar",orientation:"left"}}},main:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"up"}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"value",position:"left"}}},xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"xAxis",properties:{type:"category",position:"bottom",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.AreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/area",name:"IDS_AREACHART",base:"riv/baseverticalchart",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,outsidePosition:"down",showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",propertiesOverride:{bStacked:true}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.AreaChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/100_area",name:"IDS_PERCENTAGEAREACHART",base:"viz/area",modules:{root:{modules:{main:{modules:{plot:{configure:{properties:{mode:"percentage"}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"line",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.mekko",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,c,g,i,b,e,l,c,j,h,f,k){var d=function(H,U){var aG="v-hoverline";var aB,av=[[]],au=[[]],ad,u=[],D=0,r=0,Y=0,R=0,W=null;var ac=f.get("IDS_ISNOVALUE");var m,s,am=0,ak=0,J=[],I,aD=["squareWithRadius"],n,N=new g("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var at={};var T=U.effectManager;var aF=d3.scale.ordinal(),t=d3.scale.linear();aF.noEqual=true;var A=null,aq=null;var v=1,ao,X,B,K=[],o=[];var w=true,aj=true,V=true,ay=false,af=true,q=false,aC=false,Q=true,S=1000;var ap=null,ai=null,aw=c.guid();var C="comparison";var ab="normal";var ax=false,p=false,z=false,aa=false;var P={"sap.viz.modules.mekko.dimension":{key:"sap.viz.modules.mekko.dimension",values:[{col:{val:""},rows:[]}]}};var G=[],ah=[],ar=[];var al=true,az=false;function L(){var x=false;if(!aC){x=w}else{if(p||z){x=aj}else{if(ax){x=V}}}return x}var ag=function(){if(C!==n.mode){aa=true}C=n.mode==="percentage"?"percentage":"comparison";al=n.orientation==="horizontal"?true:false;ay=n.isRoundCorner;w=n.animation.dataLoading;aj=n.animation.dataUpdating;V=n.animation.resizing;Q=n.tooltip.enabled;I=n.colorPalette;ab=n.drawingEffect;J=[];var aH,x;for(aH=0;aH<ad[0].length;aH++){for(x=0;x<ad[0][0].length;x++){J.push(I[x%I.length])}}};function aA(x){k.drawBound(x,m,s);if(C==="percentage"){ae()}if(C==="comparison"){M()}if(!a.isExist(t)){return}N.startToInit();x.each(function(){v=(a.isExist(au))?2:1;B=8*(aF.rangeBand())/(9*v+7);X=ad[0][0].length+((a.isExist(ad[0][1]))?ad[0][1].length:0);var aH=ad.length;var aI=(W=d3.select(this));if(A===null){A=aI.append("rect").attr("visibility","hidden").attr("fill",at.hoverline.fill).attr("class",aG);if(al){A.attr("width",m).attr("height",aF.rangeBand()-B/2)}else{A.attr("width",aF.rangeBand()-B/2).attr("height",s)}}else{if(al){A.attr("width",m).attr("height",aF.rangeBand()-B/2).attr("visibility","hidden")}else{A.attr("width",aF.rangeBand()-B/2).attr("height",s).attr("visibility","hidden")}}if(ap===null){ap=aI.append("defs").append("clipPath").append("rect").attr("width",m).attr("height",s)}else{ap.attr("width",m).attr("height",s)}if(ai===null){ai=aI.append("defs").attr("id","round-corner-clip"+aw)}else{if(p||ax||z||!ay){ai.remove();ai=aI.append("defs").attr("id","round-corner-clip"+aw)}}var aJ=aI.selectAll("g.v-datashapesgroup");if(!a.isExist(aJ[0][0])){aJ=aI.append("g").attr("class","v-datashapesgroup")}var aK;if(L()){aK=aJ.selectAll("g.v-bar").data(ad);aK.enter().append("g");aK.attr("class","v-bar").each(function(aN,aO){var aM=al?8*(G[aH-aO-1]-G[aH-aO])/(9*X+7):8*(G[aO+1]-G[aO])/(9*X+7);var aL=al?G[aH-aO-1]-G[aH-aO]:G[aO+1]-G[aO];if(aL>1){aL=aL-1}var aP=Math.log(aL)/Math.log(2);if(aP<0){ay=false}var aQ=d3.select(this).selectAll("g.v-axisGroup").data(aN);aQ.enter().append("g");aQ.attr("class","v-axisGroup").each(function(a1,aV){var aW=I;var aR=B/2;var a2=aF(aO);var aT=0,aU=0,a0=0,a4=0;var aY=[],aS=[];var aX=d3.select(this).selectAll("g.v-datashape").data(a1);aX.enter().append("g").attr("class","v-datashape");aX.each(function(a6){var a5=d3.select(this).selectAll("rect").data([a6]);a5.enter().append("rect");a5.exit().remove()});aX.exit().remove();if(az){aX.each(function(){if(a.isExist(this.getTransformToElement(this.parentNode))){aS.push(this.getTransformToElement(this.parentNode).e);aY.push(this.getTransformToElement(this.parentNode).f)}else{aS.push(0);aY.push(0)}})}aX.attr("transform",function(a7,a6){if(al){var a8=s-G[aH-aO-1];var a5;if(a7.val>=0){aT=t(a0);a0+=a7.val;a5=aT}else{a4+=a7.val;aU=t(a4);a5=aU}}else{var a5=G[aO];var a8;if(a7.val>=0){a0+=a7.val;positiveY=t(a0);a8=positiveY}else{negativeY=t(a4);a4+=a7.val;a8=negativeY}}return"translate("+a5+","+a8+")"});var aZ=d3.select(this).selectAll("rect");aZ.attr("fill",function(a5,a7){a5.fillColor=aW[a7%aW.length];var a6={drawingEffect:ab,fillColor:a5.fillColor,direction:al?"vertical":"horizontal"};return T.register(a6)}).attr("class","v-datapoint").attr("fill-opacity",1);if(p){if(al){aZ.attr("height",aM).attr("y",function(a6,a5){return aM*a5}).attr("x",0).attr("width",0);if(ay){aZ.attr("clip-path",function(a6,a5){if(a5===o[aV][aO]||a5===K[aV][aO]){var a8="roundCorner-clip-"+a5+aO+aV+aw;var a7=ai.append("clipPath").attr("id",a8).append("rect").attr("class","v-roundCorner-clip").attr("rx",aP).attr("ry",aP).attr("y",this.y.baseVal.value).attr("height",aM).attr("width",0).attr("x",this.x.baseVal.value).transition().duration(S/2).attr("x",function(){if(a5===o[aV][aO]){return 0}else{return 0-aP}}).attr("width",function(){return Math.abs(t(a6.val)-t(0))+aP}).transition().delay(S/2).duration(S/2).attr("height",aL).attr("y",0);return"url(#"+a8+")"}})}a4=0;aZ.transition().duration(S/2).attr("width",function(a6,a5){return Math.abs(t(a6.val)-t(0))}).attr("x",0).transition().delay(S/2).duration(S/2).attr("height",function(a6,a5){var a7=G[aH-aO-1]-G[aH-aO];if(a7>1){return G[aH-aO-1]-G[aH-aO]-1}else{return G[aH-aO-1]-G[aH-aO]}}).attr("y",0).attr("width",function(a6,a5){return Math.abs(t(a6.val)-t(0))}).each("end",function(a6,a5){if(aO===0&&a5===X-1){F()}})}else{aZ.attr("width",aM).attr("x",function(a6,a5){return aM*a5}).attr("y",function(a6,a5){return Math.abs(t(a6.val)-t(0))}).attr("height",0);if(ay){aZ.attr("clip-path",function(a6,a5){if(a5===o[aV][aO]||a5===K[aV][aO]){var a8="roundCorner-clip-"+a5+aO+aV+aw;var a7=ai.append("clipPath").attr("id",a8).append("rect").attr("class","v-roundCorner-clip").attr("rx",aP).attr("ry",aP).attr("y",this.y.baseVal.value).attr("width",aM).attr("height",0).attr("x",this.x.baseVal.value).transition().duration(S/2).attr("y",function(){if(a5===o[aV][aO]){return 0-aP}else{return 0}}).attr("height",function(){return Math.abs(t(a6.val)-t(0))+aP}).transition().delay(S/2).duration(S/2).attr("width",aL).attr("x",0);return"url(#"+a8+")"}})}a4=0;aZ.transition().duration(S/2).attr("height",function(a6,a5){return Math.abs(t(a6.val)-t(0))}).attr("y",0).transition().delay(S/2).duration(S/2).attr("width",function(a7,a5){var a6=G[aO+1]-G[aO];if(a6>1){return G[aO+1]-G[aO]-1}else{return G[aO+1]-G[aO]}}).attr("x",0).attr("height",function(a6,a5){return Math.abs(t(a6.val)-t(0))}).each("end",function(a6,a5){if(aO===0&&a5===X-1){F()}})}}else{if(z){aZ.attr("x",function(a6,a5){return aS[a5]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr("y",function(a6,a5){return aY[a5]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f});var a3=aZ.transition();if(al){a3.duration(S/2).attr("width",function(a6,a5){return Math.abs(t(a6.val)-t(0))}).attr("x",0).attr("height",function(a6,a5){var a7=G[aH-aO-1]-G[aH-aO];if(a7>1){return G[aH-aO-1]-G[aH-aO]-1}else{return G[aH-aO-1]-G[aH-aO]}}).attr("y",0).each("end",function(a6,a5){if(aO===0&&a5===X-1){F()}});if(ay){a3.attr("clip-path",function(a7,a6){if(a6===o[aV][aO]||a6===K[aV][aO]){var a9="roundCorner-clip-"+a6+aO+aV+aw;var a5=parseFloat(this.x.baseVal.value);var a8=ai.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aP).attr("ry",aP).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+aP).attr("x",function(){return a5-((a6===o[aV][aO])?0:aP)}).attr("y",this.y.baseVal.value).transition().duration(S/2).attr("x",function(){if(a6===o[aV][aO]){return 0}else{return 0-aP}}).attr("width",function(){return Math.abs(t(a7.val)-t(0))+aP}).attr("height",aL).attr("y",0);return"url(#"+a9+")"}})}}else{a3.duration(S/2).attr("height",function(a6,a5){return Math.abs(t(a6.val)-t(0))}).attr("y",0).attr("width",function(a7,a5){var a6=G[aO+1]-G[aO];if(a6>1){return G[aO+1]-G[aO]-1}else{return G[aO+1]-G[aO]}}).attr("x",0).each("end",function(a6,a5){if(aO===0&&a5===X-1){F()}});if(ay){a3.attr("clip-path",function(a6,a5){if(a5===o[aV][aO]||a5===K[aV][aO]){var a9="roundCorner-clip-"+a5+aO+aV+aw;var a8=parseFloat(this.y.baseVal.value);var a7=ai.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aP).attr("ry",aP).attr("width",this.width.baseVal.value).attr("height",this.height.baseVal.value+aP).attr("y",function(){return a8-((a5===o[aV][aO])?aP:0)}).attr("x",this.x.baseVal.value).transition().duration(S/2).attr("y",function(){if(a5===o[aV][aO]){return 0-aP}else{return 0}}).attr("height",function(){return Math.abs(t(a6.val)-t(0))+aP}).attr("width",aL).attr("x",0);return"url(#"+a9+")"}})}}}else{if(ax){if(al){aZ.attr("x",function(a6,a5){return aS[a5]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr("width",function(a5){var a6=Math.abs(t(a5.val)-t(0));if(parseFloat(this.width.baseVal.value)>a6){return this.width.baseVal.value}else{return a6}});var a3=aZ.transition();a3.duration(S/2).attr("width",function(a6,a5){return Math.abs(t(a6.val)-t(0))}).attr("x",0).attr("height",function(a6,a5){var a7=G[aH-aO-1]-G[aH-aO];if(a7>1){return G[aH-aO-1]-G[aH-aO]-1}else{return G[aH-aO-1]-G[aH-aO]}}).attr("y",0).each("end",function(a6,a5){if(aO===0&&a5===X-1){F()}});if(ay){a3.attr("clip-path",function(a7,a6){if(a6===o[aV][aO]||a6===K[aV][aO]){var a9="roundCorner-clip-"+a6+aO+aV+aw;var a5=parseFloat(this.x.baseVal.value);var a8=ai.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aP).attr("ry",aP).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+aP).attr("x",function(){return a5-((a6===o[aV][aO])?0:aP)}).attr("y",this.y.baseVal.value).transition().duration(S/2).attr("x",function(){if(a6===o[aV][aO]){return 0}else{return 0-aP}}).attr("width",function(){return Math.abs(t(a7.val)-t(0))+aP}).attr("height",aL).attr("y",0);return"url(#"+a9+")"}})}}else{aZ.attr("y",function(a6,a5){return aY[a5]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f}).attr("height",function(a6){var a5=Math.abs(t(a6.val)-t(0));if(parseFloat(this.height.baseVal.value)>a5){return this.height.baseVal.value}else{return a5}});var a3=aZ.transition();a3.duration(S/2).attr("height",function(a6,a5){return Math.abs(t(a6.val)-t(0))}).attr("y",0).attr("width",function(a7,a5){var a6=G[aO+1]-G[aO];if(a6>1){return G[aO+1]-G[aO]-1}else{return G[aO+1]-G[aO]}}).attr("x",0).each("end",function(a6,a5){if(aO===0&&a5===X-1){F()}});if(ay){a3.attr("clip-path",function(a6,a5){if(a5===o[aV][aO]||a5===K[aV][aO]){var a9="roundCorner-clip-"+a5+aO+aV+aw;var a8=parseFloat(this.y.baseVal.value);var a7=ai.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aP).attr("ry",aP).attr("width",this.width.baseVal.value).attr("height",this.height.baseVal.value+aP).attr("y",function(){return a8-((a5===o[aV][aO])?aP:0)}).attr("x",this.x.baseVal.value).transition().duration(S/2).attr("y",function(){if(a5===o[aV][aO]){return 0-aP}else{return 0}}).attr("height",function(){return Math.abs(t(a6.val)-t(0))+aP}).attr("width",aL).attr("x",0);return"url(#"+a9+")"}})}}}else{if(aa){if(al){aZ.attr("x",function(a6,a5){return aS[a5]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e});var a3=aZ.transition();a3.duration(S/2).attr("width",function(a6,a5){return Math.abs(t(a6.val)-t(0))}).attr("x",0).attr("height",function(a6,a5){var a7=G[aH-aO-1]-G[aH-aO];if(a7>1){return G[aH-aO-1]-G[aH-aO]-1}else{return G[aH-aO-1]-G[aH-aO]}}).attr("y",0).each("end",function(a6,a5){if(aO===0&&a5===X-1){F()}});if(ay){a3.attr("clip-path",function(a7,a6){if(a6===o[aV][aO]||a6===K[aV][aO]){var a9="roundCorner-clip-"+a6+aO+aV+aw;var a5=parseFloat(this.x.baseVal.value);var a8=ai.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aP).attr("ry",aP).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+aP).attr("x",function(){return a5-((a6===o[aV][aO])?0:aP)}).attr("y",this.y.baseVal.value).transition().duration(S/2).attr("x",function(){if(a6===o[aV][aO]){return 0}else{return 0-aP}}).attr("width",function(){return Math.abs(t(a7.val)-t(0))+aP}).attr("height",aL).attr("y",0);return"url(#"+a9+")"}})}}else{aZ.attr("y",function(a6,a5){return aY[a5]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f});var a3=aZ.transition();a3.duration(S/2).attr("height",function(a6,a5){return Math.abs(t(a6.val)-t(0))}).attr("y",0).attr("width",function(a7,a5){var a6=G[aO+1]-G[aO];if(a6>1){return G[aO+1]-G[aO]-1}else{return G[aO+1]-G[aO]}}).attr("x",0).each("end",function(a6,a5){if(aO===0&&a5===X-1){F()}});if(ay){a3.attr("clip-path",function(a6,a5){if(a5===o[aV][aO]||a5===K[aV][aO]){var a9="roundCorner-clip-"+a5+aO+aV+aw;var a8=parseFloat(this.y.baseVal.value);var a7=ai.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aP).attr("ry",aP).attr("width",this.width.baseVal.value).attr("height",this.height.baseVal.value+aP).attr("y",function(){return a8-((a5===o[aV][aO])?aP:0)}).attr("x",this.x.baseVal.value).transition().duration(S/2).attr("y",function(){if(a5===o[aV][aO]){return 0-aP}else{return 0}}).attr("height",function(){return Math.abs(t(a6.val)-t(0))+aP}).attr("width",aL).attr("x",0);return"url(#"+a9+")"}})}}}else{if(ay){if(al){aZ.attr("clip-path",function(a6,a5){if(a5===o[aV][aO]||a5===K[aV][aO]){var a8="roundCorner-clip-"+a5+aO+aV+aw;var a7=ai.append("clipPath").attr("id",a8).append("rect").attr("class","v-roundCorner-clip").attr("rx",aP).attr("ry",aP).attr("x",function(){if(a5===o[aV][aO]){return 0}else{return 0-aP}}).attr("width",function(){return Math.abs(t(a6.val)-t(0))+aP}).attr("height",aL).attr("y",0);return"url(#"+a8+")"}if(aO===0&&a5===X-1){F()}})}else{aZ.attr("clip-path",function(a6,a5){if(a5===o[aV][aO]||a5===K[aV][aO]){var a8="roundCorner-clip-"+a5+aO+aV+aw;var a7=ai.append("clipPath").attr("id",a8).append("rect").attr("class","v-roundCorner-clip").attr("rx",aP).attr("ry",aP).attr("y",function(){if(a5===o[aV][aO]){return 0-aP}else{return 0}}).attr("height",function(){return Math.abs(t(a6.val)-t(0))+aP}).attr("width",aL).attr("x",0);return"url(#"+a8+")"}if(aO===0&&a5===X-1){F()}})}}}}}}});aQ.exit().remove()});aK.exit().remove()}else{aK=aJ.selectAll("g.v-bar").data(ad);aK.enter().append("g");aK.attr("class","v-bar").each(function(aM,aN){var aL=al?G[aH-aN-1]-G[aH-aN]:G[aN+1]-G[aN];if(aL>1){aL=aL-1}var aO=Math.log(aL)/Math.log(2);if(aO<0){ay=false}var aP=d3.select(this).selectAll("g.v-axisGroup").data(aM);aP.enter().append("g");aP.attr("class","v-axisGroup").each(function(a1,aT){var aU=I;var aR=0,aS=0,a0=0,a2=0;var aZ=0,aY=-1;var aW=[],aQ=[];var aV=d3.select(this).selectAll("g.v-datashape").data(a1);aV.enter().append("g").attr("class","v-datashape");aV.each(function(a4){var a3=d3.select(this).selectAll("rect").data([a4]);a3.enter().append("rect");a3.exit().remove()});aV.exit().remove();aV.attr("transform",function(a5,a4){if(al){var a6=s-G[aH-aN-1];var a3;if(a5.val>=0){aR=t(a0);a0+=a5.val;a3=aR}else{a2+=a5.val;aS=t(a2);a3=aS}}else{var a3=G[aN];var a6;if(a5.val>=0){a0+=a5.val;positiveY=t(a0);a6=positiveY}else{negativeY=t(a2);a2+=a5.val;a6=negativeY}}return"translate("+a3+","+a6+")"});var aX=d3.select(this).selectAll("rect");if(al){aX.attr("width",function(a4,a3){return Math.abs(t(a4.val)-t(0))}).attr("x",0).attr("height",function(a4,a3){var a5=G[aH-aN-1]-G[aH-aN];if(a5>1){return G[aH-aN-1]-G[aH-aN]-1}else{return G[aH-aN-1]-G[aH-aN]}}).attr("y",0).attr("fill",function(a3,a5){a3.fillColor=aU[a5%aU.length];var a4={drawingEffect:ab,fillColor:a3.fillColor,direction:"vertical"};return T.register(a4)}).attr("class","v-datapoint").attr("fill-opacity",1);if(ay){aX.attr("clip-path",function(a4,a3){if(a3===o[aT][aN]||a3===K[aT][aN]){var a6="roundCorner-clip-"+a3+aN+aT+aw;var a5=ai.append("clipPath").attr("id",a6).append("rect").attr("class","v-roundCorner-clip").attr("rx",aO).attr("ry",aO).attr("x",function(){if(a3===o[aT][aN]){return 0}else{return 0-aO}}).attr("width",function(){return Math.abs(t(a4.val)-t(0))+aO}).attr("height",aL).attr("y",0);return"url(#"+a6+")"}})}}else{aX.attr("height",function(a4,a3){return Math.abs(t(a4.val)-t(0))}).attr("x",0).attr("width",function(a5,a3){var a4=G[aN+1]-G[aN];if(a4>1){return G[aN+1]-G[aN]-1}else{return G[aN+1]-G[aN]}}).attr("y",0).attr("fill",function(a3,a5){a3.fillColor=aU[a5%aU.length];var a4={drawingEffect:ab,fillColor:a3.fillColor,direction:"horizontal"};return T.register(a4)}).attr("class","v-datapoint").attr("fill-opacity",1);if(ay){aX.attr("clip-path",function(a4,a3){if(a3===o[aT][aN]||a3===K[aT][aN]){var a6="roundCorner-clip-"+a3+aN+aT+aw;var a5=ai.append("clipPath").attr("id",a6).append("rect").attr("class","v-roundCorner-clip").attr("rx",aO).attr("ry",aO).attr("y",function(){if(a3===o[aT][aN]){return 0-aO}else{return 0}}).attr("height",function(){return Math.abs(t(a4.val)-t(0))+aO}).attr("width",aL).attr("x",0);return"url(#"+a6+")"}})}}});aP.exit().remove()});aK.exit().remove();F()}});ax=false,z=false,p=false;aC=true;return aA}aA.hoverOnPoint=function(aP){var aO=aP.x,aH=aP.y;var aK=0,aL=G.length-1,aJ=0;if(al){while(aK<aL){if(aH>=(s-G[aK])&&aH<(s-G[aK+1])){aJ=G[aK]-G[aK+1];break}aK++}}else{while(aK<aL){if(aO>=(G[aK])&&aO<(G[aK+1])){aJ=G[aK+1]-G[aK];break}aK++}}if(aK>(ad.length-1)||aK<0){A.attr("visibility","hidden");return}if(al){A.attr("y",s-G[aK]).attr("visibility","visible").attr("height",aJ)}else{A.attr("x",G[aK]).attr("visibility","visible").attr("width",aJ)}if(aK!==aq){if(Q){aq=aK;var aI=W[0][0].getTransformToElement(W[0][0].ownerSVGElement);var x=aI.f;var aM=aI.e;var aN=al?an(ao-aK-1):an(aK);aN.point={x:al?d3.event.layerX:G[aK]+aJ/2+aM,y:al?s-G[aK]+aJ/2+x:d3.event.layerY};aN.plotArea={x:aI.e,y:aI.f,width:m,height:s};aN.valueAxis0Count=ad[0][0].length;aN.valueAxis1Count=a.isExist(ad[0][1])?ad[0][1].length:0;N.showTooltip(b.formatTooltipData(aN))}}};var an=function(aH){var aO={body:[],footer:[]};var x=aB.getAnalysisAxisDataByIdx(0).values;var aS=aB.getMeasureValuesGroupDataByIdx(0).values;var aQ=aB.getMeasureValuesGroupDataByIdx(1).values;if(a.isExist(aB.getAnalysisAxisDataByIdx(1))){var aU=aB.getAnalysisAxisDataByIdx(1).values}var aW=u[0][0].length;for(var aM=0,aI=aS.length;aM<aI;aM++){var aL={},aV=[];aL.name=aS[aM].col;aL.val=aV;for(var aK=0;aK<aW;aK++){var aP="";if(a.isExist(aU)){for(var aT=0,aJ=aU.length;aT<aJ;aT++){if(aT===0){aP+=aU[aT].rows[aK].val}else{aP+=" / "+aU[aT].rows[aK].val}}}aV.push({value:u[aH][0][aK].isNaN?ac:u[aH][0][aK].val,label:aP,shape:"squareWithRadius",color:J[aK]})}aO.body.push(aL)}var aL={},aV=[];aL.name=aQ[0].col;aL.val=aV;aV.push({value:a.isExist(rangeSum[aH])?rangeSum[aH]:ac,valueAxis:1});aO.body.push(aL);for(var aM=0,aN=x.length;aM<aN;aM++){var aR={};aR.label=x[aM].col.val;aR.value=x[aM].rows[aH].val;aO.footer.push(aR)}return aO};aA.blurOut=function(){A.attr("visibility","hidden");aq=null;if(Q){N.hideTooltip()}};aA.parent=function(){return W};aA.highlight=function(aH){if(aH instanceof Array){for(var aI=0,x=aH.length;aI<x;aI++){aH[aI].setAttribute("fill-opacity",1)}}else{aH.setAttribute("fill-opacity",1)}};aA.unhighlight=function(aH){if(aH instanceof Array){for(var aI=0,x=aH.length;aI<x;aI++){aH[aI].setAttribute("fill-opacity",0.4)}}else{aH.setAttribute("fill-opacity",0.4)}};aA.clear=function(x){if(x==null){W.selectAll(".v-datapoint").attr("fill-opacity",1)}else{W.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};function ae(){for(var aL=0,x=ad.length;aL<x;aL++){for(var aI=0,aK=ad[aL],aN=u[aL];aI<aK.length;aI++){var aM=0,aJ=0,aH;for(aH=0;aH<aK[aI].length;aH++){aM+=Math.abs(aK[aI][aH].val);if(!aK[aI][aH].isNaN){aJ++}}if(aM===0){for(aH=0;aH<aK[aI].length;aH++){aK[aI][aH].value=a.isExist(aK[aI][aH].value)?aK[aI][aH].value:aK[aI][aH].val;aK[aI][aH].val=aK[aI][aH].isNaN?0:1/aJ;if(a.isExist(aN[aI])&&a.isExist(aN[aI][aH])){aN[aI][aH].val=aN[aI][aH].isNaN?" ":1/aJ}}}else{for(aH=0;aH<aK[aI].length;aH++){if(aK[aI][aH].val<0){aK[aI][aH].isNegative=true}aK[aI][aH].value=a.isExist(aK[aI][aH].value)?aK[aI][aH].value:aK[aI][aH].val;aK[aI][aH].val=Math.abs(aK[aI][aH].val/aM);if(a.isExist(aN[aI])&&a.isExist(aN[aI][aH])){aN[aI][aH].val=aN[aI][aH].isNaN?" ":aN[aI][aH].val/aM}}}}}}function M(){var aJ=c.extend(true,{},i(aB));var aI=aJ.MG1;var aH=aJ.MG2;measureOnAxis1=aJ.MG1Number;u=[];var x=O(aI,null,aJ.color);ad=x;av=aI;au=aH;u=c.extend(true,{},ad)}function F(){N.initialized();az=true}aA.afterUIComponentAppear=function(){N.initialized()};aA.width=function(x){if(!arguments.length){return m}ax=(m===x)&&!ax?false:true;m=x;Z();return aA};aA.height=function(x){if(!arguments.length){return s}ax=(s===x)&&!ax?false:true;s=x;Z();return aA};aA.data=function(aJ){if(!arguments.length){return aB}aB=aJ;var aK=c.extend(true,{},i(aB));var aI=aK.MG1;var aH=aK.MG2;measureOnAxis1=aK.MG1Number;u=[];var x=O(aI,null,aK.color);if(av.length!==aI.length||av[0].length!==aI[0].length){p=true}else{z=true}ad=x;av=aI;au=aH;u=c.extend(true,{},ad);Z();ag();return aA};aA.properties=function(x){if(!arguments.length){return n}h.extend(true,n,x);ag();Z();return aA};var aE=function(aH){for(var x=0;x<aH.length;x++){if(!j.isNoValue(aH[x])&&aH[x]!=0){return}}for(var x=1;x<aH.length;x++){aH[x]=x*(al?s/(aH.length-1):m/(aH.length-1))}};var Z=function(){if(a.isExist(m)&&a.isExist(s)&&a.isExist(ad)){var aM=[],aK=0,aH=0;G=[],rangeSum=[],G[0]=0;var aL=P["sap.viz.modules.mekko.dimension"].values[0].rows=[];P["sap.viz.modules.mekko.dimension"].values[0].col.val=aB.getMeasureValuesGroupDataByIdx(1).values[0].col;for(var aJ=0,x=au.length;aJ<x;aJ++){for(var aI=0;aI<au[aJ].length;aI++){if(a.isExist(rangeSum[aI])){rangeSum[aI]+=au[aJ][aI].val}else{rangeSum[aI]=au[aJ][aI].val}}}for(var aJ=0,x=rangeSum.length;aJ<x;aJ++){aM.push(aJ);aK+=rangeSum[aJ]>0?rangeSum[aJ]:(0-rangeSum[aJ])}for(var aI=0,x=rangeSum.length;aH+=Math.abs(rangeSum[aI]),aI<x;aI++){aH=parseFloat(aH.toFixed(8));G[aI+1]=aK==0?null:Math.abs(al?aH/aK*s:aH/aK*m);aL.push({val:a.isExist(rangeSum[aI])?rangeSum[aI]:ac})}aE(G);if(al){aF.domain(aM).range(G.reverse());if(C==="percentage"){t.domain([0,1]).range([0,m]).nice();l.perfect(t)}else{if(r===0&&D===0){t.domain([0,1]).range([0,m]).nice()}else{t.domain([r,D]).range([0,m]).nice()}l.perfect(t)}}else{aF.domain(aM).range(G);if(C==="percentage"){t.domain([1,0]).range([0,s]).nice();l.perfect(t)}else{if(r===0&&D===0){t.domain([1,0]).range([0,s]).nice()}else{t.domain([D,r]).range([0,s]).nice()}l.perfect(t)}}}};aA.colorPalette=function(x){if(!arguments.length){return J}J=x;return aA};aA.categoryScale=function(x){if(!arguments.length){return aF}aF=x;return aA};aA.dimensionData=function(x){if(!arguments.length){return P}P=x;return aA};aA.secondCategoryScale=function(){if(!arguments.length){return aF}aF=_;return aA};aA.primaryDataRange=function(aH){if(!arguments.length){var x,aI;if(C==="percentage"){x=1;aI=0}else{aI=r<0?r:0;x=D}return{min:aI,max:x}}D=aH.max;r=aH.min;Z();return aA};aA.secondDataRange=function(aH){if(!arguments.length){var x,aI;if(C==="percentage"){x=1;aI=0}else{aI=R<0?R:0;x=Y}return{min:aI,max:x}}Y=aH.max;R=aH.min;Z();return aA};aA.primaryScale=function(x){if(!arguments.length){return t}t=x;return aA};aA.primaryAxisColor=function(){return undefined};aA.getPreferredSize=function(){};aA.x=function(x){if(!arguments.length){return am}am=x;return this};aA.y=function(x){if(!arguments.length){return ak}ak=x;return this};aA.dispatch=function(x){if(!arguments.length){return N}N=x;return this};aA.dataLabel=function(x){};aA.primaryAxisTitle=function(aH){if(!arguments.length){var aK=aB.getMeasureValuesGroupDataByIdx(0),aJ=[];if(aK){for(var aI=0,x=aK.values.length;aI<x;aI++){if(aK.values[aI].col!==null&&aK.values[aI].col!==undefined){aJ.push(aK.values[aI].col)}else{aJ.push(f.get("IDS_ISNOVALUE"))}}}return aJ.join("/")}return this};aA.secondAxisTitle=function(aH){if(!arguments.length){var aK=aB.getMeasureValuesGroupDataByIdx(1),aJ=[];if(aK){for(var aI=0,x=aK.values.length;aI<x;aI++){if(aK.values[aI].col!==null&&aK.values[aI].col!==undefined){aJ.push(aK.values[aI].col)}else{aJ.push(f.get("IDS_ISNOVALUE"))}}}return aJ.join("/")}return this};var O=function(aP,aN,aI){var aM=-1,aL=-1;K=[[],[]],o=[[],[]];D=r=0;Y=R=0;var aH=[];ao=aP[0].length;var aS,x;for(var aJ=0;aJ<ao;aJ++){var aQ=[],aO=[];var aR=[];aS=0,x=0;aM=-1,aL=-1;for(var aK=0;aK<aP.length;aK++){if(j.isNoValue(aP[aK][aJ].val)){aP[aK][aJ].val=0;aP[aK][aJ].isNaN=true}else{if(aP[aK][aJ].val>=0){aS+=aP[aK][aJ].val;aM=aK}else{x+=aP[aK][aJ].val;aL=aK}}aQ.push(aP[aK][aJ])}K[0].push(aM);o[0].push(aL);if(D<aS){D=aS}if(r>x){r=x}aR.push(aQ);if(a.isExist(aN)){aS=0,x=0;aM=-1,aL=-1;for(aK=0;aK<aN.length;aK++){aM=0,aL=-1;if(j.isNoValue(aN[aK][aJ].val)){aN[aK][aJ].val=0;aN[aK][aJ].isNaN=true}else{if(aN[aK][aJ].val>=0){aS+=aN[aK][aJ].val;aM=aK}else{x+=aN[aK][aJ].val;aL=aK}}aO.push(aN[aK][aJ])}K[1].push(aM);o[1].push(aL);if(Y<aS){Y=aS}if(R>x){R=x}aR.push(aO)}aH.push(aR)}return aH};function E(){at.hoverline=U.styleManager.queryDefault(aG)}E();n=H.props(null);return aA};return d});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Mekko",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.mekko",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.mekko",name:"mekko",base:"sap.viz.modules.xy.bar.base",properties:{mode:{name:"mode",supportedValueType:"List",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set dispaly mode of mekko chart."},orientation:{name:"orientation",supportedValueType:"List",supportedValues:["vertical","horizontal"],defaultValue:"horizontal",description:"vertical or horizontal mekko chart."},},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.BarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/bar",name:"IDS_BARCHART",base:"riv/basehorizontalchart",modules:{root:{id:"sap.viz.modules.rootContainer",modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{modules:{plot:{id:"sap.viz.modules.bar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalMekkoChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Mekko",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/horizontal_mekko",name:"IDS_HORIZONTALMEKKOCHART",base:"viz/bar",modules:{root:{modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},yAxis:{id:"sap.viz.modules.axis",configure:{properties:{type:"category",position:"left",label:{hideStrategy:"greedy"}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{isIndependentMode:true,type:"category",position:"right",gridline:{visible:false},label:{hideStrategy:"greedy"}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{numberFormat:{isExported:false}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"mekko",orientation:"left"}}}}}},feeds:{secondaryValues:{min:1,max:1},primaryValues:{min:1,max:1},regionColor:{min:0,max:1,acceptMND:-1},axisLabels:{min:1,max:1,acceptMND:-1}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondCategoryScale"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.yAxis2",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageHorizontalMekkoChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalMekkoChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/100_horizontal_mekko",name:"IDS_PERCENTAGEHORIZONTALMEKKOCHART",base:"viz/horizontal_mekko",modules:{root:{modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"mekko",formatString:[["0.00%"],[""]]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",properties:{mode:"percentage"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{isPercentMode:true}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/column",name:"IDS_VERTICALBARCHART",base:"riv/baseverticalchart",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{}}},main:{modules:{plot:{id:"sap.viz.modules.verticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.MekkoChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Mekko",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/mekko",name:"IDS_MEKKOCHART",base:"viz/column",modules:{root:{modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",properties:{orientation:"vertical"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",properties:{position:"left"}}},xAxis:{id:"sap.viz.modules.axis",configure:{properties:{type:"category",position:"bottom",label:{hideStrategy:"greedy"}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{isIndependentMode:true,type:"category",position:"top",gridline:{visible:false},label:{hideStrategy:"greedy"}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{numberFormat:{isExported:false}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"mekko",orientation:"bottom"}}}}}},feeds:{secondaryValues:{min:1,max:1},primaryValues:{min:1,max:1},regionColor:{min:0,max:1,acceptMND:-1},axisLabels:{min:1,max:1,acceptMND:-1}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondCategoryScale"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.xAxis2",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageMekkoChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.MekkoChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/100_mekko",name:"IDS_PERCENTAGEMEKKOCHART",base:"viz/mekko",modules:{root:{modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],[""]]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",properties:{mode:"percentage"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{isPercentMode:true}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.horizontalboxplot",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,f,h,c,k,i,b,g,e,j){var d=function(D,S){var aw="v-hoverline";var O=null,ad=[],ax=[],ab=[],av=[],o=[],M=[],N=[],E=[],s=[],ar=null;var ai={"sap.viz.modules.horizontalboxplot.dimension":{key:"sap.viz.modules.horizontalboxplot.dimension",values:null}};var m,r,an=d3.scale.ordinal(),I=d3.scale.linear(),Z=d3.scale.ordinal(),A,ae,F,al=null,L=true,x={min:0,max:0},R=S.effectManager,Y="normal";var X={},J=new f("showTooltip","hideTooltip","initialized");var am={};var G={width:"1",color:"#000000"};var w={width:"0",midLineColor:"#000000"};var l=[],aj=[],U=[],W=[],Q=[],v=[],H=[];var n=["Maximum:","3rd Quartile:","Median:","1st Quartile:","Minimum:"],ac="No value";var V=function(){var az=[];for(var ay=0;ay<ab.length;ay++){az.push(ay)}an.domain(az).rangeBands([0,r]);Z.domain(ax).rangeBands([0,r]);if(!x||(x.min===0&&x.max===0)){I.domain([0,1]).range([0,m]).nice()}else{I.domain([x.min,x.max]).range([0,m]).nice()}k.perfect(I)};aq.dimensionData=function(ay){if(!arguments.length){return ai}ai=ay;return aq};function T(aB){if(a.isExist(aB)){length=aB.length;var ay=false;for(var aA=0;aA<length;aA++){if(aB[aA].length>0){if(!ay){x=u(aB[aA]);ay=true}else{var az=u(aB[aA]);if(az){if(az.min<x.min){x.min=az.min}if(az.max>x.max){x.max=az.max}}}}}}}function u(az){var ay={min:0,max:0};if(a.isExist(az)){az.sort(function(aB,aA){return aB.val-aA.val});ay={min:az[0].val,max:az[az.length-1].val}}return ay}function z(){l=[];aj=[];U=[];W=[];Q=[];v=[];H=[]}function B(){ad=[];ax=[];ab=[];av=[];o=[];M=[];N=[]}function ag(ay){return(ay&1)==0}function ah(ay,aD,az){var aC=az-aD+1;if(aC<=0){return -1}var aA;var aB=ay[aD+Math.floor((aC+1)/2)-1].ctx;if(ag(aC)){aA=(ay[aD+Math.floor((aC+1)/2)-1].val+ay[aD+Math.floor((aC+1)/2)].val)/2}else{aA=ay[aD+Math.floor((aC+1)/2)-1].val}return{ctx:aB,val:aA}}function ap(az){if(az&&az.length>0){var aA=az.length,aE={"Maximum:":null,"3rd Quartile:":null,"Median:":null,"1st Quartile:":null,"Minimum:":null};midLine=ah(az,0,aA-1);aE["Median:"]=midLine;var aI=az[Math.floor(aA/2)];az[Math.floor(aA/2)]=midLine;var aG=ah(az,0,Math.floor(aA/2));az[Math.floor(aA/2)]=aI;aI=az[Math.floor((aA-1)/2)];az[Math.floor((aA-1)/2)]=midLine;var aH=ah(az,Math.floor((aA-1)/2),aA-1);az[Math.floor((aA-1)/2)]=aI;aE["3rd Quartile:"]=aH;aE["1st Quartile:"]=aG;var aF=aH.val-aG.val;var ay=aG.val-1.5*aF;var aJ=aH.val+1.5*aF;var aD=0;while(az[aD].val<ay){aD++}lowWhisker=az[aD];aE["Minimum:"]=lowWhisker;if(lowWhisker){if(aG){if(aG.val!=lowWhisker.val){W.push({pair:[aG,lowWhisker],ctx:[aG.ctx,lowWhisker.ctx],val:[aG.val,lowWhisker.val]})}}}for(var aB=0;aB<aD;aB++){H.push(az[aB])}var aC=aA-1;while(az[aC].val>aJ){aC--}highWhisker=az[aC];aE["Maximum:"]=highWhisker;for(var aB=0;aB<aA-aC-1;aB++){H.push(az[aC+1+aB])}if(H.length>0){aE["outLiers(s)"]=H.length}if(highWhisker){if(aH){if(aH.val!=highWhisker.val){Q.push({pair:[highWhisker,aH],ctx:[highWhisker.ctx,aH.ctx],val:[highWhisker.val,aH.val]})}}}if(aG&&aH&&midLine){if(aG.val==aH.val){v.push({pair:[aG,aG],midLine:null,ctx:[aG.ctx],val:[aG.val]})}else{if(midLine.val==aH.val||midLine.val==aG.val){v.push({pair:[aH,aG],midLine:null,ctx:[aH.ctx,aG.ctx],val:[aH.val,aG.val]})}else{v.push({pair:[aH,midLine],midLine:midLine,ctx:[aH.ctx],val:[aH.val]});v.push({pair:[midLine,aG],midLine:midLine,ctx:[aG.ctx],val:[aG.val]})}}}N.push(aE)}}function aq(ay){j.drawBound(ay,m,r);ay.each(function(){boxNumber=1,boxGroupNumber=ab.length,F=8*(an.rangeBand())/(9*boxNumber+7);var az=O=d3.select(this);az.selectAll("g.v-box").remove();if(A==null){A=az.append("rect").attr("width",m).attr("height",an.rangeBand()-F/2).style("visibility","hidden").attr("fill",am.hoverline.fill).attr("class",aw)}else{A.attr("width",m).attr("height",an.rangeBand()-F/2).style("visibility","hidden")}var aA=az.selectAll("g.v-box").data(ab);aA.enter().append("g");aA.attr("class","v-box").each(function(aC,aM){if(aC.length==0){N.push({});return}aC=aC.sort(function(aW,aV){return aW.val-aV.val});var aR=aC.length,aP=aC[0],aQ=aC[aR-1];ap(aC);var aO=d3.select(this).selectAll("circle.outliers").data(H);aO.enter().append("circle");aO.attr("cy",function(aV){var aW=an(aM)+F;return aW}).attr("cx",function(aX,aW){var aV=I(aX.val);return aV}).attr("r","2").attr("stroke",R.register({drawingEffect:"normal",fillColor:G.color})).attr("stroke-width",G.width).attr("fill","none").attr("class","v-datapoint v-outliers");aO.exit().remove();var aT=d3.select(this).selectAll("rect.quartile").data(v);aT.enter().append("rect");aT.attr("y",function(aV){var aW=an(aM)+F/2;return aW}).attr("x",function(aX,aW){var aV=I(aX.pair[1].val);return aV}).attr("height",F).attr("width",function(aW,aV){var aY=0;var aX=aW.pair[0].val-aW.pair[1].val;if(aX==0){aY=1}else{aY=I(aW.pair[0].val)-I(aW.pair[1].val)}return aY}).attr("shape-rendering","crispEdges").attr("fill",function(aV){var aW={drawingEffect:Y,fillColor:s[aM%s.length],direction:"vertical"};return R.register(aW)}).attr("stroke-width",w.width).attr("class","v-datapoint v-quartile");if(v.length==2){var aJ=an(aM)+F/2;var aF=aJ+F;var aH=midLineXEnd=I(v[0].midLine.val);var aL=d3.select(this);aL.append("line").attr("x1",aH).attr("y1",aJ).attr("x2",midLineXEnd).attr("y2",aF).attr("stroke","#ffffff").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-midline")}aT.exit().remove();var aI=0,aK=0,aN=0,aS=0;var aB=0,aE=0,aD=0,aG=0;var aU=d3.select(this).selectAll("rect.v-rectlowwhisker").data(W);aU.enter().append("rect");aU.attr("y",function(aV){var aW=an(aM)+F/2;aE=aG=aW+F/2;aK=aW;aS=aW+F;return aW}).attr("x",function(aW){var aV=I(aW.pair[1].val);aB=aV;aI=aN=aV;return aV}).attr("height",F).attr("width",function(aV){var aX=I(aV.pair[0].val)-I(aV.pair[1].val);aD=I(aV.pair[1].val)+aX;var aW=d3.select(this.parentNode);aW.append("line").attr("x1",aI).attr("y1",aK).attr("x2",aN).attr("y2",aS).attr("stroke",function(aY){var aZ={drawingEffect:"normal",fillColor:s[aM%s.length]};return R.register(aZ)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-lineverticallowwhisker");var aW=d3.select(this.parentNode);aW.append("line").attr("x1",aB).attr("y1",aE).attr("x2",aD).attr("y2",aG).attr("stroke",R.register({drawingEffect:"normal",fillColor:"#000000"})).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-linehorizontallowwhisker v-innerwhisker");return aX}).attr("shape-rendering","crispEdges").attr("fill-opacity","0").attr("stroke-width","0").attr("class","v-datapoint v-rectlowwhisker");aU.exit().remove();var aI=0,aK=0,aN=0,aS=0;var aB=0,aE=0,aD=0,aG=0;var aU=d3.select(this).selectAll("rect.v-recthighwhisker").data(Q);aU.enter().append("rect");aU.attr("y",function(aV){var aW=an(aM)+F/2;aE=aG=aW+F/2;aK=aW;aS=aW+F;return aW}).attr("x",function(aW,aX){var aV=I(aW.pair[1].val);aB=aV;aI=aN=I(aW.pair[0].val);return aV}).attr("height",F).attr("width",function(aV,aX){var aY=I(aV.pair[0].val)-I(aV.pair[1].val);aD=I(aV.pair[1].val)+aY;var aW=d3.select(this.parentNode);aW.append("line").attr("x1",aI).attr("y1",aK).attr("x2",aN).attr("y2",aS).attr("stroke",function(aZ){var a0={drawingEffect:"normal",fillColor:s[aM%s.length]};return R.register(a0)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-lineverticalhighwhisker");var aW=d3.select(this.parentNode);aW.append("line").attr("x1",aB).attr("y1",aE).attr("x2",aD).attr("y2",aG).attr("stroke",R.register({drawingEffect:"normal",fillColor:"#000000"})).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-linehorizontalhighwhisker v-innerwhisker");return aY}).attr("shape-rendering","crispEdges").attr("fill-opacity","0").attr("stroke-width","0").attr("class","v-datapoint v-recthighwhisker");aU.exit().remove();z()});J.initialized();aA.exit().remove()});return aq}aq.width=function(ay){if(!arguments.length){return m}m=ay;if(a.isExist(m)&&a.isExist(r)&&a.isExist(ab)){V()}return aq};aq.height=function(ay){if(!arguments.length){return r}r=ay;if(a.isExist(m)&&a.isExist(r)&&a.isExist(ab)){V()}return aq};var au=function(ay){if(ay===null||ay===undefined){return defaultString}else{return ay}};function aa(aC){var ay={body:[],footer:[]},aD=0;if(o){var aB={name:null,val:[]};aD=aC%o.length;aB.name=o[aD].name;if(o[aD].label!=null&&o[aD].shape!=null&&s[aD]!=null){var aF={shape:null,color:null,label:null,value:null};aF.shape=o[aD].shape;aF.color=s[aD];aF.label=o[aD].label;aB.val.push(aF)}if(N){if(N[aC]){var aG=false;for(var aA in N[aC]){var aF={shape:null,color:null,label:null,value:null};aG=true;aF.label=aA;if(N[aC][aA]){if(aA=="outLiers(s)"){aF.value=N[aC][aA]}else{aF.value=N[aC][aA].val}}aB.val.push(aF)}if(!aG){for(var az=0;az<n.length;az++){var aF={};aF.label=n[az];aF.value=ac;aF.color=null;aF.shape=null;aB.val.push(aF)}}}}ay.body.push(aB)}if(M){aD=Math.floor(aC/o.length);for(var aA=0;aA<M.length;aA++){if(M[aA].rows.length>0){var aE={label:null,value:null};aE.label=M[aA].col;aE.value=M[aA].rows[aD];ay.footer.push(aE)}}}return ay}function ak(){if(ai){for(var aC in ai){M=ai[aC].values}}if(av){var aA=av.values;if(aA.length>1){if(aA[0].type=="MND"){for(var aE=0;aE<aA[0].rows.length;aE++){for(var ay=0;ay<aA[1].rows.length;ay++){var aD={name:null,shape:null,color:null,label:null};aD.name=aA[0].rows[aE];var aB=[];for(var aF=1;aF<aA.length;aF++){aB.push(aA[aF].rows[ay])}aD.label=aB;o.push(aD)}}}else{if(aA[aA.length-1].type=="MND"){for(var ay=0;ay<aA[0].rows.length;ay++){var aB=[];for(var aF=0;aF<aA.length-1;aF++){aB.push(aA[aF].rows[ay])}for(var aE=0;aE<aA[aA.length-1].rows.length;aE++){var aD={name:null,shape:null,color:null,label:null};aD.label=aB;aD.name=aA[aA.length-1].rows[aE];o.push(aD)}}}}}else{for(var ay=0;ay<aA[0].rows.length;ay++){var aD={name:null,shape:null,color:null,label:null};aD.name=aA[0].rows[ay];o.push(aD)}}}for(var az=0;az<o.length;az++){o[az].shape="squareWithRadius"}}function at(aB,aD,aE){if(aB){var aC=aB.getAttribute("class");if(aC.indexOf("v-recthighwhisker")==-1&&aC.indexOf("v-rectlowwhisker")==-1&&aC.indexOf("v-linehorizontalhighwhisker")==-1&&aC.indexOf("v-lineverticalhighwhisker")==-1&&aC.indexOf("v-linehorizontallowwhisker")==-1&&aC.indexOf("v-lineverticallowwhisker")==-1){aB.setAttribute(aD,aE)}else{if(aC.indexOf("v-recthighwhisker")!=-1){var aA=aB.parentNode.querySelectorAll("line");if(aA){for(var az=0,aF=aA.length;az<aF;az++){var ay=aA[az].getAttribute("class");if(ay.indexOf("v-linehorizontalhighwhisker")!=-1||ay.indexOf("v-lineverticalhighwhisker")!=-1){aA[az].setAttribute(aD,aE)}}}}else{if(aC.indexOf("v-rectlowwhisker")!=-1){var aA=aB.parentNode.querySelectorAll("line");if(aA){for(var az=0,aF=aA.length;az<aF;az++){var ay=aA[az].getAttribute("class");if(ay.indexOf("v-linehorizontallowwhisker")!=-1||ay.indexOf("v-lineverticallowwhisker")!=-1){aA[az].setAttribute(aD,aE)}}}}}}}}aq.parent=function(){return O};aq.highlight=function(ay){if(ay instanceof Array){for(var az=0,aB=ay.length;az<aB;az++){var aA=ay[az];at(aA,"opacity",1)}}else{at(ay,"opacity",1)}};aq.unhighlight=function(az){if(az instanceof Array){for(var aA=0,ay=az.length;aA<ay;aA++){var aB=az[aA];at(aB,"opacity",0.4)}}else{at(az,"opacity",0.4)}};aq.clear=function(ay){if(ay==null){O.selectAll(".v-datapoint").attr("opacity",1);O.selectAll(".v-lineverticallowwhisker").attr("opacity",1);O.selectAll(".v-lineverticalhighwhisker").attr("opacity",1);O.selectAll(".v-linehorizontallowwhisker").attr("opacity",1);O.selectAll(".v-linehorizontalhighwhisker").attr("opacity",1)}else{O.selectAll(".v-datapoint").attr("opacity",0.4);O.selectAll(".v-lineverticallowwhisker").attr("opacity",0.4);O.selectAll(".v-lineverticalhighwhisker").attr("opacity",0.4);O.selectAll(".v-linehorizontallowwhisker").attr("opacity",0.4);O.selectAll(".v-linehorizontalhighwhisker").attr("opacity",0.4)}O.selectAll(".v-recthighwhisker").attr("opacity",0);O.selectAll(".v-rectlowwhisker").attr("opacity",0)};aq.hoverOnPoint=function(ay){var aB=ay.x,az=ay.y;var aC=-1;while(aC<ab.length){if(Math.abs(az-an.rangeBand()*aC-0.5*an.rangeBand())<=0.5*an.rangeBand()){break}aC++}if(aC>(ab.length-1)||aC<0){A.style("visibility","hidden");return}A.attr("y",an.rangeBand()*aC+F/4).style("visibility","visible");if(al!==aC){if(L){al=aC;var aA=O[0][0].getTransformToElement(O[0][0].ownerSVGElement);var aE=aA.f;var aD=aa(aC);aD.point={x:d3.event.layerX,y:an.rangeBand()*aC+0.5*an.rangeBand()+aE};aD.plotArea={x:aA.e,y:aA.f,width:m,height:r};J.showTooltip(b.formatTooltipData(aD))}}};aq.blurOut=function(){A.style("visibility","hidden");al=null;if(L){J.hideTooltip()}};function ao(aB,aD,az,ay,aA){if(aB&&aD<=az&&az<aB.length){var aC=subEnd=pos=aD;while(pos<=az){while(((pos+1)<=az)&&(aB[pos+1].val==aB[pos].val)){subEnd++;pos++}ay.push({val:aB[aC],parentGroupIndex:aA,start:aC,end:subEnd});pos++;aC=subEnd=pos}}}function K(aF){var aE=[];if(aF){var aB=ad.length;var aG=aB>0?ad[aB-1].val:null;if(aG){for(var aC=0,aD=aG.length;aC<aD;aC++){var aA=aG[aC];var ay=aA.start;var az=aA.end;ao(aF,ay,az,aE,aC)}}else{ao(aF,0,aF.length-1,aE,null)}}return aE}function t(aA){if(aA){var aC=aA.getAnalysisAxisDataByIdx(0);av=aA.getAnalysisAxisDataByIdx(1);if(aC){var ay=aC.values.length;if(ay==1){ad.push({col:aC.values[0].col.val,val:[]})}else{for(var az=0;az<ay-1;az++){var aB=aC.values[az].rows;ad.push({col:aC.values[az].col.val,val:K(aB)})}}}}}function P(aD,az){var ay=ad.length,aB=0,aA=0,aC=ad[ay-1].val;while(aC[aA].start!=aD){aA++}while(aC[aA].end!=az){aB++;aA++}aB++;return aB}function q(){if(ad){var aJ=ad.length,aA=null;aA=ad[aJ-1].val;if(aA.length==0){ax.push(0);ax.push(1)}else{for(var aH=0,az=aA.length;aH<az;aH++){ax.push(aH)}}if(aA.length==0){ai["sap.viz.modules.horizontalboxplot.dimension"].values=[{col:{val:ad[aJ-1].col},rows:[]}]}else{var aL=[];for(var aF=0;aF<aJ;aF++){var aG={col:{val:""},rows:[]};aG.col.val=ad[aF].col;var aE=ad[aF].val;for(var aD=0,aK=aE.length;aD<aK;aD++){var ay=aE[aD].start,aC=aE[aD].end,aI=P(ay,aC);for(var aB=0;aB<aI;aB++){aG.rows.push({val:au(aE[aD].val.val),info:aE[aD].val.info})}}aL.push(aG)}ai["sap.viz.modules.horizontalboxplot.dimension"].values=aL}}}function p(az){s=[];if(E.length>0){for(var ay=0;ay<az;++ay){s.push(E[ay%E.length])}}}function af(){L=X.tooltip.enabled;E=X.colorPalette;Y=X.drawingEffect}aq.data=function(aI){if(!arguments.length){return ar}B();af();ar=aI;var aF=h(ar);t(ar);dataMG1=aF.MG1;var aH=dataMG1.length;var aA=ad[ad.length-1].val;if(aA.length!=0){for(var aG=0,az=aA.length;aG<az;aG++){var ay=aA[aG].start,aD=aA[aG].end;for(var aE=0;aE<aH;aE++){var aK=[],aC=ay,aJ=aD;for(;aC<=aJ;aC++){if(!i.isNoValue(dataMG1[aE][aC].val)){aK.push(dataMG1[aE][aC])}}ab.push(aK)}}}else{for(var aE=0;aE<aH;aE++){var aK=[];for(var aB=0;aB<dataMG1[aE].length;aB++){if(!i.isNoValue(dataMG1[aE][aB].val)){aK.push(dataMG1[aE][aB])}}ab.push(aK)}}T(ab);q();if(a.isExist(m)&&a.isExist(r)){V()}ak();p(o.length);return aq};aq.primaryAxisTitle=function(az){if(!arguments.length){var aC=ar.getMeasureValuesGroupDataByIdx(0),aB=[];if(aC){for(var aA=0,ay=aC.values.length;aA<ay;aA++){if(aC.values[aA].col!==null&&aC.values[aA].col!==undefined){aB.push(aC.values[aA].col)}else{aB.push(e.get("IDS_ISNOVALUE"))}}}return aB.join("/")}return this};aq.secondAxisTitle=function(az){if(!arguments.length){var aC=ar.getMeasureValuesGroupDataByIdx(1),aB=[];if(aC){for(var aA=0,ay=aC.values.length;aA<ay;aA++){if(aC.values[aA].col!==null&&aC.values[aA].col!==undefined){aB.push(aC.values[aA].col)}else{aB.push(e.get("IDS_ISNOVALUE"))}}}return aB.join("/")}return this};aq.properties=function(ay){if(!arguments.length){return X}g.extend(true,X,ay);af();p(o.length);return aq};aq.categoryScale=function(ay){if(!arguments.length){return Z}Z=ay;return aq};aq.primaryScale=function(ay){if(!arguments.length){return I}I=ay;return aq};aq.colorPalette=function(ay){if(!arguments.length){return E}E=ay;return aq};aq.dispatch=function(ay){if(!arguments.length){return J}J=ay;return this};function C(){am.hoverline=S.styleManager.queryDefault(aw)}C();X=D.props(null);return aq};return d});sap.riv.module({qname:"sap.viz.modules.manifests.xy.HorizontalBoxplot",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.horizontalboxplot",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.horizontalboxplot",name:"horizontal boxplot",base:"sap.viz.modules.xy.base",properties:{primaryValuesColorPalette:null,secondaryValuesColorPalette:null,tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."}},feeds:{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},css:{".v-hoverline":{description:"Define style for hover line color.",value:{fill:"#cccccc",}}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalBoxplotChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalBoxplot",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/horizontal_boxplot",name:"IDS_HORIZONTALBOXPLOTCHART",base:"riv/basehorizontalchart",modules:{root:{modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"horizontalboxplot",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{modules:{dataLabel:null,yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true}}},plot:{id:"sap.viz.modules.horizontalboxplot",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.verticalboxplot",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,f,h,c,k,i,e,b,g,j){var d=function(D,R){var aw="v-hoverline";var N=null,ac=[],ax=[],aa=[],av=[],o=[],L=[],M=[],E=[],s=[],ar=null;var ah={"sap.viz.modules.verticalboxplot.dimension":{key:"sap.viz.modules.verticalboxplot.dimension",values:null}};var m,r,H=d3.scale.ordinal(),am=d3.scale.linear(),ao=d3.scale.ordinal(),A,ad,ak=null,K=true,x={min:0,max:0},Q=R.effectManager,X="normal",Y=e.get("IDS_ISNOVALUE");var W={},I=new f("showTooltip","hideTooltip","initialized");var al={};var F={width:"1",color:"#000000"};var w={width:"0",midLineColor:"#000000"};var l=[],ai=[],T=[],V=[],P=[],v=[],G=[];var n=["Maximum:","3rd Quartile:","Median:","1st Quartile:","Minimum:"],ab="No value";var U=function(){var az=[];for(var ay=0;ay<aa.length;ay++){az.push(ay)}H.domain(az).rangeBands([0,m]);ao.domain(ax).rangeBands([0,m]);if(!x||(x.min===0&&x.max===0)){am.domain([0,1]).range([r,0]).nice()}else{am.domain([x.min,x.max]).range([r,0]).nice()}k.perfect(am)};aq.dimensionData=function(ay){if(!arguments.length){return ah}ah=ay;return aq};function S(aB){if(a.isExist(aB)){length=aB.length;var ay=false;for(var aA=0;aA<length;aA++){if(aB[aA].length>0){if(!ay){x=u(aB[aA]);ay=true}else{var az=u(aB[aA]);if(az){if(az.min<x.min){x.min=az.min}if(az.max>x.max){x.max=az.max}}}}}}}function u(az){var ay={min:0,max:0};if(a.isExist(az)){az.sort(function(aB,aA){return aB.val-aA.val});ay={min:az[0].val,max:az[az.length-1].val}}return ay}function z(){l=[];ai=[];T=[];V=[];P=[];v=[];G=[]}function B(){ac=[];ax=[];aa=[];av=[];o=[];L=[];M=[]}function af(ay){return(ay&1)==0}function ag(ay,aD,az){var aC=az-aD+1;if(aC<=0){return -1}var aA;var aB=ay[aD+Math.floor((aC+1)/2)-1].ctx;if(af(aC)){aA=(ay[aD+Math.floor((aC+1)/2)-1].val+ay[aD+Math.floor((aC+1)/2)].val)/2}else{aA=ay[aD+Math.floor((aC+1)/2)-1].val}return{ctx:aB,val:aA}}function ap(az){if(az&&az.length>0){var aA=az.length,aE={"Maximum:":null,"3rd Quartile:":null,"Median:":null,"1st Quartile:":null,"Minimum:":null};midLine=ag(az,0,aA-1);aE["Median:"]=midLine;var aI=az[Math.floor(aA/2)];az[Math.floor(aA/2)]=midLine;var aG=ag(az,0,Math.floor(aA/2));az[Math.floor(aA/2)]=aI;aI=az[Math.floor((aA-1)/2)];az[Math.floor((aA-1)/2)]=midLine;var aH=ag(az,Math.floor((aA-1)/2),aA-1);az[Math.floor((aA-1)/2)]=aI;aE["3rd Quartile:"]=aH;aE["1st Quartile:"]=aG;var aF=aH.val-aG.val;var ay=aG.val-1.5*aF;var aJ=aH.val+1.5*aF;var aD=0;while(az[aD].val<ay){aD++}lowWhisker=az[aD];aE["Minimum:"]=lowWhisker;if(lowWhisker){if(aG){if(aG.val!=lowWhisker.val){V.push({pair:[aG,lowWhisker],ctx:[aG.ctx,lowWhisker.ctx],val:[aG.val,lowWhisker.val]})}}}for(var aB=0;aB<aD;aB++){G.push(az[aB])}var aC=aA-1;while(az[aC].val>aJ){aC--}highWhisker=az[aC];aE["Maximum:"]=highWhisker;for(var aB=0;aB<aA-aC-1;aB++){G.push(az[aC+1+aB])}if(G.length>0){aE["outLiers(s)"]=G.length}if(highWhisker){if(aH){if(aH.val!=highWhisker.val){P.push({pair:[highWhisker,aH],ctx:[highWhisker.ctx,aH.ctx],val:[highWhisker.val,aH.val]})}}}if(aG&&aH&&midLine){if(aG.val==aH.val){v.push({pair:[aG,aG],midLine:null,ctx:[aG.ctx],val:[aG.val]})}else{if(midLine.val==aH.val||midLine.val==aG.val){v.push({pair:[aH,aG],midLine:null,ctx:[aH.ctx,aG.ctx],val:[aH.val,aG.val]})}else{v.push({pair:[aH,midLine],midLine:midLine,ctx:[aH.ctx],val:[aH.val]});v.push({pair:[midLine,aG],midLine:midLine,ctx:[aG.ctx],val:[aG.val]})}}}M.push(aE)}}function aq(ay){ay.each(function(){j.drawBound(ay,m,r);boxNumber=1,boxGroupNumber=aa.length,ad=8*(H.rangeBand())/(9*boxNumber+7);var az=N=d3.select(this);az.selectAll("g.v-box").remove();if(A==null){A=az.append("rect").attr("width",H.rangeBand()-ad/2).attr("height",r).style("visibility","hidden").attr("fill",al.hoverline.fill).attr("class",aw)}else{A.attr("width",H.rangeBand()-ad/2).attr("height",r).style("visibility","hidden")}var aA=az.selectAll("g.v-box").data(aa);aA.enter().append("g");aA.attr("class","v-box").each(function(aC,aM){if(aC.length==0){M.push({});return}aC=aC.sort(function(aW,aV){return aW.val-aV.val});var aR=aC.length,aP=aC[0],aQ=aC[aR-1];ap(aC);var aO=d3.select(this).selectAll("circle.outliers").data(G);aO.enter().append("circle");aO.attr("cx",function(aW){var aV=H(aM)+ad;return aV}).attr("cy",function(aW,aV){var aX=am(aW.val);return aX}).attr("r","2").attr("stroke",Q.register({drawingEffect:"normal",fillColor:F.color})).attr("stroke-width",F.width).attr("fill","none").attr("class","v-datapoint v-outliers");aO.exit().remove();var aT=d3.select(this).selectAll("rect.quartile").data(v);aT.enter().append("rect");aT.attr("x",function(aW){var aV=H(aM)+ad/2;return aV}).attr("y",function(aW,aV){var aX=am(aW.pair[0].val);return aX}).attr("width",ad).attr("height",function(aX,aW){var aV=0;var aY=aX.pair[1].val-aX.pair[0].val;if(aY==0){aV=1}else{aV=am(aX.pair[1].val)-am(aX.pair[0].val)}return aV}).attr("shape-rendering","crispEdges").attr("fill",function(aV){var aW={drawingEffect:X,fillColor:s[aM%s.length],direction:"horizontal"};return Q.register(aW)}).attr("stroke-width",w.width).attr("class","v-datapoint v-quartile");if(v.length==2){var aH=H(aM)+ad/2;var aD=aH+ad;var aJ=midLineYEnd=am(v[0].midLine.val);var aL=d3.select(this);aL.append("line").attr("x1",aH).attr("y1",aJ).attr("x2",aD).attr("y2",midLineYEnd).attr("stroke","#ffffff").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-midline")}aT.exit().remove();var aI=0,aK=0,aN=0,aS=0;var aB=0,aF=0,aE=0,aG=0;var aU=d3.select(this).selectAll("rect.v-rectlowwhisker").data(V);aU.enter().append("rect");aU.attr("x",function(aW){var aV=H(aM)+ad/2;aB=aV;aE=aV+ad;aI=aN=aV+ad/2;return aV}).attr("y",function(aV){var aW=aV.pair;var aX=am(aW[0].val);aK=aX;aF=aG=am(aW[1].val);return aX}).attr("width",ad).attr("height",function(aW){var aV=am(aW.pair[1].val)-am(aW.pair[0].val);aS=am(aW.pair[1].val);var aX=d3.select(this.parentNode);aX.append("line").attr("x1",aI).attr("y1",aK).attr("x2",aN).attr("y2",aS).attr("stroke",Q.register({drawingEffect:"normal",fillColor:"#000000"})).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-lineverticallowwhisker v-innerwhisker");var aX=d3.select(this.parentNode);aX.append("line").attr("x1",aB).attr("y1",aF).attr("x2",aE).attr("y2",aG).attr("stroke",function(aY){var aZ={drawingEffect:"normal",fillColor:s[aM%s.length]};return Q.register(aZ)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-linehorizontallowwhisker");return aV}).attr("shape-rendering","crispEdges").attr("fill-opacity","0").attr("stroke-width","0").attr("class","v-datapoint v-rectlowwhisker");aU.exit().remove();var aI=0,aK=0,aN=0,aS=0;var aB=0,aF=0,aE=0,aG=0;var aU=d3.select(this).selectAll("rect.v-recthighwhisker").data(P);aU.enter().append("rect");aU.attr("x",function(aW){var aV=H(aM)+ad/2;aB=aV;aE=aV+ad;aI=aN=aV+ad/2;return aV}).attr("y",function(aV,aW){var aX=aV.pair;var aY=am(aX[0].val);aK=aY;aF=aG=am(aX[0].val);return aY}).attr("width",ad).attr("height",function(aY,aX){var aV=am(aY.pair[1].val)-am(aY.pair[0].val);aS=aK+aV;var aW=d3.select(this.parentNode);aW.append("line").attr("x1",aI).attr("y1",aK).attr("x2",aN).attr("y2",aS).attr("stroke",Q.register({drawingEffect:"normal",fillColor:"#000000"})).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-lineverticalhighwhisker v-innerwhisker");var aW=d3.select(this.parentNode);aW.append("line").attr("x1",aB).attr("y1",aF).attr("x2",aE).attr("y2",aG).attr("stroke",function(aZ){var a0={drawingEffect:"normal",fillColor:s[aM%s.length]};return Q.register(a0)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-linehorizontalhighwhisker");return aV}).attr("shape-rendering","crispEdges").attr("fill-opacity","0").attr("stroke-width","0").attr("class","v-datapoint v-recthighwhisker");aU.exit().remove();z()});I.initialized();aA.exit().remove()});return aq}aq.width=function(ay){if(!arguments.length){return m}m=ay;if(a.isExist(m)&&a.isExist(r)&&a.isExist(aa)){U()}return aq};aq.height=function(ay){if(!arguments.length){return r}r=ay;if(a.isExist(m)&&a.isExist(r)&&a.isExist(aa)){U()}return aq};var au=function(ay){if(ay===null||ay===undefined){return Y}else{return ay}};function Z(aC){var ay={body:[],footer:[]},aD=0;if(o){var aB={name:null,val:[]};aD=aC%o.length;aB.name=o[aD].name;if(o[aD].label!=null&&o[aD].shape!=null&&s[aD]!=null){var aF={shape:null,color:null,label:null,value:null};aF.shape=o[aD].shape;aF.color=s[aD];aF.label=o[aD].label;aB.val.push(aF)}if(M){if(M[aC]){var aG=false;for(var aA in M[aC]){var aF={shape:null,color:null,label:null,value:null};aG=true;aF.label=aA;if(M[aC][aA]){if(aA=="outLiers(s)"){aF.value=M[aC][aA]}else{aF.value=M[aC][aA].val}}aB.val.push(aF)}if(!aG){for(var az=0;az<n.length;az++){var aF={};aF.label=n[az];aF.value=ab;aF.color=null;aF.shape=null;aB.val.push(aF)}}}}ay.body.push(aB)}if(L){aD=Math.floor(aC/o.length);for(var aA=0;aA<L.length;aA++){if(L[aA].rows.length>0){var aE={label:null,value:null};aE.label=L[aA].col;aE.value=L[aA].rows[aD];ay.footer.push(aE)}}}return ay}function aj(){if(ah){for(var aC in ah){L=ah[aC].values}}if(av){var aA=av.values;if(aA.length>1){if(aA[0].type=="MND"){for(var aE=0;aE<aA[0].rows.length;aE++){for(var ay=0;ay<aA[1].rows.length;ay++){var aD={name:null,shape:null,color:null,label:null};aD.name=aA[0].rows[aE];var aB=[];for(var aF=1;aF<aA.length;aF++){aB.push(aA[aF].rows[ay])}aD.label=aB;o.push(aD)}}}else{if(aA[aA.length-1].type=="MND"){for(var ay=0;ay<aA[0].rows.length;ay++){var aB=[];for(var aF=0;aF<aA.length-1;aF++){aB.push(aA[aF].rows[ay])}for(var aE=0;aE<aA[aA.length-1].rows.length;aE++){var aD={name:null,shape:null,color:null,label:null};aD.label=aB;aD.name=aA[aA.length-1].rows[aE];o.push(aD)}}}}}else{for(var ay=0;ay<aA[0].rows.length;ay++){var aD={name:null,shape:null,color:null,label:null};aD.name=aA[0].rows[ay];o.push(aD)}}}for(var az=0;az<o.length;az++){o[az].shape="squareWithRadius"}}function at(aB,aD,aE){if(aB){var aC=aB.getAttribute("class");if(aC.indexOf("v-recthighwhisker")==-1&&aC.indexOf("v-rectlowwhisker")==-1&&aC.indexOf("v-linehorizontalhighwhisker")==-1&&aC.indexOf("v-lineverticalhighwhisker")==-1&&aC.indexOf("v-linehorizontallowwhisker")==-1&&aC.indexOf("v-lineverticallowwhisker")==-1){aB.setAttribute(aD,aE)}else{if(aC.indexOf("v-recthighwhisker")!=-1){var aA=aB.parentNode.querySelectorAll("line");if(aA){for(var az=0,aF=aA.length;az<aF;az++){var ay=aA[az].getAttribute("class");if(ay.indexOf("v-linehorizontalhighwhisker")!=-1||ay.indexOf("v-lineverticalhighwhisker")!=-1){aA[az].setAttribute(aD,aE)}}}}else{if(aC.indexOf("v-rectlowwhisker")!=-1){var aA=aB.parentNode.querySelectorAll("line");if(aA){for(var az=0,aF=aA.length;az<aF;az++){var ay=aA[az].getAttribute("class");if(ay.indexOf("v-linehorizontallowwhisker")!=-1||ay.indexOf("v-lineverticallowwhisker")!=-1){aA[az].setAttribute(aD,aE)}}}}}}}}aq.parent=function(){return N};aq.highlight=function(ay){if(ay instanceof Array){for(var az=0,aB=ay.length;az<aB;az++){var aA=ay[az];at(aA,"opacity",1)}}else{at(ay,"opacity",1)}};aq.unhighlight=function(az){if(az instanceof Array){for(var aA=0,ay=az.length;aA<ay;aA++){var aB=az[aA];at(aB,"opacity",0.4)}}else{at(az,"opacity",0.4)}};aq.clear=function(ay){if(ay==null){N.selectAll(".v-datapoint").attr("opacity",1);N.selectAll(".v-lineverticallowwhisker").attr("opacity",1);N.selectAll(".v-lineverticalhighwhisker").attr("opacity",1);N.selectAll(".v-linehorizontallowwhisker").attr("opacity",1);N.selectAll(".v-linehorizontalhighwhisker").attr("opacity",1)}else{N.selectAll(".v-datapoint").attr("opacity",0.4);N.selectAll(".v-lineverticallowwhisker").attr("opacity",0.4);N.selectAll(".v-lineverticalhighwhisker").attr("opacity",0.4);N.selectAll(".v-linehorizontallowwhisker").attr("opacity",0.4);N.selectAll(".v-linehorizontalhighwhisker").attr("opacity",0.4)}N.selectAll(".v-recthighwhisker").attr("opacity",0);N.selectAll(".v-rectlowwhisker").attr("opacity",0)};aq.hoverOnPoint=function(ay){var aB=ay.x,az=ay.y;var aC=-1;while(aC<aa.length){if(Math.abs(aB-H.rangeBand()*aC-0.5*H.rangeBand())<=0.5*H.rangeBand()){break}aC++}if(aC>(aa.length-1)||aC<0){A.style("visibility","hidden");return}A.attr("x",H.rangeBand()*aC+ad/4).style("visibility","visible");if(ak!==aC){if(K){ak=aC;var aA=N[0][0].getTransformToElement(N[0][0].ownerSVGElement);var aE=aA.e;var aD=Z(aC);aD.point={x:H.rangeBand()*aC+0.5*H.rangeBand()+aE,y:d3.event.layerY};aD.plotArea={x:aA.e,y:aA.f,width:m,height:r};I.showTooltip(b.formatTooltipData(aD))}}};aq.blurOut=function(){A.style("visibility","hidden");ak=null;if(K){I.hideTooltip()}};function an(aB,aD,az,ay,aA){if(aB&&aD<=az&&az<aB.length){var aC=subEnd=pos=aD;while(pos<=az){while(((pos+1)<=az)&&(aB[pos+1].val==aB[pos].val)){subEnd++;pos++}ay.push({val:aB[aC],parentGroupIndex:aA,start:aC,end:subEnd});pos++;aC=subEnd=pos}}}function J(aF){var aE=[];if(aF){var aB=ac.length;var aG=aB>0?ac[aB-1].val:null;if(aG){for(var aC=0,aD=aG.length;aC<aD;aC++){var aA=aG[aC];var ay=aA.start;var az=aA.end;an(aF,ay,az,aE,aC)}}else{an(aF,0,aF.length-1,aE,null)}}return aE}function t(aA){if(aA){var aC=aA.getAnalysisAxisDataByIdx(0);av=aA.getAnalysisAxisDataByIdx(1);if(aC){var ay=aC.values.length;if(ay==1){ac.push({col:aC.values[0].col.val,val:[]})}else{for(var az=0;az<ay-1;az++){var aB=aC.values[az].rows;ac.push({col:aC.values[az].col.val,val:J(aB)})}}}}}function O(aD,az){var ay=ac.length,aB=0,aA=0,aC=ac[ay-1].val;while(aC[aA].start!=aD){aA++}while(aC[aA].end!=az){aB++;aA++}aB++;return aB}function q(){if(ac){var aJ=ac.length,aA=null;aA=ac[aJ-1].val;if(aA.length==0){ax.push(0);ax.push(1)}else{for(var aH=0,az=aA.length;aH<az;aH++){ax.push(aH)}}if(aA.length==0){ah["sap.viz.modules.verticalboxplot.dimension"].values=[{col:{val:ac[aJ-1].col},rows:[]}]}else{var aL=[];for(var aF=0;aF<aJ;aF++){var aG={col:{val:""},rows:[]};aG.col.val=ac[aF].col;var aE=ac[aF].val;for(var aD=0,aK=aE.length;aD<aK;aD++){var ay=aE[aD].start,aC=aE[aD].end,aI=O(ay,aC);for(var aB=0;aB<aI;aB++){aG.rows.push({val:au(aE[aD].val.val),info:aE[aD].val.info})}}aL.push(aG)}ah["sap.viz.modules.verticalboxplot.dimension"].values=aL}}}function p(az){s=[];if(E.length>0){for(var ay=0;ay<az;++ay){s.push(E[ay%E.length])}}}function ae(){K=W.tooltip.enabled;E=W.colorPalette;X=W.drawingEffect}aq.data=function(aI){if(!arguments.length){return ar}B();ae();ar=aI;var aF=h(ar);t(ar);dataMG1=aF.MG1;var aH=dataMG1.length;var aA=ac[ac.length-1].val;if(aA.length!=0){for(var aG=0,az=aA.length;aG<az;aG++){var ay=aA[aG].start,aD=aA[aG].end;for(var aE=0;aE<aH;aE++){var aK=[],aC=ay,aJ=aD;for(;aC<=aJ;aC++){if(!i.isNoValue(dataMG1[aE][aC].val)){aK.push(dataMG1[aE][aC])}}aa.push(aK)}}}else{for(var aE=0;aE<aH;aE++){var aK=[];for(var aB=0;aB<dataMG1[aE].length;aB++){if(!i.isNoValue(dataMG1[aE][aB].val)){aK.push(dataMG1[aE][aB])}}aa.push(aK)}}S(aa);q();if(a.isExist(m)&&a.isExist(r)){U()}aj();p(o.length);return aq};aq.primaryAxisTitle=function(az){if(!arguments.length){var aC=ar.getMeasureValuesGroupDataByIdx(0),aB=[];if(aC){for(var aA=0,ay=aC.values.length;aA<ay;aA++){if(aC.values[aA].col!==null&&aC.values[aA].col!==undefined){aB.push(aC.values[aA].col)}else{aB.push(e.get("IDS_ISNOVALUE"))}}}return aB.join("/")}return this};aq.secondAxisTitle=function(az){if(!arguments.length){var aC=ar.getMeasureValuesGroupDataByIdx(1),aB=[];if(aC){for(var aA=0,ay=aC.values.length;aA<ay;aA++){if(aC.values[aA].col!==null&&aC.values[aA].col!==undefined){aB.push(aC.values[aA].col)}else{aB.push(e.get("IDS_ISNOVALUE"))}}}return aB.join("/")}return this};aq.properties=function(ay){if(!arguments.length){return W}g.extend(true,W,ay);ae();p(o.length);return aq};aq.categoryScale=function(ay){if(!arguments.length){return ao}ao=ay;return aq};aq.primaryScale=function(ay){if(!arguments.length){return am}am=ay;return aq};aq.colorPalette=function(ay){if(!arguments.length){return E}E=ay;return aq};aq.dispatch=function(ay){if(!arguments.length){return I}I=ay;return this};function C(){al.hoverline=R.styleManager.queryDefault(aw)}C();W=D.props(null);return aq};return d});sap.riv.module({qname:"sap.viz.modules.manifests.xy.VerticalBoxplot",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.verticalboxplot",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.verticalboxplot",name:"vertical boxplot",base:"sap.viz.modules.xy.base",properties:{primaryValuesColorPalette:null,secondaryValuesColorPalette:null,tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."}},feeds:{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},css:{".v-hoverline":{description:"Define style for hover line color.",value:{fill:"#cccccc",}}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.VerticalBoxplotChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.VerticalBoxplot",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/boxplot",name:"IDS_VERTICALBOXPLOTCHART",base:"riv/baseverticalchart",modules:{root:{modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"verticalboxplot",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{modules:{dataLabel:null,xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true}}},plot:{id:"sap.viz.modules.verticalboxplot",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.combination",version:"4.0.1"},[{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"}],function Setup(g,d,c,k,a,b,l,o,n,j,i,e,m,f){var h=function(C,K){function t(af){m.drawBound(af,q,D);W=o();af.each(function(ag){if(ag!==undefined){S(ag)}I=d3.select(this);v()});ad=false,B=false,ae=false,A=false;return t}t.afterUIComponentAppear=function(){p.initialized()};t.width=function(af){if(!arguments.length){return q}ae=(!ae&&(af===q))?false:true;q=af;if(a.isExist(q)&&a.isExist(D)&&a.isExist(x)){u()}return t};t.height=function(af){if(!arguments.length){return D}ae=(!ae&&(af===D))?false:true;D=af;if(a.isExist(q)&&a.isExist(D)&&a.isExist(x)){u()}return t};t.size=function(af){if(!arguments.length){return{width:q,height:D}}q=af.width;D=af.height;if(a.isExist(q)&&a.isExist(D)&&a.isExist(x)){u()}return t};t.properties=function(af){if(!arguments.length){return U()}ac(i.extend(true,U(),af));S(x,true);return t};t.dataLabel=function(af){};t.data=function(af){if(!arguments.length){return x}A=true;ad=false;if(!f().hasSameSchema(x,af)){ad=true}S(af);return t};t.primaryAxisTitle=function(ag){if(!arguments.length){var aj=x.getMeasureValuesGroupDataByIdx(0),ai=[];if(aj){for(var ah=0,af=aj.values.length;ah<af;ah++){if(aj.values[ah].col!==null&&aj.values[ah].col!==undefined){ai.push(aj.values[ah].col)}else{ai.push(e.get("IDS_ISNOVALUE"))}}}return ai.join("/")}return this};t.secondAxisTitle=function(ag){if(!arguments.length){var aj=x.getMeasureValuesGroupDataByIdx(1),ai=[];if(aj){for(var ah=0,af=aj.values.length;ah<af;ah++){if(aj.values[ah].col!==null&&aj.values[ah].col!==undefined){ai.push(aj.values[ah].col)}else{ai.push(e.get("IDS_ISNOVALUE"))}}}return ai.join("/")}return this};t.dispatch=function(af){if(!arguments.length){return p}p=af;return t};t.primaryScale=function(af){if(!arguments.length){return N.scale}N.scale=af;return t};t.secondaryScale=function(af){if(!arguments.length){return M.scale}M.scale=af;return t};t.categoryScale=function(af){if(!arguments.length){return P}P=af;return t};t.primaryDataRange=function(af){if(!arguments.length){return{min:N.scale.domain()[0],max:N.scale.domain()[1]}}if(af!==null){N.topValue=af.max;N.bottomValue=af.min;if(af.from==="axis"){N.manualRange=true}if(a.isExist(q)&&a.isExist(D)){G(N,N.scale)}}return t};t.secondDataRange=function(af){if(!arguments.length){return{min:M.scale.domain()[0],max:M.scale.domain()[1]}}if(af!==null){M.topValue=af.max;M.bottomValue=af.min;if(af.from==="axis"){M.manualRange=true}if(a.isExist(q)&&a.isExist(D)){G(M,M.scale)}}return t};t.primaryAxisColor=function(){if(!R.MNDOnCategory){return R.primaryValuesColorPalette[0]}else{return null}};t.secondAxisColor=function(){if(!R.MNDOnCategory){return R.secondaryValuesColorPalette[0]}else{return null}};t.colorPalette=function(af){if(!arguments.length){return Z}return t};t.shapePalette=function(af){if(!arguments.length){return Q}return t};t.parent=function(){return I};t.clear=function(af){for(var ag in F){if(af===undefined){F[ag].module.clear()}else{F[ag].module.clear("grayall")}}};t.highlight=function(ak){var aj,ah;var ag;if(ak instanceof Array){ag=ak}else{ag=[];ag.push(ak)}if(ag.length===0){return}for(aj in F){if(F.hasOwnProperty(aj)){F[aj].highlightArray=[]}}for(aj=0;aj<ag.length;aj++){var ai=ag[aj];for(ah in F){if(F.hasOwnProperty(ah)){var af=F[ah].dataPointElements;if(s(af,ai)){F[ah].highlightArray.push(ai);break}}}}for(aj in F){if(F.hasOwnProperty(aj)){F[aj].module.highlight(F[aj].highlightArray)}}};t.unhighlight=function(ak){var aj,ah;var ag;if(ak instanceof Array){ag=ak}else{ag=[];ag.push(ak)}for(aj in F){if(F.hasOwnProperty(aj)){F[aj].unhighlightArray=[]}}for(aj=0;aj<ag.length;aj++){var ai=ag[aj];for(ah in F){if(F.hasOwnProperty(ah)){var af=F[ah].dataPointElements;if(s(af,ai)){F[ah].unhighlightArray.push(ai);break}}}}for(aj in F){if(F.hasOwnProperty(aj)){F[aj].module.unhighlight(F[aj].unhighlightArray)}}};t.hoverOnPoint=function(af){var ai;if(R.tooltip.enabled){var ak=af.x,aj=af.y;if(ak<0||ak>q){return}var ag=ab(ak);if(O===ag){return}O=ag;var al=W.generateTooltipData(x,L,ag,Z,Q);var ah=I.node().getTransformToElement(I.node().ownerSVGElement);al.point={x:P.rangeBand()*(ag+0.5)+ah.e,y:D/4+ah.f};p.showTooltip(o.formatTooltipData(al))}for(ai in F){if(F.hasOwnProperty(ai)){F[ai].module.hoverOnPoint(af)}}return true};t.blurOut=function(){var af;if(R.tooltip.enabled){p.hideTooltip();O=-1}for(af in F){if(F.hasOwnProperty(af)){F[af].module.blurOut()}}return true};var P=d3.scale.ordinal(),N={scale:d3.scale.linear()},M={scale:d3.scale.linear()};var Y="v-module";var W;var p=new g("showTooltip","hideTooltip","initialized","startToInit");var q,D;var R={priorityMap:{bar:5,line:0},defaultShape:"line",MNDOnCategory:false,MNDInner:false};var V=K.effectManager;var ad=false,B=true,ae=false,A=false;var x,L;var I;var Z,Q;var F;var O=-1;var z=function(af){this.mtype=af};z.prototype.initialized=function(){J.initialized(this.mtype)};z.prototype.startToInit=function(){p.startToInit()};var J={initialized:function(ag){var af;if(F[ag]){F[ag].isCompleteAnimation=true}for(af in F){if(!F[af].isCompleteAnimation){return true}}p.initialized();return true}};function aa(){F={}}function S(am,au){var aw,av,an,aj;if((am===null)||(am===undefined)||(!au&&(x===am))){return}aa();x=am;var ap=k(x);R.MNDInner=ap.MNDInner;N.data=ap.MG1;M.data=ap.MG2;L=o.dataTransform(ap);if(ap.color){var ag=ap.MG1;var al=[];var ak=[];for(aw=0;aw<ag.length;aw++){var af=[];var ay=[];var ax=ag[aw];for(av=0;av<ax.length;av++){if(ap.color[av]===0){af.push(ax[av])}else{if(ap.color[av]===1){ay.push(ax[av])}}}al.push(af);ak.push(ay)}N.data=al;M.data=ak}if(a.isExist(q)&&a.isExist(D)&&a.isExist(x)){u()}if(ap.hasMND&&!ap.MNDOnColor){an=R.dataShape.primaryAxis[0];if(an===undefined||an===null){an=R.defaultShape}if(F[an]===undefined){F[an]={}}F[an].data=x;R.MNDOnCategory=true}else{R.MNDOnCategory=false;var at=x.getAnalysisAxisDataByIdx(0);var aq=x.getAnalysisAxisDataByIdx(1);var ai=x.getMeasureValuesGroupDataByIdx(0);var ah=x.getMeasureValuesGroupDataByIdx(1);for(aw=0;aw<ai.values.length;aw++){an=R.dataShape.primaryAxis[aw];if(an===undefined||an===null){an=R.defaultShape}if(F[an]===undefined){F[an]={m1Num:0,m2Num:0}}aj=F[an];aj.m1Num++;if(aj.data===undefined){aj.data=new l();aj.data.addAnalysisAxis(at);aj.data.addAnalysisAxis(aq);aj.data.addMeasureValuesGroup({index:ai.index,values:[]});if(ah){aj.data.addMeasureValuesGroup({index:ah.index,values:[]})}}var ar=aj.data.getMeasureValuesGroupDataByIdx(0);ar.values.push(ai.values[aw])}if(ah){for(aw=0;aw<ah.values.length;aw++){an=R.dataShape.secondAxis[aw];if(an===undefined||an===null){an=R.defaultShape}if(F[an]===undefined){F[an]={m1Num:0,m2Num:0}}aj=F[an];aj.m2Num++;if(aj.data===undefined){aj.data=new l();aj.data.addAnalysisAxis(at);aj.data.addAnalysisAxis(aq);aj.data.addMeasureValuesGroup({index:ai.index,values:[]});if(ah){aj.data.addMeasureValuesGroup({index:ah.index,values:[]})}}var ao=aj.data.getMeasureValuesGroupDataByIdx(1);ao.values.push(ah.values[aw])}}}w()}function w(){var ak,aj,ai,ah,ar;if(x===undefined){return}var ap=x.getMeasureValuesGroupDataByIdx(0);var an=x.getMeasureValuesGroupDataByIdx(1);var ao;var ag;if(an&&!R.MNDOnCategory){ao=R.primaryValuesColorPalette}else{ao=R.colorPalette}ag=R.secondaryValuesColorPalette;Z=[];Q=[];for(ak in F){if(F.hasOwnProperty(ak)){F[ak].colorPaletteY1=[];F[ak].currentM1Index=-1;if(an){F[ak].colorPaletteY2=[];F[ak].currentM2Index=-1}}}if(R.MNDOnCategory){ah=R.dataShape.primaryAxis[0];var at=ap.values[0].rows.length;for(aj=0;aj<at;aj++){F[ah].colorPaletteY1.push(ao[(aj)%ao.length]);Q.push(E(ah));Z.push(ao[(aj)%ao.length])}}else{var aq=ap.values.length;var am=0;if(an){am=an.values.length}var al=aq+am;var af=ap.values[0].rows.length;for(ak=0;ak<aq;ak++){ah=R.dataShape.primaryAxis[ak];if(ah===undefined||ah===null){ah=R.defaultShape}ar=F[ah];ar.currentM1Index++;for(aj=0;aj<af;aj++){if(R.MNDInner){ai=ao[(ak+aj*aq)%ao.length];ar.colorPaletteY1[ar.currentM1Index+aj*ar.m1Num]=ai;Q[ak+aj*al]=E(ah);Z[ak+aj*al]=ai}else{ai=ao[(ak*af+aj)%ao.length];F[ah].colorPaletteY1.push(ai);Q.push(E(ah));Z.push(ai)}}}if(an){for(ak=0;ak<am;ak++){ah=R.dataShape.secondAxis[ak];if(ah===undefined||ah===null){ah=R.defaultShape}ar=F[ah];ar.currentM2Index++;for(aj=0;aj<af;aj++){if(R.MNDInner){ai=ag[(ak+aj*am)%ag.length];ar.colorPaletteY2[ar.currentM2Index+aj*ar.m2Num]=ai;Q[aq+ak+aj*al]=E(ah);Z[aq+ak+aj*al]=ai}else{ai=ag[(ak*af+aj)%ag.length];F[ah].colorPaletteY2.push(ai);Q.push(E(ah));Z.push(ai)}}}}}}function r(ag,af){return(R.priorityMap[af]-R.priorityMap[ag])}function H(){var ai=[],ag;for(ag in F){if(F.hasOwnProperty(ag)){ai.push(ag)}}ai.sort(r);I.selectAll("."+Y).remove();var af=I.selectAll("."+Y).data(ai);af.enter().append("svg:g").attr("class",Y);af.exit().remove();af.each(function(ak){F[ak].d3root=d3.select(this)});for(ag in F){if(F.hasOwnProperty(ag)){F[ag].module=T(ag);var aj=false;if(B){aj=R.animation.dataLoading}else{if(A){aj=R.animation.dataUpdating}else{if(ae){aj=R.animation.resizing}}}var ah={colorPalette:F[ag].colorPaletteY1,primaryValuesColorPalette:F[ag].colorPaletteY1,tooltip:{enabled:false},animation:{dataLoading:aj},drawingEffect:R.drawingEffect};if(F[ag].colorPaletteY2){ah.secondaryValuesColorPalette=F[ag].colorPaletteY2}switch(ag){case"line":ah.hoverline={visible:false};b.extend(ah,R.line);break;case"bar":b.extend(ah,R.bar);break;default:break}F[ag].props=ah;F[ag].module.dispatch(new z(ag))}}}function v(){var ag;H();for(ag in F){if(F.hasOwnProperty(ag)){var af=F[ag];af.module.width(q).height(D).data(af.data).properties(af.props).primaryScale(N.scale).categoryScale(P);var ah=x.getMeasureValuesGroupDataByIdx(1);if(ah){switch(ag){case"bar":af.module.secondScale(M.scale);break;case"line":af.module.secondaryScale(M.scale);break;default:break}}af.d3root.call(af.module);af.dataPointElements=[];af.d3root.selectAll(".v-datapoint").each(function(){af.dataPointElements.push(this)})}}}function ab(ag){var af=ag/P.rangeBand();af=Math.floor(af);return af}function u(){var ah=[];var af=0;if(R.MNDOnCategory){if(N.data&&N.data.length>0){af+=N.data[0].length}if(M.data&&M.data.length>0){af+=M.data[0].length}}else{if(N.data&&N.data.length>0){af=N.data[0].length}else{af=M.data[0].length}}for(var ag=0;ag<af;ag++){ah.push(ag)}P.domain(ah).rangeBands([0,q]);G(N,N.scale);G(M,M.scale);if(N.data&&N.data.length>0&&M.data&&M.data.length>0){if(N.scale.domain().length===0&&M.scale.domain().length===0){N.scale.domain([0,1]).range([D,0]);M.scale.domain([0,1]).range([D,0])}else{if(N.scale.domain().length===0&&M.scale.domain().length!==0){N.scale.domain(M.scale.domain()).range(M.scale.range())}else{if(N.scale.domain().length!==0&&M.scale.domain().length===0){M.scale.domain(N.scale.domain()).range(N.scale.range())}}}if(!N.manualRange&&!M.manualRange){n.perfectDual(N.scale,M.scale)}else{if(!N.manualRange){n.perfect(N.scale);n.getRoughTickNum(M.scale)}else{if(!M.manualRange){n.perfect(M.scale);n.getRoughTickNum(N.scale)}else{n.getRoughTickNum(N.scale);n.getRoughTickNum(M.scale)}}}}else{if(N.data&&N.data.length>0){if(N.scale.domain().length===0){N.scale.domain([0,1]).range([D,0])}if(!N.manualRange){n.perfect(N.scale)}else{n.getRoughTickNum(N.scale)}}else{if(M.data&&M.data.length>0){if(M.scale.domain().length===0){M.scale.domain([0,1]).range([D,0])}if(!M.manualRange){n.perfect(M.scale)}else{n.getRoughTickNum(M.scale)}}}}}function G(ag,ah){if(ag.data&&ag.data.length>0){if(ag.topValue===undefined){var af=X(ag);if(!af||(af.min===0&&af.max===0)){ah.domain([]).range([])}else{ah.domain([af.min,af.max]).range([D,0])}}else{ah.domain([ag.bottomValue,ag.topValue]).range([D,0])}}else{ah.domain([0,0]).range(0,0)}}function U(){var af={};af.tooltip={enabled:R.tooltip.enabled};af.primaryValuesColorPalette=R.primaryValuesColorPalette;af.secondaryValuesColorPalette=R.secondaryValuesColorPalette;af.colorPalette=R.colorPalette;af.drawingEffect=R.drawingEffect;af.animation={};b.extend(true,af.animation,R.animation);af.dataShape={};b.extend(true,af.dataShape,R.dataShape);af.bar={};b.extend(true,af.bar,R.bar);af.line={};b.extend(true,af.line,R.line);return af}function ac(af){R.tooltip={enabled:af.tooltip.enabled};R.primaryValuesColorPalette=af.primaryValuesColorPalette;R.secondaryValuesColorPalette=af.secondaryValuesColorPalette;R.drawingEffect=af.drawingEffect;R.colorPalette=af.colorPalette;R.animation={};b.extend(true,R.animation,af.animation);R.dataShape={};b.extend(true,R.dataShape,af.dataShape);R.bar={};b.extend(true,R.bar,af.bar);R.line={};b.extend(true,R.line,af.line);return R}function T(ag){var af;switch(ag){case"bar":af=d.get("sap.viz.modules.verticalbar");break;case"line":af=d.get("sap.viz.modules.line");break;default:break}return af.execute(K)}function E(ag){var af;switch(ag){case"line":af=R.line.marker.shape;break;case"bar":af="squareWithRadius";break;default:break}return af}function s(ag,af){for(var ah=0;ah<ag.length;ah++){if(ag[ah]===af){return true}}return false}function X(ah){if(!ah.data||ah.data.length===0){return null}var ag={min:null,max:null};ag.max=d3.max(ah.data,function(ai){return d3.max(ai,function(aj){return aj.val})});ag.min=d3.min(ah.data,function(ai){return d3.min(ai,function(aj){return aj.val})});if(j.isNoValue(ag.max)){return null}if(ag.min>=0){ag.min=0;ag.max+=ag.max*5/D}else{if(ag.max<=0){ag.max=0;ag.min+=ag.min*5/D}else{var af=(ag.max-ag.min)*5/D;ag.min-=af;ag.max+=af}}return ag}ac(C.props(null));return t};return h});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Combination",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.combination",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"}],function Setup(d,b,c){var a={base:"sap.viz.modules.xy.base",id:"sap.viz.modules.combination",name:"combination",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation of plot area."},dataShape:{name:"dataShape",supportedValueType:"Object",supportedValues:{primaryAxis:{name:"primaryAxis",supportedValueType:"StringArray",supportedValues:["bar","line"],defaultValue:["bar","line","line"],description:"Set shape of measure index1 data."},secondAxis:{name:"secondAxis",supportedValueType:"StringArray",supportedValues:["line","line"],defaultValue:["line","line","line"],description:"Set shape of measure index2 data.",isExported:false}},description:"Set shape of measure data."},bar:{name:"bar",supportedValueType:"Object",supportedValues:{isRoundCorner:{name:"isRoundCorner",supportedValueType:"Boolean",defaultValue:false,description:"Set enable/disable round corner of bar."}},description:"Settings for bar properties."},line:{name:"line",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"PositiveInt",defaultValue:2,description:"Set width of line, range[1,7]. When beyond the range, the line width is default size 2."},marker:{name:"marker",description:"Set marker/data point graphics settings.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set to show marker or not."},shape:{name:"shape",supportedValueType:"StringArray",supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],defaultValue:"circle",description:"Set marker shapes for chart."},size:{name:"size",supportedValueType:"PositiveInt",defaultValue:"6",min:"4",max:"32",description:"Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 6."}}}},description:"Settings for line properties."}},css:{".v-hoverline":{description:"Define style for hoverline in bar.",value:{fill:"rgba(204,204,204,1)"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.horizontalcombination",version:"4.0.1"},[{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"}],function Setup(f,l,c,j,a,b,k,o,n,i,h,d,m,e){var g=function(C,K){function t(ae){W=o();m.drawBound(ae,q,D);ae.each(function(af){if(af!==undefined){S(af)}I=d3.select(this);v()});ac=false,B=false,ad=false,A=false;return t}t.width=function(ae){if(!arguments.length){return q}ad=(!ad&&(ae===q))?false:true;q=ae;if(a.isExist(q)&&a.isExist(D)&&a.isExist(x)){u()}return t};t.height=function(ae){if(!arguments.length){return D}ad=(!ad&&(ae===D))?false:true;D=ae;if(a.isExist(q)&&a.isExist(D)&&a.isExist(x)){u()}return t};t.afterUIComponentAppear=function(){p.initialized()};t.size=function(ae){if(!arguments.length){return{width:q,height:D}}q=ae.width;D=ae.height;if(a.isExist(q)&&a.isExist(D)&&a.isExist(x)){u()}return t};t.properties=function(ae){if(!arguments.length){return U()}ab(h.extend(true,U(),ae));S(x,true);return t};t.dataLabel=function(ae){};t.data=function(ae){if(!arguments.length){return x}A=true;ac=false;if(!e().hasSameSchema(x,ae)){ac=true}S(ae);return t};t.primaryAxisTitle=function(af){if(!arguments.length){var ai=x.getMeasureValuesGroupDataByIdx(0),ah=[];if(ai){for(var ag=0,ae=ai.values.length;ag<ae;ag++){if(ai.values[ag].col!==null&&ai.values[ag].col!==undefined){ah.push(ai.values[ag].col)}else{ah.push(d.get("IDS_ISNOVALUE"))}}}return ah.join("/")}return this};t.secondAxisTitle=function(af){if(!arguments.length){var ai=x.getMeasureValuesGroupDataByIdx(1),ah=[];if(ai){for(var ag=0,ae=ai.values.length;ag<ae;ag++){if(ai.values[ag].col!==null&&ai.values[ag].col!==undefined){ah.push(ai.values[ag].col)}else{ah.push(d.get("IDS_ISNOVALUE"))}}}return ah.join("/")}return this};t.dispatch=function(ae){if(!arguments.length){return p}p=ae;return t};t.primaryScale=function(ae){if(!arguments.length){return N.scale}N.scale=ae;return t};t.secondaryScale=function(ae){if(!arguments.length){return M.scale}M.scale=ae;return t};t.categoryScale=function(ae){if(!arguments.length){return P}P=ae;return t};t.primaryDataRange=function(ae){if(!arguments.length){return{min:N.scale.domain()[0],max:N.scale.domain()[1]}}if(ae!==null){N.topValue=ae.max;N.bottomValue=ae.min;if(ae.from==="axis"){N.manualRange=true}if(a.isExist(q)&&a.isExist(D)){G(N,N.scale)}}return t};t.secondDataRange=function(ae){if(!arguments.length){return{min:M.scale.domain()[0],max:M.scale.domain()[1]}}if(ae!==null){M.topValue=ae.max;M.bottomValue=ae.min;if(ae.from==="axis"){M.manualRange=true}if(a.isExist(q)&&a.isExist(D)){G(M,M.scale)}}return t};t.primaryAxisColor=function(){if(!R.MNDOnCategory){return R.primaryValuesColorPalette[0]}else{return null}};t.secondAxisColor=function(){if(!R.MNDOnCategory){return R.secondaryValuesColorPalette[0]}else{return null}};t.colorPalette=function(ae){if(!arguments.length){return Y}return t};t.shapePalette=function(ae){if(!arguments.length){return Q}return t};t.parent=function(){return I};t.clear=function(ae){for(var af in F){if(ae===undefined){F[af].module.clear()}else{F[af].module.clear("grayall")}}};t.highlight=function(aj){var ai,ag;var af;if(aj instanceof Array){af=aj}else{af=[];af.push(aj)}if(af.length===0){return}for(ai in F){if(F.hasOwnProperty(ai)){F[ai].highlightArray=[]}}for(ai=0;ai<af.length;ai++){var ah=af[ai];for(ag in F){if(F.hasOwnProperty(ag)){var ae=F[ag].dataPointElements;if(s(ae,ah)){F[ag].highlightArray.push(ah);break}}}}for(ai in F){if(F.hasOwnProperty(ai)){F[ai].module.highlight(F[ai].highlightArray)}}};t.unhighlight=function(aj){var ai,ag;var af;if(aj instanceof Array){af=aj}else{af=[];af.push(aj)}for(ai in F){if(F.hasOwnProperty(ai)){F[ai].unhighlightArray=[]}}for(ai=0;ai<af.length;ai++){var ah=af[ai];for(ag in F){if(F.hasOwnProperty(ag)){var ae=F[ag].dataPointElements;if(s(ae,ah)){F[ag].unhighlightArray.push(ah);break}}}}for(ai in F){if(F.hasOwnProperty(ai)){F[ai].module.unhighlight(F[ai].unhighlightArray)}}};t.hoverOnPoint=function(ae){var ah;if(R.tooltip.enabled){var aj=ae.x,ai=ae.y;if(ai<0||ai>D){return}var af=aa(ai);if(O===af){return}O=af;var ak=W.generateTooltipData(x,L,af,Y,Q);var ag=I.node().getTransformToElement(I.node().ownerSVGElement);ak.point={y:(D-P.rangeBand()*(af+0.5))+ag.f,x:q*3/4+ag.e};p.showTooltip(o.formatTooltipData(ak))}for(ah in F){if(F.hasOwnProperty(ah)){F[ah].module.hoverOnPoint(ae)}}return true};t.blurOut=function(){var ae;if(R.tooltip.enabled){p.hideTooltip();O=-1}for(ae in F){if(F.hasOwnProperty(ae)){F[ae].module.blurOut()}}return true};var P=d3.scale.ordinal(),N={scale:d3.scale.linear()},M={scale:d3.scale.linear()};var W;var p=new f("showTooltip","hideTooltip","initialized","startToInit");var q,D;var R={priorityMap:{bar:5,line:0},defaultShape:"line",MNDOnCategory:false,MNDInner:false};var V=K.effectManager;var ac=false,B=true,ad=false,A=false;var x,L;var I;var Y,Q;var F;var O=-1;var z=function(ae){this.mtype=ae};z.prototype.initialized=function(){J.initialized(this.mtype)};z.prototype.startToInit=function(){p.startToInit()};var J={initialized:function(af){var ae;if(F[af]){F[af].isCompleteAnimation=true}for(ae in F){if(!F[ae].isCompleteAnimation){return true}}p.initialized();return true}};function Z(){F={}}function S(al,at){var av,au,am,ai;if((al===null)||(al===undefined)||(!at&&(x===al))){return}Z();x=al;var ao=j(x);R.MNDInner=ao.MNDInner;N.data=ao.MG1;M.data=ao.MG2;L=o.dataTransform(ao);if(ao.color){var af=ao.MG1;var ak=[];var aj=[];for(av=0;av<af.length;av++){var ae=[];var ax=[];var aw=af[av];for(au=0;au<aw.length;au++){if(ao.color[au]===0){ae.push(aw[au])}else{if(ao.color[au]===1){ax.push(aw[au])}}}ak.push(ae);aj.push(ax)}N.data=ak;M.data=aj}if(a.isExist(q)&&a.isExist(D)&&a.isExist(x)){u()}if(ao.hasMND&&!ao.MNDOnColor){am=R.dataShape.primaryAxis[0];if(am===undefined||am===null){am=R.defaultShape}if(F[am]===undefined){F[am]={}}F[am].data=x;R.MNDOnCategory=true}else{R.MNDOnCategory=false;var ar=x.getAnalysisAxisDataByIdx(0);var ap=x.getAnalysisAxisDataByIdx(1);var ah=x.getMeasureValuesGroupDataByIdx(0);var ag=x.getMeasureValuesGroupDataByIdx(1);for(av=0;av<ah.values.length;av++){am=R.dataShape.primaryAxis[av];if(am===undefined||am===null){am=R.defaultShape}if(F[am]===undefined){F[am]={m1Num:0,m2Num:0}}ai=F[am];ai.m1Num++;if(ai.data===undefined){ai.data=new k();ai.data.addAnalysisAxis(ar);ai.data.addAnalysisAxis(ap);ai.data.addMeasureValuesGroup({index:ah.index,values:[]});if(ag){ai.data.addMeasureValuesGroup({index:ag.index,values:[]})}}var aq=ai.data.getMeasureValuesGroupDataByIdx(0);aq.values.push(ah.values[av])}if(ag){for(av=0;av<ag.values.length;av++){am=R.dataShape.secondAxis[av];if(am===undefined||am===null){am=R.defaultShape}if(F[am]===undefined){F[am]={m1Num:0,m2Num:0}}ai=F[am];ai.m2Num++;if(ai.data===undefined){ai.data=new k();ai.data.addAnalysisAxis(ar);ai.data.addAnalysisAxis(ap);ai.data.addMeasureValuesGroup({index:ah.index,values:[]});if(ag){ai.data.addMeasureValuesGroup({index:ag.index,values:[]})}}var an=ai.data.getMeasureValuesGroupDataByIdx(1);an.values.push(ag.values[av])}}}w()}function w(){var aj,ai,ah,ag,aq;if(x===undefined){return}var ao=x.getMeasureValuesGroupDataByIdx(0);var am=x.getMeasureValuesGroupDataByIdx(1);var an;var af;if(am&&!R.MNDOnCategory){an=R.primaryValuesColorPalette}else{an=R.colorPalette}af=R.secondaryValuesColorPalette;Y=[];Q=[];for(aj in F){if(F.hasOwnProperty(aj)){F[aj].colorPaletteY1=[];F[aj].currentM1Index=-1;if(am){F[aj].colorPaletteY2=[];F[aj].currentM2Index=-1}}}if(R.MNDOnCategory){ag=R.dataShape.primaryAxis[0];var ar=ao.values[0].rows.length;for(ai=0;ai<ar;ai++){F[ag].colorPaletteY1.push(an[(ai)%an.length]);Q.push(E(ag));Y.push(an[(ai)%an.length])}}else{var ap=ao.values.length;var al=0;if(am){al=am.values.length}var ak=ap+al;var ae=ao.values[0].rows.length;for(aj=0;aj<ap;aj++){ag=R.dataShape.primaryAxis[aj];if(ag===undefined||ag===null){ag=R.defaultShape}aq=F[ag];aq.currentM1Index++;for(ai=0;ai<ae;ai++){if(R.MNDInner){ah=an[(aj+ai*ap)%an.length];aq.colorPaletteY1[aq.currentM1Index+ai*aq.m1Num]=ah;Q[aj+ai*ak]=E(ag);Y[aj+ai*ak]=ah}else{ah=an[(aj*ae+ai)%an.length];F[ag].colorPaletteY1.push(ah);Q.push(E(ag));Y.push(ah)}}}if(am){for(aj=0;aj<al;aj++){ag=R.dataShape.secondAxis[aj];if(ag===undefined||ag===null){ag=R.defaultShape}aq=F[ag];aq.currentM2Index++;for(ai=0;ai<ae;ai++){if(R.MNDInner){ah=af[(aj+ai*al)%af.length];aq.colorPaletteY2[aq.currentM2Index+ai*aq.m2Num]=ah;Q[ap+aj+ai*ak]=E(ag);Y[ap+aj+ai*ak]=ah}else{ah=af[(aj*ae+ai)%af.length];F[ag].colorPaletteY2.push(ah);Q.push(E(ag));Y.push(ah)}}}}}}function r(af,ae){return(R.priorityMap[ae]-R.priorityMap[af])}function H(){var ah=[],af;for(af in F){if(F.hasOwnProperty(af)){ah.push(af)}}ah.sort(r);I.selectAll(".module").remove();var ae=I.selectAll(".module").data(ah);ae.enter().append("svg:g").attr("class","module");ae.exit().remove();ae.each(function(aj){F[aj].d3root=d3.select(this)});for(af in F){if(F.hasOwnProperty(af)){F[af].module=T(af);var ai=false;if(B){ai=R.animation.dataLoading}else{if(A){ai=R.animation.dataUpdating}else{if(ad){ai=R.animation.resizing}}}var ag={colorPalette:F[af].colorPaletteY1,primaryValuesColorPalette:F[af].colorPaletteY1,tooltip:{enabled:false},animation:{dataLoading:ai},drawingEffect:R.drawingEffect};if(F[af].colorPaletteY2){ag.secondaryValuesColorPalette=F[af].colorPaletteY2}switch(af){case"line":ag.hoverline={visible:false};b.extend(ag,R.line);break;case"bar":b.extend(ag,R.bar);break;default:break}F[af].props=ag;F[af].module.dispatch(new z(af))}}}function v(){var af;H();for(af in F){if(F.hasOwnProperty(af)){var ae=F[af];ae.module.width(q).height(D).data(ae.data).properties(ae.props).primaryScale(N.scale).categoryScale(P);var ag=x.getMeasureValuesGroupDataByIdx(1);if(ag){switch(af){case"bar":ae.module.secondScale(M.scale);break;case"line":ae.module.secondaryScale(M.scale);break;default:break}}ae.d3root.call(ae.module);ae.dataPointElements=[];ae.d3root.selectAll(".v-datapoint").each(function(){ae.dataPointElements.push(this)})}}}function aa(ag){var ae=P.domain().length;var af=ag/P.rangeBand();af=Math.floor(af);return ae-1-af}function u(){var ag=[];var ae=0;if(R.MNDOnCategory){if(N.data&&N.data.length>0){ae+=N.data[0].length}if(M.data&&M.data.length>0){ae+=M.data[0].length}}else{if(N.data&&N.data.length>0){ae=N.data[0].length}else{ae=M.data[0].length}}for(var af=0;af<ae;af++){ag.push(af)}P.domain(ag).rangeBands([D,0]);G(N,N.scale);G(M,M.scale);if(N.data&&N.data.length>0&&M.data&&M.data.length>0){if(N.scale.domain().length===0&&M.scale.domain().length===0){N.scale.domain([0,1]).range([0,q]);M.scale.domain([0,1]).range([0,q])}else{if(N.scale.domain().length===0&&M.scale.domain().length!==0){N.scale.domain(M.scale.domain()).range(M.scale.range())}else{if(N.scale.domain().length!==0&&M.scale.domain().length===0){M.scale.domain(N.scale.domain()).range(N.scale.range())}}}if(!N.manualRange&&!M.manualRange){n.perfectDual(N.scale,M.scale)}else{if(!N.manualRange){n.perfect(N.scale);n.getRoughTickNum(M.scale)}else{if(!M.manualRange){n.perfect(M.scale);n.getRoughTickNum(N.scale)}else{n.getRoughTickNum(N.scale);n.getRoughTickNum(M.scale)}}}}else{if(N.data&&N.data.length>0){if(N.scale.domain().length===0){N.scale.domain([0,1]).range([0,q])}if(!N.manualRange){n.perfect(N.scale)}else{n.getRoughTickNum(N.scale)}}else{if(M.data&&M.data.length>0){if(M.scale.domain().length===0){M.scale.domain([0,1]).range([0,q])}if(!M.manualRange){n.perfect(M.scale)}else{n.getRoughTickNum(M.scale)}}}}}function G(af,ag){if(af.data&&af.data.length>0){if(af.topValue===undefined){var ae=X(af);if(!ae||(ae.min===0&&ae.max===0)){ag.domain([]).range([])}else{ag.domain([ae.min,ae.max]).range([0,q])}}else{ag.domain([af.bottomValue,af.topValue]).range([0,q])}}else{ag.domain([0,0]).range(0,0)}}function U(){var ae={};ae.tooltip={enabled:R.tooltip.enabled};ae.primaryValuesColorPalette=R.primaryValuesColorPalette;ae.secondaryValuesColorPalette=R.secondaryValuesColorPalette;ae.colorPalette=R.colorPalette;ae.drawingEffect=R.drawingEffect;ae.animation={};b.extend(true,ae.animation,R.animation);ae.dataShape={};b.extend(true,ae.dataShape,R.dataShape);ae.bar={};b.extend(true,ae.bar,R.bar);ae.line={};b.extend(true,ae.line,R.line);return ae}function ab(ae){R.tooltip={enabled:ae.tooltip.enabled};R.primaryValuesColorPalette=ae.primaryValuesColorPalette;R.secondaryValuesColorPalette=ae.secondaryValuesColorPalette;R.drawingEffect=ae.drawingEffect;R.colorPalette=ae.colorPalette;R.animation={};b.extend(true,R.animation,ae.animation);R.dataShape={};b.extend(true,R.dataShape,ae.dataShape);R.bar={};b.extend(true,R.bar,ae.bar);R.line={};b.extend(true,R.line,ae.line);return R}function T(af){var ae;switch(af){case"bar":ae=l.module.get("sap.viz.modules.bar");break;case"line":ae=l.module.get("sap.viz.modules.horizontalline");break;default:break}return ae.fn(ae,K)}function E(af){var ae;switch(af){case"line":ae=R.line.marker.shape;break;case"bar":ae="squareWithRadius";break;default:break}return ae}function s(af,ae){for(var ag=0;ag<af.length;ag++){if(af[ag]===ae){return true}}return false}function X(ag){if(!ag.data||ag.data.length===0){return null}var af={min:null,max:null};af.max=d3.max(ag.data,function(ah){return d3.max(ah,function(ai){return ai.val})});af.min=d3.min(ag.data,function(ah){return d3.min(ah,function(ai){return ai.val})});if(i.isNoValue(af.max)){return null}if(af.min>=0){af.min=0;af.max+=af.max*5/q}else{if(af.max<=0){af.max=0;af.min+=af.min*5/q}else{var ae=(af.max-af.min)*5/q;af.min-=ae;af.max+=ae}}return af}ab(C.props(null));return t};return g});sap.riv.module({qname:"sap.viz.modules.manifests.xy.HorizontalCombination",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.horizontalcombination",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Combination",version:"4.0.1"}],function Setup(c,b){var a={base:"sap.viz.modules.combination",id:"sap.viz.modules.horizontalcombination",name:"horizontalcombination",fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.modules.line",version:"4.0.1"},[{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.BoundingBox",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.DrawUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(f,g,i,a,p,d,m,j,e,l,o,k,b,h,c,n){return function(M,Z){var C="v-marker-selected",ax="v-marker-hover",D="v-datapoint";var q,t;var U=null,ad;var ab=b.guid();var v=null;var am;var ah="#FFFFFF";var ac="#cccccc";var af="#333333";var P=d3.scale.ordinal();var ap;var al;var au;var Y,u,F;var Q=new g("showTooltip","hideTooltip","initialized","startToInit");var L;var ag;var T;var X=Z.effectManager;var W={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var z={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var N=[];var ak="v-axis1";var aj="v-axis2";var ai=false;var av=false,I=true,az=false,E=false;var at=0;var r=null;var aA;var V=0.4;function O(){var aB=false;if(I){aB=ad.animation.dataLoading}else{if(E){aB=ad.animation.dataUpdating}else{if(az){aB=ad.animation.resizing}}}return aB}function G(aB){n.drawBound(aB,q,t);am=o();J(aB);av=false,I=false,az=false,E=false;return G}function ao(aD){var aC={min:null,max:null};if(!aD.data||aD.data.length===0){return}aC.max=Number(d3.max(aD.data,function(aE){return d3.max(aE,function(aF){return aF.val})}));aC.min=Number(d3.min(aD.data,function(aE){return d3.min(aE,function(aF){return aF.val})}));if(j.isNoValue(aC.max)){return null}if(aC.min>=0){aC.min=0;aC.max+=aC.max*5/t}else{if(aC.max<=0){aC.max=0;aC.min+=aC.min*5/t}else{var aB=(aC.max-aC.min)*5/t;aC.min-=aB;aC.max+=aB}}return aC}function s(){N=[];var aF=0,aE=0;if(z.data&&z.data.length>0){W.colorPalette=ad.primaryValuesColorPalette}else{W.colorPalette=ad.colorPalette}z.colorPalette=ad.secondaryValuesColorPalette;if(L&&ag&&T){var aI=U.getMeasureValuesGroupDataByIdx(0);var aH=U.getMeasureValuesGroupDataByIdx(1);var aG=0,aD=0,aC=0,aB=0;if(aI&&aI.values.length>0){aG=aI.values.length;aB=aI.values[0].rows.length}if(aH&&aH.values.length>0){aD=aH.values.length;aB=aH.values[0].rows.length}for(aF=0;aF<aB;aF++){for(aE=0;aE<aG;aE++){N.push(W.colorPalette[aF*aG+aE%W.colorPalette.length])}for(aE=0;aE<aD;aE++){N.push(z.colorPalette[aF*aD+aE%z.colorPalette.length])}}}else{for(aF=0;aF<W.data.length;++aF){N.push(W.colorPalette[aF%W.colorPalette.length])}if(z.data&&z.data.length>0){for(aF=0;aF<z.data.length;++aF){N.push(z.colorPalette[aF%z.colorPalette.length])}}}}function S(aC){if(aC.data&&aC.data.length>0){if(aC.topValue===null||aC.topValue===undefined){var aB=ao(aC);if(!aB||(aB.min===0&&aB.max===0)){aC.scale.domain([]).range([])}else{aC.scale.domain([aB.min,aB.max]).range([t,0])}}else{aC.scale.domain([aC.bottomValue,aC.topValue]).range([t,0])}}else{aC.scale.domain([0,0]).range([0,0])}return aC.scale}function x(){var aD=[];var aB=0;if(W.data.length!==0){aB=W.data[0].length}else{aB=z.data[0].length}for(var aC=0;aC<aB;aC++){aD.push(aC)}P.domain(aD).rangeBands([0,q]);S(W);S(z);if(W.data&&W.data.length>0&&z.data&&z.data.length>0){if(W.scale.domain().length===0&&z.scale.domain().length===0){W.scale.domain([0,1]).range([t,0]);z.scale.domain([0,1]).range([t,0])}else{if(W.scale.domain().length===0&&z.scale.domain().length!==0){W.scale.domain(z.scale.domain()).range(z.scale.range())}else{if(W.scale.domain().length!==0&&z.scale.domain().length===0){z.scale.domain(W.scale.domain()).range(W.scale.range())}}}if(!W.manualRange&&!z.manualRange){p.perfectDual(W.scale,z.scale)}else{if(!W.manualRange){p.perfect(W.scale);p.getRoughTickNum(z.scale)}else{if(!z.manualRange){p.perfect(z.scale);p.getRoughTickNum(W.scale)}else{p.getRoughTickNum(W.scale);p.getRoughTickNum(z.scale)}}}}else{if(W.data&&W.data.length>0){if(W.scale.domain().length===0){W.scale.domain([0,1]).range([t,0])}if(!W.manualRange){p.perfect(W.scale)}else{p.getRoughTickNum(W.scale)}}else{if(z.data&&z.data.length>0){if(z.scale.domain().length===0){z.scale.domain([0,1]).range([t,0])}if(!z.manualRange){p.perfect(z.scale)}else{p.getRoughTickNum(z.scale)}}}}}function ay(aD,aE,aC){if(aD===undefined||aD===null){return}var aB=0;for(aB=0;aB<W.data.length;++aB){if(!W.selectedMarkers[aB][aD]){ae(aB,aD,aC,W);if(!ad.marker.visible){if(at>0){d3.select(W.markers[aB][aD]).attr("opacity",V).attr("visibility",aE)}else{d3.select(W.markers[aB][aD]).attr("opacity",1).attr("visibility",aE)}}}}if(!z.data){return}for(aB=0;aB<z.data.length;++aB){if(!z.selectedMarkers[aB][aD]){ae(aB,aD,aC,z);if(!ad.marker.visible){if(at>0){d3.select(z.markers[aB][aD]).attr("opacity",V).attr("visibility",aE)}else{d3.select(z.markers[aB][aD]).attr("opacity",1).attr("visibility",aE)}}}}}function ae(aC,aB,aD,aF){var aE="transparent";if(aD===ax){aE=ah}else{if(aD===C){aE=af}}d3.select(aF.markers[aC][aB]).attr("class",D+" "+aD).attr("stroke",aE)}function ar(aD){var aC=aD/P.rangeBand();aC=Math.floor(aC);var aB=0;if(W.data.length!==0){aB=W.data[0].length}else{aB=z.data[0].length}if(aC>aB-1){aC=aB-1}if(aC<0){aC=0}return aC}function aa(aI,aC){var aB=false,aH,aD;for(var aG=0;aG<aI.markers.length&&!aB;aG++){var aF=aI.markers[aG];for(var aE=0;aE<aF.length&&!aB;aE++){if(aF[aE]===aC){aB=true;aH=aG;aD=aE}}}if(!aB){return false}if(aI.selectedMarkers[aH][aD]){return true}ae(aH,aD,C,aI);d3.select(aI.markers[aH][aD]).attr("opacity",1).attr("visibility","visible");aI.selectedMarkers[aH][aD]=true;if(aD>0&&aI.selectedMarkers[aH][aD-1]){aI.highLines[aH][aD-1].attr("visibility","visible")}if(aD<aI.highLines[0].length&&aI.selectedMarkers[aH][aD+1]){aI.highLines[aH][aD].attr("visibility","visible")}++at}function B(aI,aC){var aD=al;var aB=false,aH;for(var aG=0;aG<aI.markers.length&&!aB;aG++){var aF=aI.markers[aG];for(var aE=0;aE<aF.length&&!aB;aE++){if(aF[aE]===aC){aB=true;aH=aG;aD=aE}}}if(!aB){return false}if(!aI.selectedMarkers[aH][aD]){return true}if(aD===al){ae(aH,aD,ax,aI)}else{ae(aH,aD,"",aI)}d3.select(aI.markers[aH][aD]).attr("opacity",V);if(!ad.marker.visible&&aD!==al){d3.select(aI.markers[aH][aD]).attr("visibility","hidden")}aI.selectedMarkers[aH][aD]=false;if(aD>0&&aI.selectedMarkers[aH][aD-1]){aI.highLines[aH][aD-1].attr("visibility","hidden")}if(aD<aI.highLines[0].length&&aI.selectedMarkers[aH][aD+1]){aI.highLines[aH][aD].attr("visibility","hidden")}--at}function A(aI){var aC={data:[],color:[]};var aB=[];var aD;var aH;for(var aG=0;aG<aI.length;++aG){var aF=0;for(var aE=0;aE<aI[aG].length;++aE){if(j.isNoValue(aI[aG][aE].val)){if(aE>aF){aB=[];for(aD=aF;aD<aE;aD++){aH=aI[aG][aD];aH.x=aD;aB.push(aH)}aC.data.push(aB);aC.color.push(aG)}aF=aE+1}}if(aF<aI[aG].length){aB=[];for(aD=aF;aD<aI[aG].length;aD++){aH=aI[aG][aD];aH.x=aD;aB.push(aH)}aC.data.push(aB);aC.color.push(aG)}}return aC}function K(aB,aH){if(!aB.data||aB.data.length===0){return}var aF=u.select("g."+aH);if(aF.empty()){aF=u.append("svg:g").attr("class",aH)}aB.selectedMarkers=new Array(aB.data.length);aB.markers=[];var aM=A(aB.data);var aK=aF.selectAll(".v-lines").data(aM.data);aK.enter().append("path").attr("class","v-lines").attr("stroke-width",ad.width).attr("stroke-linejoin","round");aK.exit().remove();aK.attr("stroke-width",ad.width);var aL=d3.svg.line().x(function(aO,aN){return P(aO.x)+P.rangeBand()/2}).y(function(aN){return j.isNoValue(aB.scale(aN.val))?null:aB.scale(aN.val)});aK.attr("transform",function(aO,aN){d3.select(this).attr("d",aL(aO)).attr("stroke",function(){var aP={graphType:"line",fillColor:aB.colorPalette[aM.color[aN]%aB.colorPalette.length]};return X.register(aP)})});var aC=F.selectAll("g."+aH);if(aC.empty()){aC=F.append("svg:g").attr("class",aH)}var aD=aC.selectAll("g").data(aB.data);aD.enter().append("g");aD.exit().remove();aB.highLines=[];aD.attr("transform",function(aP,aO){d3.select(this).selectAll(".v-lightLine").remove();aB.highLines.push([]);for(var aN=1;aN<aP.length;++aN){if(j.isNoValue(aP[aN].val)||j.isNoValue(aP[aN-1].val)||j.isNoValue(aB.scale(aP[aN].val))||j.isNoValue(aB.scale(aP[aN-1].val))){aB.highLines[aO].push(null)}else{aB.highLines[aO].push(d3.select(this).append("svg:line").attr("class","v-lightLine").attr("x1",P(aN-1)+P.rangeBand()/2).attr("y1",aB.scale(aP[aN-1].val)).attr("x2",P(aN)+P.rangeBand()/2).attr("y2",aB.scale(aP[aN].val)).attr("stroke-width",ad.width).attr("stroke",aB.colorPalette[aO%aB.colorPalette.length]).attr("visibility","hidden"))}}});for(var aG=0;aG<aB.data.length;++aG){aB.selectedMarkers[aG]=[];for(var aI=0;aI<aB.data[0].length;++aI){aB.selectedMarkers[aG][aI]=false}}var aJ=Y.select("g."+aH);if(aJ.empty()){aJ=Y.append("svg:g").attr("class",aH)}aD=aJ.selectAll("g.v-marker").data(aB.data);aD.enter().append("svg:g").attr("class","v-marker");aD.exit().remove();var aE="hidden";if(ad&&ad.marker&&ad.marker.visible){aE="visible"}aD.attr("transform",function(aR,aO){var aQ=d3.select(this).selectAll(".v-datashape").data(aR);var aP=aQ.enter().append("g").attr("class","v-datashape");l.createElements(aP,{shape:ad.marker.shape,className:D});aQ.exit().remove();var aN=[];aQ.attr("transform",function(aS,aT){if(j.isNoValue(aS.val)){d3.select(this).remove();aN.push(null);return}aN.push(d3.select(this).selectAll("path").node());var aU={drawingEffect:ad.drawingEffect,graphType:ad.marker.shape,fillColor:aB.colorPalette[aO%aB.colorPalette.length],direction:"vertical",rx:ad.marker.size/2,ry:ad.marker.size/2,borderWidth:2,borderColor:ad.style.marker.stroke,node:d3.select(this).select("path"),visibility:aE};l.drawGraph(aU,X);return"translate("+(P(aT)+P.rangeBand()/2)+","+aB.scale(aS.val)+")"});aB.markers.push(aN)})}function aq(aE,aB){if(at===0||!aE.selectedMarkers||aE.selectedMarkers.length===0){return}for(var aC=0;aC<aE.selectedMarkers.length;++aC){for(var aD=0;aD<aE.selectedMarkers[0].length;++aD){if(!aE.selectedMarkers[aC][aD]){continue}if(aD===aB){ae(aC,aD,ax,aE);if(!ad.marker.visible){d3.select(aE.markers[aC][aD]).attr("opacity",V).attr("visibility","visible")}}else{ae(aC,aD,"",aE);if(!ad.marker.visible){d3.select(aE.markers[aC][aD]).attr("visibility","hidden")}}aE.selectedMarkers[aC][aD]=false}}}function an(){var aC=(d3.event?d3.event.clientX:0)-au.node().getBoundingClientRect().left;var aB=ar(aC);aq(W,aB);aq(z,aB);at=0}function J(aC){r=aC;H();Q.startToInit();if(!au){au=aC.append("svg:g")}if(!ap){ap=au.append("svg:line").attr("stroke",ac).attr("class","v-hoverline viz-plot-hoverline")}ap.attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",t).attr("stroke-width",1).attr("visibility","hidden").attr("stroke-linejoin","round");if(!u){u=au.append("svg:g").attr("class","v-datalines");F=au.append("svg:g").attr("class","v-lightLines");Y=au.append("svg:g").attr("class","v-markers v-datashapesgroup")}at=0;w();if(!aA){aA=au.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+ab).append("rect")}aA.attr("x",0).attr("y",0).attr("height",t).attr("width",(O()?0:q));Y.attr("clip-path","url(#clip1_"+ab+")").attr("fill","none");u.attr("clip-path","url(#clip1_"+ab+")").attr("fill","none");F.attr("clip-path","url(#clip1_"+ab+")").attr("fill","none");K(W,ak);K(z,aj);if(O()){ai=true;var aE=0;var aB=q/50;var aD=setInterval(function(aF){if(aE>=q){clearInterval(aD);Q.initialized()}else{aE+=aB;aA.attr("width",aE)}},20)}else{Q.initialized();aA.attr("width",q)}}function w(){F.selectAll("g."+ak).selectAll(".v-lightLine").attr("visibility","hidden");F.selectAll("g."+aj).selectAll(".v-lightLine").attr("visibility","hidden");u.attr("opacity",1);if(c.isIE()){u.selectAll(".v-lines").attr("visibility","visible")}Y.selectAll("g."+ak).selectAll("g.v-marker").selectAll("."+D).attr("opacity",1);Y.selectAll("g."+aj).selectAll("g.v-marker").selectAll("."+D).attr("opacity",1)}function R(){F.selectAll("g."+ak).selectAll(".v-lightLine").attr("visibility","hidden");F.selectAll("g."+aj).selectAll(".v-lightLine").attr("visibility","hidden");u.attr("opacity",V);if(c.isIE()){u.selectAll(".v-lines").attr("visibility","visible")}Y.selectAll("g."+ak).selectAll("g.v-marker").selectAll("."+D).attr("opacity",V);Y.selectAll("g."+aj).selectAll("g.v-marker").selectAll("."+D).attr("opacity",V)}function H(){if(!ad.style){ad.style={}}var aB;if(!ad.style.marker){ad.style.marker={}}ad.style.marker.stroke="transparent";aB=Z.styleManager.queryDefault("v-hoverline");if(aB){if(aB.stroke){ac=aB.stroke}}}function aw(){W.topValue=null;W.bottomValue=null;z.topValue=null;z.bottomValue=null}G.afterUIComponentAppear=function(){Q.initialized()};G.width=function(aB){if(!arguments.length){return q}az=(!az&&(aB===q))?false:true;q=aB;if(a.isExist(q)&&a.isExist(t)&&a.isExist(U)){x()}return G};G.height=function(aB){if(!arguments.length){return t}az=(!az&&(aB===t))?false:true;t=aB;if(a.isExist(q)&&a.isExist(t)&&a.isExist(U)){x()}return G};G.properties=function(aB){if(!arguments.length){return ad}h.extend(true,ad,aB);if(ad.marker.size<4||ad.marker.size>32){ad.marker.size=6}if(ad.width<1||ad.width>7){ad.width=2}s();return G};G.primaryAxisColor=function(){if(z.data&&z.data.length>0){return X.register({graphType:"line",fillColor:W.colorPalette[0]})}else{return null}};G.secondAxisColor=function(){return X.register({graphType:"line",fillColor:z.colorPalette[0]})};G.dispatch=function(aB){if(!arguments.length){return Q}Q=aB;return G};G.data=function(aB){if(!arguments.length){return U}E=true;av=false;if(!f().hasSameSchema(U,aB)){av=true}U=aB;var aC=i(U);W.data=aC.MG1;z.data=aC.MG2;aw();L=aC.hasMND;ag=aC.MNDOnColor;T=aC.MNDInner;v=o.dataTransform(aC);if(a.isExist(q)&&a.isExist(t)&&a.isExist(U)){x()}s();return G};G.dataLabel=function(aB){};G.primaryAxisTitle=function(aC){if(!arguments.length){var aF=U.getMeasureValuesGroupDataByIdx(0),aE=[];if(aF){for(var aD=0,aB=aF.values.length;aD<aB;aD++){if(aF.values[aD].col!==null&&aF.values[aD].col!==undefined){aE.push(aF.values[aD].col)}else{aE.push(e.get("IDS_ISNOVALUE"))}}}return aE.join("/")}return this};G.secondAxisTitle=function(aC){if(!arguments.length){var aF=U.getMeasureValuesGroupDataByIdx(1),aE=[];if(aF){for(var aD=0,aB=aF.values.length;aD<aB;aD++){if(aF.values[aD].col!==null&&aF.values[aD].col!==undefined){aE.push(aF.values[aD].col)}else{aE.push(e.get("IDS_ISNOVALUE"))}}}return aE.join("/")}return this};G.getColorPalette=function(){if(N.length===0){s()}return N};G.shapePalette=function(){if(!arguments.length){return[ad.marker.shape]}return G};G.primaryScale=function(aB){if(!arguments.length){return W.scale}W.scale=aB;return G};G.secondaryScale=function(aB){if(!arguments.length){return z.scale}z.scale=aB;return G};G.categoryScale=function(aB){if(!arguments.length){return P}P=aB;return G};G.primaryDataRange=function(aB){if(!arguments.length){return{min:W.scale.domain()[0],max:W.scale.domain()[1]}}if(aB!==null){W.topValue=aB.max;W.bottomValue=aB.min;if(aB.from==="axis"){W.manualRange=true}if(a.isExist(q)&&a.isExist(t)){S(W)}}return G};G.secondDataRange=function(aB){if(!arguments.length){return{min:z.scale.domain()[0],max:z.scale.domain()[1]}}if(aB!==null){z.topValue=aB.max;z.bottomValue=aB.min;if(aB.from==="axis"){z.manualRange=true}if(a.isExist(q)&&a.isExist(t)){S(z)}}return G};G.parent=function(){return r};G.size=function(aB,aC){if(arguments.length===0){return{width:G.width(),height:G.height()}}G.width(aB).height(aC);return G};G.clear=function(aB){an();if(aB===null||aB===undefined){w()}else{R()}};G.highlight=function(aE){var aC;if(aE instanceof Array){aC=aE}else{aC=[];aC.push(aE)}for(var aD=0;aD<aC.length;aD++){var aB=aC[aD];if(!aa(W,aB)){aa(z,aB)}}};G.unhighlight=function(aE){var aC;if(aE instanceof Array){aC=aE}else{aC=[];aC.push(aE)}for(var aD=0;aD<aC.length;aD++){var aB=aC[aD];if(!B(W,aB)){B(z,aB)}}};G.hoverOnPoint=function(aB){var aF=aB.x,aE=aB.y;if(aF<0||aF>q){return}var aC=ar(aF);if(al===aC){return}var aI=P(aC)+P.rangeBand()/2;ay(al,"hidden","");ay(aC,"visible",ax);al=aC;if(ad.hoverline.visible){ap.attr("x1",aI).attr("x2",aI);ap.attr("visibility","visible")}else{ap.attr("visibility","hidden")}if(ad.tooltip.enabled){var aH={};var aD=au.node().getTransformToElement(au.node().ownerSVGElement);aH.x=P(aC)+P.rangeBand()/2+aD.e;aH.y=t/4+aD.f;var aG=am.generateTooltipData(U,v,aC,N,[ad.marker.shape]);aG.point=aH;aG.plotArea={x:aD.e,y:aD.f,width:q,height:t};Q.showTooltip(o.formatTooltipData(aG))}};G.blurOut=function(){ap.attr("visibility","hidden");ay(al,"hidden",D);al=null;if(ad.tooltip.enabled){Q.hideTooltip()}};ad=M.props(null);return G}});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.line",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.line",name:"line",base:"sap.viz.modules.xy.base",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."},width:{name:"width",supportedValueType:"PositiveInt",defaultValue:2,min:"1",max:"7",description:"Set width of line, range[1,7]. When beyond the range, the line width is default size 2."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation related properties."},hoverline:{name:"hoverline",supportedValueType:"Object",description:"Settings for hoverline properties.",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set to enabled/disabled hoverline or not.",},},},marker:{name:"marker",description:"Settings for marker/data point graphics",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set show marker or not."},shape:{name:"shape",supportedValueType:"List",supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],defaultValue:"circle",description:"Set marker shapes for chart."},size:{name:"size",supportedValueType:"PositiveInt",defaultValue:"6",min:"4",max:"32",description:"Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 6."}}}},css:{".viz-plot-hoverline.v-hoverline":{description:"Define style for hoverline in line.",value:{stroke:"#cccccc"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.horizontalline",version:"4.0.1"},[{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.BoundingBox",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.DrawUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(f,g,i,a,p,d,m,j,e,l,o,k,b,h,c,n){return function(M,Z){var C="v-marker-selected",ax="v-marker-hover",E="v-datapoint";var q,t;var U=null,ad;var ab=b.guid();var v=null;var am;var ah="#FFFFFF";var ac="#cccccc";var af="#333333";var P=d3.scale.ordinal();var ap;var al;var au;var Y,u,G;var Q=new g("showTooltip","hideTooltip","initialized","startToInit");var L;var ag;var T;var X=Z.effectManager;var W={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var z={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var N=[];var ak="v-axis1";var aj="v-axis2";var ai=false;var av=false,I=true,az=false,F=false;var at=0;var r=null;var aA;var V=0.4;function O(){var aB=false;if(I){aB=ad.animation.dataLoading}else{if(F){aB=ad.animation.dataUpdating}else{if(az){aB=ad.animation.resizing}}}return aB}function D(aB){n.drawBound(aB,q,t);am=o();J(aB);av=false,I=false,az=false,F=false;return D}function ao(aD){var aC={min:null,max:null};if(!aD.data||aD.data.length===0){return null}aC.max=Number(d3.max(aD.data,function(aE){return d3.max(aE,function(aF){return aF.val})}));aC.min=Number(d3.min(aD.data,function(aE){return d3.min(aE,function(aF){return aF.val})}));if(j.isNoValue(aC.max)){return null}if(aC.min>=0){aC.min=0;aC.max+=aC.max*5/q}else{if(aC.max<=0){aC.max=0;aC.min+=aC.min*5/q}else{var aB=(aC.max-aC.min)*5/q;aC.min-=aB;aC.max+=aB}}return aC}function s(){N=[];var aF=0,aE=0;if(z.data&&z.data.length>0){W.colorPalette=ad.primaryValuesColorPalette}else{W.colorPalette=ad.colorPalette}z.colorPalette=ad.secondaryValuesColorPalette;if(L&&ag&&T){var aI=U.getMeasureValuesGroupDataByIdx(0);var aH=U.getMeasureValuesGroupDataByIdx(1);var aG=0,aD=0,aC=0,aB=0;if(aI&&aI.values.length>0){aG=aI.values.length;aB=aI.values[0].rows.length}if(aH&&aH.values.length>0){aD=aH.values.length;aB=aH.values[0].rows.length}for(aF=0;aF<aB;aF++){for(aE=0;aE<aG;aE++){N.push(W.colorPalette[aF*aG+aE%W.colorPalette.length])}for(aE=0;aE<aD;aE++){N.push(z.colorPalette[aF*aD+aE%z.colorPalette.length])}}}else{for(aF=0;aF<W.data.length;++aF){N.push(W.colorPalette[aF%W.colorPalette.length])}if(z.data&&z.data.length>0){for(aF=0;aF<z.data.length;++aF){N.push(z.colorPalette[aF%z.colorPalette.length])}}}}function S(aC){if(aC.data&&aC.data.length>0){if(aC.topValue===null||aC.topValue===undefined){var aB=ao(aC);if(!aB||(aB.min===0&&aB.max===0)){aC.scale.domain([]).range([])}else{aC.scale.domain([aB.min,aB.max]).range([0,q])}}else{aC.scale.domain([aC.bottomValue,aC.topValue]).range([0,q])}}else{aC.scale.domain([0,0]).range([0,0])}return aC.scale}function x(){var aD=[];var aB=0;if(W.data.length!==0){aB=W.data[0].length}else{aB=z.data[0].length}for(var aC=0;aC<aB;aC++){aD.push(aC)}P.domain(aD).rangeBands([t,0]);S(W);S(z);if(W.data&&W.data.length>0&&z.data&&z.data.length>0){if(W.scale.domain().length===0&&z.scale.domain().length===0){W.scale.domain([0,1]).range([0,q]);z.scale.domain([0,1]).range([0,q])}else{if(W.scale.domain().length===0&&z.scale.domain().length!==0){W.scale.domain(z.scale.domain()).range(z.scale.range())}else{if(W.scale.domain().length!==0&&z.scale.domain().length===0){z.scale.domain(W.scale.domain()).range(W.scale.range())}}}if(!W.manualRange&&!z.manualRange){p.perfectDual(W.scale,z.scale)}else{if(!W.manualRange){p.perfect(W.scale);p.getRoughTickNum(z.scale)}else{if(!z.manualRange){p.perfect(z.scale);p.getRoughTickNum(W.scale)}else{p.getRoughTickNum(W.scale);p.getRoughTickNum(z.scale)}}}}else{if(W.data&&W.data.length>0){if(W.scale.domain().length===0){W.scale.domain([0,1]).range([0,q])}if(!W.manualRange){p.perfect(W.scale)}else{p.getRoughTickNum(W.scale)}}else{if(z.data&&z.data.length>0){if(z.scale.domain().length===0){z.scale.domain([0,1]).range([0,q])}if(!z.manualRange){p.perfect(z.scale)}else{p.getRoughTickNum(z.scale)}}}}}function ay(aD,aE,aC){if(aD===undefined||aD===null){return}var aB=0;for(aB=0;aB<W.data.length;++aB){if(!W.selectedMarkers[aB][aD]){ae(aB,aD,aC,W);if(!ad.marker.visible){if(at>0){d3.select(W.markers[aB][aD]).attr("opacity",V).attr("visibility",aE)}else{d3.select(W.markers[aB][aD]).attr("opacity",1).attr("visibility",aE)}}}}if(!z.data){return}for(aB=0;aB<z.data.length;++aB){if(!z.selectedMarkers[aB][aD]){ae(aB,aD,aC,z);if(!ad.marker.visible){if(at>0){d3.select(z.markers[aB][aD]).attr("opacity",V).attr("visibility",aE)}else{d3.select(z.markers[aB][aD]).attr("opacity",1).attr("visibility",aE)}}}}}function ae(aC,aB,aD,aF){var aE="transparent";if(aD===ax){aE=ah}else{if(aD===C){aE=af}}d3.select(aF.markers[aC][aB]).attr("class",E+" "+aD).attr("stroke",aE)}function ar(aD){var aC=aD/P.rangeBand();aC=Math.floor(aC);var aB=0;if(W.data.length!==0){aB=W.data[0].length}else{aB=z.data[0].length}if(aC>aB-1){aC=aB-1}if(aC<0){aC=0}return aB-1-aC}function aa(aI,aC){var aB=false,aH,aD;for(var aG=0;aG<aI.markers.length&&!aB;aG++){var aF=aI.markers[aG];for(var aE=0;aE<aF.length&&!aB;aE++){if(aF[aE]===aC){aB=true;aH=aG;aD=aE}}}if(!aB){return false}if(aI.selectedMarkers[aH][aD]){return true}ae(aH,aD,C,aI);d3.select(aI.markers[aH][aD]).attr("opacity",1).attr("visibility","visible");aI.selectedMarkers[aH][aD]=true;if(aD>0&&aI.selectedMarkers[aH][aD-1]){aI.highLines[aH][aD-1].attr("visibility","visible")}if(aD<aI.highLines[0].length&&aI.selectedMarkers[aH][aD+1]){aI.highLines[aH][aD].attr("visibility","visible")}++at}function B(aI,aC){var aD=al;var aB=false,aH;for(var aG=0;aG<aI.markers.length&&!aB;aG++){var aF=aI.markers[aG];for(var aE=0;aE<aF.length&&!aB;aE++){if(aF[aE]===aC){aB=true;aH=aG;aD=aE}}}if(!aB){return false}if(!aI.selectedMarkers[aH][aD]){return true}if(aD===al){ae(aH,aD,ax,aI)}else{ae(aH,aD,"",aI)}d3.select(aI.markers[aH][aD]).attr("opacity",V);if(!ad.marker.visible&&aD!==al){d3.select(aI.markers[aH][aD]).attr("visibility","hidden")}aI.selectedMarkers[aH][aD]=false;if(aD>0&&aI.selectedMarkers[aH][aD-1]){aI.highLines[aH][aD-1].attr("visibility","hidden")}if(aD<aI.highLines[0].length&&aI.selectedMarkers[aH][aD+1]){aI.highLines[aH][aD].attr("visibility","hidden")}--at}function A(aI){var aC={data:[],color:[]};var aB=[],aH,aD;for(var aG=0;aG<aI.length;++aG){var aF=0;for(var aE=0;aE<aI[aG].length;++aE){if(j.isNoValue(aI[aG][aE].val)){if(aE>aF){aB=[];for(aD=aF;aD<aE;aD++){aH=aI[aG][aD];aH.x=aD;aB.push(aH)}aC.data.push(aB);aC.color.push(aG)}aF=aE+1}}if(aF<aI[aG].length){aB=[];for(aD=aF;aD<aI[aG].length;aD++){aH=aI[aG][aD];aH.x=aD;aB.push(aH)}aC.data.push(aB);aC.color.push(aG)}}return aC}function K(aB,aH){if(!aB.data||aB.data.length===0){return}var aF=u.select("g."+aH);if(aF.empty()){aF=u.append("svg:g").attr("class",aH)}aB.selectedMarkers=new Array(aB.data.length);aB.markers=[];var aM=A(aB.data);var aK=aF.selectAll(".v-lines").data(aM.data);aK.enter().append("path").attr("class","v-lines").attr("stroke-width",ad.width).attr("stroke-linejoin","round");aK.exit().remove();aK.attr("stroke-width",ad.width);var aL=d3.svg.line().y(function(aO,aN){return P(aO.x)+P.rangeBand()/2}).x(function(aN){return aB.scale(aN.val)});aK.attr("transform",function(aO,aN){d3.select(this).attr("d",aL(aO)).attr("stroke",function(){var aP={graphType:"line",fillColor:aB.colorPalette[aM.color[aN]%aB.colorPalette.length]};return X.register(aP)})});var aC=G.selectAll("g."+aH);if(aC.empty()){aC=G.append("svg:g").attr("class",aH)}var aD=aC.selectAll("g").data(aB.data);aD.enter().append("g");aD.exit().remove();aB.highLines=[];aD.attr("transform",function(aP,aO){d3.select(this).selectAll(".v-lightLine").remove();aB.highLines.push([]);for(var aN=1;aN<aP.length;++aN){if(j.isNoValue(aP[aN].val)||j.isNoValue(aP[aN-1].val)){aB.highLines[aO].push(null)}else{aB.highLines[aO].push(d3.select(this).append("svg:line").attr("class","v-lightLine").attr("x1",aB.scale(aP[aN-1].val)).attr("y1",P(aN-1)+P.rangeBand()/2).attr("x2",aB.scale(aP[aN].val)).attr("y2",P(aN)+P.rangeBand()/2).attr("stroke-width",ad.width).attr("stroke",aB.colorPalette[aO%aB.colorPalette.length]).attr("visibility","hidden"))}}});for(var aG=0;aG<aB.data.length;++aG){aB.selectedMarkers[aG]=[];for(var aI=0;aI<aB.data[0].length;++aI){aB.selectedMarkers[aG][aI]=false}}var aJ=Y.select("g."+aH);if(aJ.empty()){aJ=Y.append("svg:g").attr("class",aH)}aD=aJ.selectAll("g.v-marker").data(aB.data);aD.enter().append("svg:g").attr("class","v-marker");aD.exit().remove();var aE="hidden";if(ad&&ad.marker&&ad.marker.visible){aE="visible"}aD.attr("transform",function(aR,aO){var aQ=d3.select(this).selectAll(".v-datashape").data(aR);var aP=aQ.enter().append("g").attr("class","v-datashape");l.createElements(aP,{shape:ad.marker.shape,className:E});aQ.exit().remove();var aN=[];aQ.attr("transform",function(aS,aT){if(j.isNoValue(aS.val)){d3.select(this).remove();aN.push(null);return}aN.push(d3.select(this).selectAll("path").node());var aU={drawingEffect:ad.drawingEffect,graphType:ad.marker.shape,fillColor:aB.colorPalette[aO%aB.colorPalette.length],direction:"vertical",rx:ad.marker.size/2,ry:ad.marker.size/2,borderWidth:2,borderColor:ad.style.marker.stroke,node:d3.select(this).select("path"),visibility:aE};l.drawGraph(aU,X);return"translate("+aB.scale(aS.val)+","+(P(aT)+P.rangeBand()/2)+")"});aB.markers.push(aN)})}function aq(aE,aB){if(at===0||!aE.selectedMarkers||aE.selectedMarkers.length===0){return}for(var aC=0;aC<aE.selectedMarkers.length;++aC){for(var aD=0;aD<aE.selectedMarkers[0].length;++aD){if(!aE.selectedMarkers[aC][aD]){continue}if(aD===aB){ae(aC,aD,ax,aE);if(!ad.marker.visible){d3.select(aE.markers[aC][aD]).attr("opacity",V).attr("visibility","visible")}}else{ae(aC,aD,"",aE);if(!ad.marker.visible){d3.select(aE.markers[aC][aD]).attr("visibility","hidden")}}aE.selectedMarkers[aC][aD]=false}}}function an(){var aC=(d3.event?d3.event.clientY:0)-au.node().getBoundingClientRect().top;var aB=ar(aC);aq(W,aB);aq(z,aB);at=0}function J(aC){r=aC;H();Q.startToInit();if(!au){au=aC.append("svg:g")}if(!ap){ap=au.append("svg:line").attr("stroke",ac).attr("class","v-hoverline viz-plot-hoverline")}ap.attr("x1",0).attr("y1",0).attr("x2",q).attr("y2",0).attr("stroke-width",1).attr("visibility","hidden").attr("stroke-linejoin","round");if(!u){u=au.append("svg:g").attr("class","v-datalines");G=au.append("svg:g").attr("class","v-lightLines");Y=au.append("svg:g").attr("class","v-markers v-datashapesgroup")}if(!aA){aA=au.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+ab).append("rect")}aA.attr("x",0).attr("y",(O()?t:0)).attr("height",(O()?0:t)).attr("width",q);at=0;w();Y.attr("clip-path","url(#clip1_"+ab+")").attr("fill","none");u.attr("clip-path","url(#clip1_"+ab+")").attr("fill","none");G.attr("clip-path","url(#clip1_"+ab+")").attr("fill","none");K(W,ak);K(z,aj);if(O()){ai=true;var aE=0;var aB=t/50;var aD=setInterval(function(aF){if(aE>=t){clearInterval(aD);Q.initialized()}else{aE+=aB;aA.attr("height",aE);aA.attr("y",t-aE)}},20)}else{Q.initialized()}}function w(){G.selectAll("g."+ak).selectAll(".v-lightLine").attr("visibility","hidden");G.selectAll("g."+aj).selectAll(".v-lightLine").attr("visibility","hidden");u.attr("opacity",1);if(c.isIE()){u.selectAll(".v-lines").attr("visibility","visible")}Y.selectAll("g."+ak).selectAll("g.v-marker").selectAll("."+E).attr("opacity",1);Y.selectAll("g."+aj).selectAll("g.v-marker").selectAll("."+E).attr("opacity",1)}function R(){G.selectAll("g."+ak).selectAll(".v-lightLine").attr("visibility","hidden");G.selectAll("g."+aj).selectAll(".v-lightLine").attr("visibility","hidden");u.attr("opacity",V);if(c.isIE()){u.selectAll(".v-lines").attr("visibility","visible")}Y.selectAll("g."+ak).selectAll("g.v-marker").selectAll("."+E).attr("opacity",V);Y.selectAll("g."+aj).selectAll("g.v-marker").selectAll("."+E).attr("opacity",V)}function H(){if(!ad.style){ad.style={}}var aB;if(!ad.style.marker){ad.style.marker={}}ad.style.marker.stroke="transparent";aB=Z.styleManager.queryDefault("v-hoverline");if(aB){if(aB.stroke){ac=aB.stroke}}}function aw(){W.topValue=null;W.bottomValue=null;z.topValue=null;z.bottomValue=null}D.afterUIComponentAppear=function(){Q.initialized()};D.width=function(aB){if(!arguments.length){return q}az=(!az&&(aB===q))?false:true;q=aB;if(a.isExist(q)&&a.isExist(t)&&a.isExist(U)){x()}return D};D.height=function(aB){if(!arguments.length){return t}az=(!az&&(aB===q))?false:true;t=aB;if(a.isExist(q)&&a.isExist(t)&&a.isExist(U)){x()}return D};D.properties=function(aB){if(!arguments.length){return ad}h.extend(true,ad,aB);if(ad.marker.size<4||ad.marker.size>32){ad.marker.size=6}if(ad.width<1||ad.width>7){ad.width=2}s();return D};D.primaryAxisColor=function(){if(z.data&&z.data.length>0){return X.register({graphType:"line",fillColor:W.colorPalette[0]})}else{return null}};D.secondAxisColor=function(){return X.register({graphType:"line",fillColor:z.colorPalette[0]})};D.dispatch=function(aB){if(!arguments.length){return Q}Q=aB;return D};D.data=function(aB){if(!arguments.length){return U}F=true;av=false;if(!f().hasSameSchema(U,aB)){av=true}U=aB;var aC=i(U);W.data=aC.MG1;z.data=aC.MG2;aw();L=aC.hasMND;ag=aC.MNDOnColor;T=aC.MNDInner;v=o.dataTransform(aC);if(a.isExist(q)&&a.isExist(t)&&a.isExist(U)){x()}s();return D};D.primaryAxisTitle=function(aC){if(!arguments.length){var aF=U.getMeasureValuesGroupDataByIdx(0),aE=[];if(aF){for(var aD=0,aB=aF.values.length;aD<aB;aD++){if(aF.values[aD].col!==null&&aF.values[aD].col!==undefined){aE.push(aF.values[aD].col)}else{aE.push(e.get("IDS_ISNOVALUE"))}}}return aE.join("/")}return this};D.secondAxisTitle=function(aC){if(!arguments.length){var aF=U.getMeasureValuesGroupDataByIdx(1),aE=[];if(aF){for(var aD=0,aB=aF.values.length;aD<aB;aD++){if(aF.values[aD].col!==null&&aF.values[aD].col!==undefined){aE.push(aF.values[aD].col)}else{aE.push(e.get("IDS_ISNOVALUE"))}}}return aE.join("/")}return this};D.getColorPalette=function(){if(N.length===0){s()}return N};D.shapePalette=function(aB){if(!arguments.length){return[ad.marker.shape]}return D};D.primaryScale=function(aB){if(!arguments.length){return W.scale}W.scale=aB;return D};D.secondaryScale=function(aB){if(!arguments.length){return z.scale}z.scale=aB;return D};D.categoryScale=function(aB){if(!arguments.length){return P}P=aB;return D};D.primaryDataRange=function(aB){if(!arguments.length){return{min:W.scale.domain()[0],max:W.scale.domain()[1]}}if(aB!==null){W.topValue=aB.max;W.bottomValue=aB.min;if(aB.from==="axis"){W.manualRange=true}if(a.isExist(q)&&a.isExist(t)){S(W)}}return D};D.secondDataRange=function(aB){if(!arguments.length){return{min:z.scale.domain()[0],max:z.scale.domain()[1]}}if(aB!==null){z.topValue=aB.max;z.bottomValue=aB.min;if(aB.from==="axis"){z.manualRange=true}if(a.isExist(q)&&a.isExist(t)){S(z)}}return D};D.parent=function(){return r};D.dataLabel=function(aB){};D.size=function(aB,aC){if(arguments.length===0){return{width:D.width(),height:D.height()}}D.width(aB).height(aC);return D};D.clear=function(aB){an();if(aB===null||aB===undefined){w()}else{R()}};D.highlight=function(aE){var aC;if(aE instanceof Array){aC=aE}else{aC=[];aC.push(aE)}for(var aD=0;aD<aC.length;aD++){var aB=aC[aD];if(!aa(W,aB)){aa(z,aB)}}};D.unhighlight=function(aE){var aC;if(aE instanceof Array){aC=aE}else{aC=[];aC.push(aE)}for(var aD=0;aD<aC.length;aD++){var aB=aC[aD];if(!B(W,aB)){B(z,aB)}}};D.hoverOnPoint=function(aB){var aF=aB.x,aE=aB.y;if(aE<0||aE>t){return}var aC=ar(aE);if(al===aC){return}var aH=P(aC)+P.rangeBand()/2;ay(al,"hidden","");ay(aC,"visible",ax);al=aC;if(ad.hoverline.visible){ap.attr("y1",aH).attr("y2",aH);ap.attr("visibility","visible")}else{ap.attr("visibility","hidden")}if(ad.tooltip.enabled){var aI={};var aD=au.node().getTransformToElement(au.node().ownerSVGElement);aI.x=q*3/4+aD.e;aI.y=aH+aD.f;var aG=am.generateTooltipData(U,v,aC,N,[ad.marker.shape]);aG.point=aI;aG.plotArea={x:aD.e,y:aD.f,width:q,height:t};Q.showTooltip(o.formatTooltipData(aG))}};D.blurOut=function(){ap.attr("visibility","hidden");ay(al,"hidden","");al=null;if(ad.tooltip.enabled){Q.hideTooltip()}};ad=M.props(null);return D}});sap.riv.module({qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.horizontalline",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.horizontalline",name:"horizontalline",base:"sap.viz.modules.line",fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalCombinationChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalCombination",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"}],function Setup(b){var a={base:"riv/basehorizontalchart",id:"viz/horizontal_combination",name:"IDS_HORIZONTALCOMBINATIONCHART",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"selectability"}},main:{modules:{plot:{id:"sap.viz.modules.horizontalcombination",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside"}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualHorizontalCombinationChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalCombinationChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalCombination",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_horizontal_combination",name:"IDS_DUALHORIZONTALCOMBINATIONCHART",base:"viz/horizontal_combination",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},dataShape:{secondAxis:{isExported:true}}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{type:"value",position:"top",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.CombinationChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Combination",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"}],function Setup(b){var a={base:"riv/baseverticalchart",id:"viz/combination",name:"IDS_COMBINATIONCHART",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{modules:{plot:{id:"sap.viz.modules.combination",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside"}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualCombinationChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.CombinationChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Combination",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_combination",name:"IDS_DUALCOMBINATIONCHART",base:"viz/combination",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},dataShape:{secondAxis:{isExported:true}}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{type:"value",position:"right",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.plot",target:"secondDataRange",sourceModule:"root.main.yAxis2",source:"range"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.LineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/line",name:"IDS_LINECHART",base:"riv/baseverticalchart",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,positionPreference:true}}},plot:{id:"sap.viz.modules.line",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},{qname:"sap.viz.manifests.xy.LineChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_line",name:"IDS_DIUALLINECHART",base:"viz/line",modules:{root:{modules:{main:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{type:"value",position:"right",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.plot",target:"secondDataRange",sourceModule:"root.main.yAxis2",source:"range"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondaryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/horizontal_line",name:"IDS_HORIZONTALLINECHART",base:"riv/basehorizontalchart",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,positionPreference:true}}},plot:{id:"sap.viz.modules.horizontalline",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualHorizontalLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalLineChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_horizontal_line",name:"IDS_DUALHORIZONTALLINECHART",base:"viz/horizontal_line",modules:{root:{modules:{main:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}},propertyCategory:"xAxis2",properties:{type:"value",position:"top",gridline:{visible:false}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.modules.stackedwaterfall",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"}],function Setup(b,e,g,d,h,l,c,f,k,j,a){var i=function(x,J){var ad="v-hoverline";var L,m,o,ae,K,q,s,D,S,Z,E,r,W,X=false,w=true,ac=false,t=false,T=null,F,u,A,n,C=new e("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var O=d.get("IDS_ISNOVALUE"),z=c.sap32().range(),aa=["squareWithRadius"],H=1200,G;var U={};var Q=k();var I=J.effectManager,N="normal";var ab=d3.scale.ordinal(),p=d3.scale.linear();var Y=function(af){j.drawBound(af,m,o);if(!b.isExist(p)){return}C.startToInit();af.each(function(){W=R();var al=W.barSize;var an=0;var ai=H/S;G=d3.select(this);if(r===undefined){r=G.append("rect").style("visibility","hidden").attr("fill",U.hoverline.fill).attr("class",ad)}else{r.style("visibility","hidden")}if(L.isHorizontal===false){r.attr("width",ab.rangeBand()-W.barGap).attr("height",o)}else{r.attr("height",ab.rangeBand()-W.barGap).attr("width",m)}if(X===true){G.selectAll("g.v-waterfallgroup").remove();G.selectAll("g.v-datashapesgroup").remove()}var ap=G.selectAll("g.v-datashapesgroup");if(ap.empty()){ap=G.append("g").attr("class","v-datashapesgroup")}var ag=ap.selectAll("g.v-waterfallgroup").data(K);ag.enter().append("g").attr("class","v-waterfallgroup");ag.exit().remove();var ao=false;if(w){ao=L.animation.dataLoading}else{if(t){ao=L.animation.dataUpdating}else{if(ac){ao=L.animation.resizing}}}var aq=ag.selectAll("g.v-datashape").data(function(at,ar){return at.items});var am=aq.enter().append("g").attr("class","v-datashape");am.append("rect").attr("class","v-datapoint").attr("fill-opacity",1);if(!ao){aq.exit().remove();if(L.isHorizontal===false){ag.attr("transform",function(au,ar){var at=ab(ar)+W.barGap;return"translate("+at+","+0+")"});aq.attr("transform",function(ar){var at=(ar.val>0)?p(an+ar.after):p(an+ar.before);return"translate("+0+","+at+")"});aq.select("rect").attr("fill",function(at){var ar={drawingEffect:N,fillColor:z[at.index%z.length],direction:"horizontal"};return I.register(ar)}).attr("width",al).attr("height",function(ar){return Math.abs(p(ar.after)-p(ar.before))})}else{ag.attr("transform",function(au,ar){var at=ab(ar)+W.barGap;return"translate("+0+","+at+")"});aq.attr("transform",function(au,at){var ar=(au.val>0)?p(an+au.before):p(an+au.after);return"translate("+ar+","+0+")"});aq.select("rect").attr("fill",function(au,ar){var at={drawingEffect:N,fillColor:z[au.index%z.length],direction:"vertical"};return I.register(at)}).attr("height",al).attr("width",function(at,ar){return Math.abs(p(at.after)-p(at.before))})}C.initialized()}else{aq.exit().transition().duration(ai).attr("height",0).attr("width",0).remove();var aj,ak,ah;if(L.isHorizontal===false){am.selectAll("rect").attr("height",0);am.attr("transform",function(ar){var at=p(an+ar.before);return"translate("+0+","+at+")"});ag.attr("transform",function(au,ar){var at=ab(ar)+W.barGap;return"translate("+at+","+0+")"});for(ak=0,ah=aq.length;ak<ah;ak++){aj=d3.selectAll(aq[ak]);aj.transition().duration(ai).delay(function(at,ar){return ak*ai}).attr("transform",function(ar){var at=(ar.val>0)?p(an+ar.after):p(an+ar.before);return"translate("+0+","+at+")"});aj.select("rect").attr("fill",function(at){var ar={drawingEffect:N,fillColor:z[at.index%z.length],direction:"horizontal"};return I.register(ar)}).attr("width",al).transition().duration(ai).delay(function(){return ak*ai}).attr("height",function(ar){return Math.abs(p(ar.after)-p(ar.before))}).each("end",function(at,ar){if(at.isLastItem!==undefined&&at.isLastItem===true){C.initialized()}})}}else{am.selectAll("rect").attr("width",0);am.attr("transform",function(at){var ar=p(an+at.before);return"translate("+ar+","+0+")"});ag.attr("transform",function(au,ar){var at=ab(ar)+W.barGap;return"translate("+0+","+at+")"});for(ak=0,ah=aq.length;ak<ah;ak++){aj=d3.selectAll(aq[ak]);aj.transition().duration(ai).delay(function(){return ak*ai}).attr("transform",function(at){var ar=(at.val>0)?p(an+at.before):p(an+at.after);return"translate("+ar+","+0+")"});aj.select("rect").attr("fill",function(at){var ar={drawingEffect:N,fillColor:z[at.index%z.length],direction:"vertical"};return I.register(ar)}).attr("height",al).transition().duration(ai).delay(function(){return ak*ai}).attr("width",function(ar){return Math.abs(p(ar.after)-p(ar.before))}).each("end",function(at,ar){if(at.isLastItem!==undefined&&at.isLastItem===true){C.initialized()}})}}}w=false;ac=false;t=false})};Y.afterUIComponentAppear=function(){C.initialized()};Y.hoverOnPoint=function(ag){var aj=ag.x,ah=ag.y;var af;if(L.isHorizontal===false){af=aj}else{af=ah}var ak=-1;var am=K.length;while(ak<am){if(Math.abs(af-ab.rangeBand()*ak-0.5*ab.rangeBand())<=0.5*ab.rangeBand()){break}ak++}if(ak>(am-1)||ak<0){r.style("visibility","hidden");return}if(L.isHorizontal===false){r.attr("x",ab.rangeBand()*ak+W.barGap/2)}else{r.attr("y",ab.rangeBand()*ak+W.barGap/2)}r.style("visibility","visible");if(T!==ak){if(E){T=ak;var ai=G.node().getTransformToElement(G.node().ownerSVGElement);var al=Q.generateTooltipData(ae,q,ak,z,aa);if(L.isHorizontal===false){al.point={x:ab.rangeBand()*ak+0.5*ab.rangeBand()+ai.e,y:d3.event.layerY}}else{al.point={x:d3.event.layerY,y:ab.rangeBand()*ak+0.5*ab.rangeBand()+ai.f}}C.showTooltip(k.formatTooltipData(al))}}};Y.blurOut=function(){r.style("visibility","hidden");T=null;if(E){C.hideTooltip()}};Y.highlight=function(ag){if(ag instanceof Array){for(var ah=0,af=ag.length;ah<af;ah++){ag[ah].setAttribute("fill-opacity",1)}}else{ag.setAttribute("fill-opacity",1)}};Y.unhighlight=function(ag){if(ag instanceof Array){for(var ah=0,af=ag.length;ah<af;ah++){ag[ah].setAttribute("fill-opacity",0.4)}}else{ag.setAttribute("fill-opacity",0.4)}};Y.clear=function(af){if(af===undefined){G.selectAll(".v-datapoint").attr("fill-opacity",1)}else{G.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};Y.parent=function(){return G};Y.data=function(af){if(!arguments.length){return ae}ae=af;V(af);if(b.isExist(m)&&b.isExist(o)){M()}return Y};Y.properties=function(af){if(!arguments.length){return L}f.extend(true,L,af);z=L.colorPalette;N=L.drawingEffect;E=L.tooltip.enabled;if(A!==L.isShowTotal||n!==L.subtotal.visible){A=L.isShowTotal;n=L.subtotal.visible;V(ae)}return Y};Y.width=function(af){if(!arguments.length){return m}ac=(!ac&&(af===m))?false:true;m=af;if(b.isExist(ae)&&b.isExist(m)&&b.isExist(o)){M()}return Y};Y.height=function(af){if(!arguments.length){return o}ac=(!ac&&(af===o))?false:true;o=af;if(b.isExist(ae)&&b.isExist(m)&&b.isExist(o)){M()}return Y};Y.primaryAxisTitle=function(ag){if(!arguments.length){var aj=ae.getMeasureValuesGroupDataByIdx(0),ai=[];if(aj){for(var ah=0,af=aj.values.length;ah<af;ah++){if(aj.values[ah].col!==null&&aj.values[ah].col!==undefined){ai.push(aj.values[ah].col)}else{ai.push(d.get("IDS_ISNOVALUE"))}}}return ai.join("/")}return Y};Y.secondAxisTitle=function(ag){if(!arguments.length){var aj=ae.getMeasureValuesGroupDataByIdx(1),ai=[];if(aj){for(var ah=0,af=aj.values.length;ah<af;ah++){if(aj.values[ah].col!==null&&aj.values[ah].col!==undefined){ai.push(aj.values[ah].col)}else{ai.push(d.get("IDS_ISNOVALUE"))}}}return ai.join("/")}return Y};Y.categoryScale=function(af){if(!arguments.length){return ab}ab=af;return Y};Y.primaryScale=function(af){if(!arguments.length){return p}p=af;return Y};Y.colorPalette=function(af){if(!arguments.length){return z}z=af;return this};Y.dispatch=function(af){if(!arguments.length){return C}C=af;return Y};Y.dataLabel=function(af){return Y};Y.dimensionData=function(af){if(!arguments.length){return[F]}F=af};var R=function(){var ah=2*(ab.rangeBand())/3;var ag=ah/2;var ak=L.barGap;var ai=ag,aj=ah;if(ak!==undefined){var af=ab.rangeBand()-ak;if(!(ak<5||af<0)){aj=af;ai=ak}}return{barSize:aj,barGap:ai/2}};var M=function(){var ag=[];for(var af=0;af<S;af++){ag.push(af)}if(L.isHorizontal===true){ab.domain(ag).rangeBands([0,o]);if(s===0&&D===0){p.domain([0,1]).range([0,m]).nice()}else{p.domain([s,D]).range([0,m]).nice()}}else{ab.domain(ag).rangeBands([0,m]);if(s===0&&D===0){p.domain([0,1]).range([o,0]).nice()}else{p.domain([s,D]).range([o,0]).nice()}}l.perfect(p)};var V=function(aE){F={};u={};if((A===true)||(L.subtotal.visible===true)){a.extend(true,F,aE.getAnalysisAxisDataByIdx(0));a.extend(true,u,aE.getMeasureValuesGroupDataByIdx(0))}else{F=aE.getAnalysisAxisDataByIdx(0);u=aE.getMeasureValuesGroupDataByIdx(0)}var au=g(aE);q=k.dataTransform(au);var ai=au.MG1,ao=L.initialValue;X=false;if(S===undefined&&Z===undefined){w=true}else{t=true}if((S!==undefined&&Z!==undefined)&&(S!==ai[0].length||Z!==ai.length)){X=true}var at,am,az,aF=[],aq=[],ak=0,aB={},aw=[],an,ag,av,aj,ah=0,aD,ar=0;var aC;at=am=ao;K=[],s=0,D=0;S=ai[0].length;Z=ai.length;var aA,ap,al;if(L.subtotal.visible===true){aA=0;ap=S;al=L.subtotal.subGroups}for(var ay=0;ay<S;ay++){at=am=ao;aw=[],ak=0,ag=false;if(az===undefined){az=ao}for(var ax=0;ax<Z;ax++){an=P(ai[ax][ay].val);aC=ai[ax][ay].info;if(aC){ag=(aC.valueinfo===undefined)?false:aC.valueinfo.isTotal;if(ag&&(ax===0)){at=am=0}}if(an!==O){if(ag){if(an>0){av=at;aj=at+an;at=aj}else{av=am;aj=am+an;am=aj}}else{aq[ax]=(aq[ax]?aq[ax]+an:an);ak=ak+an;if(an>0){av=at;aj=at+an;at=aj}else{av=am;aj=am+an;am=aj}aF[ax]=(aF[ax]?aF[ax]+an:an)}if(aj>D){D=aj}if(aj<s){s=aj}aB={index:ax,val:ai[ax][ay].val,before:av,after:aj,ctx:ai[ax][ay].ctx};aw.push(aB)}}K.push({total:ak,start:ao,items:aw});ah=ah+ak;if(L.subtotal.visible===true){aD=al[aA];while((aA<al.length)&&(aD<0||aD>S-1)){aA++;aD=al[aA]}if(ay===aD){if(L.subtotal.isSubgroupTotal){B(ay+ar+1,ao,aq,"Sub-Total-"+ar)}else{B(ay+ar+1,0,aF,"Sub-Total-"+ar)}az=undefined;aq=[];aA++;ar++;ap++}}ao=ao+ak}if(ap!==undefined){S=ap}if(A){B(S,0,aF,"Total");S++}if(S>0){var af=K[S-1].items;if(af.length>0){af[af.length-1].isLastItem=true}}};var B=function(ao,ag,ah,at){var aj,ar,aq,af,ak,ap=[],an=0,al;aj=ar=ag;for(var am=0,ai=ah.length;am<ai;am++){al=ah[am];an=an+al;if(al>0){aq=aj;af=aj+al;aj=af}else{aq=ar;af=ar+al;ar=af}ak={index:am,val:al,before:aq,after:af,ctx:{path:{mg:al,mi:am}}};ap.push(ak);u.values[0].rows[am].splice(ao,0,{val:ah[am]})}K.push({total:an,start:ag,items:ap});F.values[0].rows.splice(ao,0,{val:at})};var P=function(af){return(af===null||af===undefined)?O:af};function v(){U.hoverline=J.styleManager.queryDefault(ad)}v();L=x.props(null);return Y};return i});sap.riv.module({qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.stackedwaterfall",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.stackedwaterfall",name:"stackedwaterfall",base:"sap.viz.modules.xy.bar.base",properties:{isRoundCorner:null,primaryValuesColorPalette:null,secondaryValuesColorPalette:null,isHorizontal:{name:"isHorizontal",supportedValueType:"Boolean",defaultValue:false,description:"Set stacked waterfall orientaion.",isExported:false},isShowTotal:{name:"isShowTotal",supportedValueType:"Boolean",defaultValue:false,description:"Set stacked waterfall show/hide total value.",isExported:false},subtotal:{name:"subtotal",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of subtotal."},isSubgroupTotal:{name:"isSubgroupTotal",supportedValueType:"Boolean",defaultValue:true,description:"Set isRuntimeTotal of subtotal."},subGroups:{name:"subGroups",supportedValueType:"StringArray",defaultValue:[],description:"Set bar groups.",isExported:false}},isExported:false,description:"Settings for subtotal related properties."},barGap:{name:"barGap",supportedValueType:"PositiveInt",defaultValue:undefined,min:"5",description:"Set the distance between bars. Default value is the same as bar size.",isExported:true},initialValue:{name:"initialValue",supportedValueType:"PositiveInt",defaultValue:0,description:"Set initial value of waterfall.",isExported:true}},fn:c,feeds:{configure:{secondaryValues:null,regionColor:{acceptMND:-1,min:1,max:1},axisLabels:{max:1,acceptMND:-1},primaryValues:{max:1}}}};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.StackedWaterfallChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/stacked_waterfall",name:"IDS_STACKEDWATERFALLCHART",base:"riv/baseverticalchart",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{modules:{plot:{id:"sap.viz.modules.stackedwaterfall",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{primaryValues:{max:a.Constraints.INF},regionColor:{acceptMND:1,max:2},axisLabels:{max:2,acceptMND:0,maxStackedDims:1}},dependencies:{attributes:[undefined,undefined,undefined,{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalStackedWaterfallChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedWaterfallChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"}],function Setup(b){var a={id:"viz/horizontal_stacked_waterfall",name:"IDS_HORIZONTALSTACKEDWATERFALL",base:"viz/stacked_waterfall",modules:{root:{modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"bar"}}},main:{modules:{plot:{id:"sap.viz.modules.stackedwaterfall",configure:{propertyCategory:"plotArea",properties:{isHorizontal:true}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",gridline:{visible:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false},isIndependentMode:true},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"horizontal"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false,orientation:"horizontal"},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{axisLabels:{maxStackedDims:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},undefined,{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.WaterfallChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/waterfall",name:"IDS_WATERFALLCHART",base:"riv/baseverticalchart",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,showZero:false,outsideVisible:false}}},xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true}}},plot:{id:"sap.viz.modules.stackedwaterfall",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",propertiesOverride:{isShowTotal:{isExported:true}}}}}}}}},feeds:{regionColor:null},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},null,{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalWaterfallChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/horizontal_waterfall",name:"IDS_HORIZONTALWATERFALLCHART",base:"riv/basehorizontalchart",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,showZero:false,outsideVisible:false}}},yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true}}},plot:{id:"sap.viz.modules.stackedwaterfall",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{isHorizontal:true},propertiesOverride:{isShowTotal:{isExported:true}}}}}}}}},feeds:{regionColor:null},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},null,{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.ImageBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/image_bar",name:"IDS_IMAGEBARCHART",base:"viz/bar",modules:{root:{modules:{main:{modules:{dataLabel:{configure:{properties:{visible:true,position:"outside"}}},plot:{configure:{properties:{imageFill:true},propertiesOverride:{imagePalette:{isExported:true}}}}}}}}},dependencies:{attributes:[undefined,undefined,undefined,undefined,undefined,undefined,{targetModule:"root.legend",target:"imageInfo",sourceModule:"root.main.plot",source:"imageInfo"},{targetModule:"root.tooltip",target:"imageInfo",sourceModule:"root.main.plot",source:"imageInfo"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.DualBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_bar",name:"IDS_DUALBARCHART",base:"viz/bar",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{type:"value",position:"top",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondScale"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.DualVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_column",name:"IDS_DUALVERTICALBARCHART",base:"viz/column",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{type:"value",position:"right",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.plot",target:"secondDataRange",sourceModule:"root.main.yAxis2",source:"range"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondScale"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.StackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/stacked_column",name:"IDS_STACKEDVERTICALBARCHART",base:"viz/column",feeds:{secondaryValues:null},modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedVerticalBarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_stacked_column",name:"IDS_DUALSTACKEDVERTICALBARCHART",base:"viz/dual_column",modules:{root:{modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.DualPercentageStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualStackedVerticalBarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/100_dual_stacked_column",name:"IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART",base:"viz/dual_stacked_column",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,showZero:true}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{isPercentMode:true}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis2",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_dual_stacked_column",orientation:"bottom",formatString:[["0.00%"],["0.00%"]]}}}}}}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.StackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/stacked_bar",name:"IDS_STACKEDBARCHART",base:"viz/bar",feeds:{secondaryValues:null},modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedBarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_stacked_bar",name:"IDS_DUALSTACKEDBARCHART",base:"viz/dual_bar",modules:{root:{modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.DualPercentageStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualStackedBarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/100_dual_stacked_bar",name:"IDS_DUALPERCENTAGESTACKEDBARCHART",base:"viz/dual_stacked_bar",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,showZero:true}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{isPercentMode:true}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis2",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_dual_stacked_bar",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}}}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedBarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/100_stacked_bar",name:"IDS_PERCENTAGESTACKEDBARCHART",base:"viz/stacked_bar",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{type:"value",isPercentMode:true,showZero:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_stacked_bar",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedVerticalBarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/100_stacked_column",name:"IDS_PERCENTAGESTACKEDVERTICALBARCHART",base:"viz/stacked_column",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{type:"value",isPercentMode:true,showZero:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_stacked_column",orientation:"bottom",formatString:[["0.00%"],["0.00%"]]}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.Pie",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(c,b){var a={id:"pie",feeds:[{id:"pieSectorColor",name:"IDS_PIESECTORCOLORNAME",type:b.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1},{id:"pieSectorSize",name:"IDS_PIESECTORSIZE",type:b.Type.Measure,min:1,max:1,mgIndex:1},{id:"pieDepthSize",name:"IDS_PIEDEPTHSIZE",type:b.Type.Measure,min:0,max:1,mgIndex:2}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.pie.tooltip",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"}],function Setup(l,f,k){var r="v-pie-tooltip",b="v-pie-tooltip-caret",g=8.9*14/2;var h=60,j=8;var m=["viz-pie-tooltip-label-dimensions","viz-pie-tooltip-label-value","viz-pie-tooltip-label-percentage"];var d=["v-tooltip-label","v-tooltip-value","v-tooltip-percentage"];function e(t){var u=t.append("svg:path").attr("class",b).attr("d","M 0 0 Z").attr("fill","#fff");if(f.isSafari()){u.style("-webkit-svg-shadow","0 0 10px rgba(0, 0, 0, 0.25)")}else{var s="tooltip-caret-shadow-"+k.guid();t.append("defs").call(c,s);u.attr("filter","url(#"+s+")")}}function c(s,v){var t=s.append("filter").attr("id",v);t.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",3).attr("result","blur");var u=t.append("feMerge");u.append("feMergeNode").attr("in","blur");u.append("feMergeNode").attr("in","SourceGraphic")}function p(v,s){for(var t=0;t<3;t++){var u=d[t];var w=v.append("svg:text").attr("dominant-baseline","central").attr("text-anchor","middle");s.queryDefault(u).toAttrs(w);w.attr("class",m[t]+" "+u).datum(function(x){return{text:""}})}}function a(s){return s.selectAll("text")}function o(v,t){var s=d[1];var u;v.each(function(w){w.r=d3.select(this.parentNode).datum().r}).filter("."+s).attr("dy",function(z){var x=0,w=z.text;if(f.isIE()){x=l.verticalCentralOffset(w,this)}l.ellipsisInCircle(w,this,z.r,0,t.cssText(s));u=this.getBBox().height;return x});v.filter(":not(."+s+")").attr("dy",function(C,B){var w=C.text;var A=l.measure(w,this).height;var z=(f.isIE()?(B===0?0:A):(A/2))+u/2+j;var x=Math.sqrt(Math.pow(C.r,2)-Math.pow(A+u/2+j,2))*2;l.ellipsis(w,this,x,t.cssText(d[B===0?0:2]));if(B===0){z=-z}return z})}function n(s){s%=360;if(s<0){s+=360}return s}function i(s,t){var u=s.transform.baseVal;var A=u.numberOfItems===0?0:n(u.getItem(0).angle);var C=[];C[0]=n(t);C[1]=C[0]-360;C[2]=C[0]+360;var w=360,z=null;for(var v=0;v<C.length;v++){var x=Math.abs(C[v]-A);if(x<w){w=x;z=v}}var B=d3.interpolateNumber(A,C[z]);return function(D){return"rotate("+B(D)+")"}}function q(s){if(s>=12*14){return 14}if(s>=8*14){return 0.8*14}return 0.5*14}return function(){function s(u,t){var v=u.selectAll("g."+r).data(function(z,w){var x;if(z.or>g){x=[{r:z.ir,caretSize:q(z.or)}]}else{x=new Array(0)}return x});v.exit().remove();a(v).call(o,t);v.enter().append("svg:g").attr("class",r).style("opacity",0).attr("visibility","hidden").attr("pointer-events","none").call(e).call(p,t)}s.select=function(t){var u=t.selectAll("g."+r);if(u.empty()){return null}return{show:function(){u.attr("visibility",null).transition().duration(200).style("opacity",1);return this},hide:function(){u.transition().each("end",function(){u.attr("visibility","hidden")}).duration(200).style("opacity",0);return this},texts:function(){var v=arguments;a(u).each(function(x,w){x.text=v[w]}).call(o,v[3]);return this},caret:function(){var v=u.select("."+b);return{show:function(){v.attr("d",function(z){var w=Math.tan(h*Math.PI/360)*z.caretSize;var A=Math.sqrt(z.r*z.r-w*w);return"M 0 "+-(A+z.caretSize)+" L "+w+" "+-A+" A "+z.r+" "+z.r+" 0 1 1 "+-w+" "+-A+" Z"});return this},hide:function(){v.attr("d",function(w){return"M 0 "+w.r+" A "+w.r+" "+w.r+" 0 1 1 0 "+-w.r+" A "+w.r+" "+w.r+" 0 1 1 0 "+w.r+" Z"});return this},rotateTo:function(w){v.transition().duration(200).attrTween("transform",function(){return i(this,w*180/Math.PI)});return this}}}}};return s}});sap.riv.module({qname:"sap.viz.modules.pie.sector",version:"4.0.1"},[{qname:"sap.viz.modules.Constants",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"}],function Setup(d,e){var f=d3.layout.pie().sort(null).value(function(g){return g.v});function b(q,o,k,g,n,m,j,h){this.dimValueObjects=o;this.color=k;this.r=g;this._value=n;this.startAngle=m;this.endAngle=j;this.p=h;this.decoras=[];for(var l in q){if(q.hasOwnProperty(l)){this[l]=q[l]}}}b.prototype={midAngle:function(){return(this.endAngle+this.startAngle)/2},dimValues:function(){return this.dimValueObjects.map(function(i){var h;if(i.info){var g=i.info.customlabel;if(g){if(g.type==="url"){h=i.val}else{if(g.type==="string"){h=g.val}}}else{h=i.val}}else{h=i.val}return h})},value:function(h){var g=this._value;if(h){return d3.format(h)(g)}return g},proportion:function(h){var g=(this.endAngle-this.startAngle)/(2*Math.PI);if(h){return d3.format(h)(g)}return g}};function a(l,n){var m=l.measure.rows[0];var g=l.dimensions;var j=[];var k=m.map(function(p,q){j.push(q);return{v:p.val,i:q}}).filter(function(q){var p=q.v;return(!e.isNoValue(p))&&p>0});var i=l.color.domain(j);var h=l.or;var o=f(k).map(function(r){var p=r.data.i;var q=n.register({drawingEffect:l.drawingEffect,graphType:"sector",fillColor:i(p),direction:"vertical",radius:h});return new b(m[p],g.map(function(s){return s.rows[p]}),q,h,r.value,r.startAngle,r.endAngle,l.p)});return o}var c=function(){function g(l,i,h){var k=c.all(l).data(function(m){return a(m,i)});k.exit().remove();var j=k.enter().append("svg:g").attr("class","v-datashape").append("svg:path").attr("class",d.CSS.CLASS.DATAPOINT+" viz-pie-sector v-sector");h.queryDefault("v-sector").toAttrs(j);k.select("g.v-datashape path").attr("fill",function(m){return m.color}).attr("d",d3.svg.arc().outerRadius(function(m){return m.r}))}return g};c.all=function(g){return g.selectAll("g.v-datashape")};return c});sap.riv.module({qname:"sap.viz.modules.pie.selection",version:"4.0.1"},[{qname:"sap.viz.modules.pie.sector",version:"4.0.1"}],function Setup(e){var c="v-selectedSector";var d="v-selected";var b;function a(k,h,j){k.classed(c,h).attr("fill-opacity",h?"1":null);var i=0,g=0;if(!j){k=k.transition().duration(200)}k.each(function(o){i=0,g=0;if(h){if(this.parentNode.parentNode.childNodes.length!==1){var l=o.midAngle();var m=o.r;var n;if(m>=96){n=6}else{if(m>=24){n=4}else{n=2}}i=n*Math.sin(l);g=-n*Math.cos(l)}}d3.select(this.parentNode).attr("transform","translate("+i+","+g+")")});k.each("start",function(m){var l=d3.select(this.parentNode).attr("transform");m.decoras.forEach(function(o,n,p){b=d3.select(o);b.transition().attr("transform",l);if(b[0][0]!==null){if(i===0&&g===0){b.attr("fill-opacity",null)}else{b.attr("fill-opacity","1")}}else{b.attr("fill-opacity","1")}},this)})}function f(g){return g.classed(c)}return function(){return{allSelected:function(g){return g.selectAll("."+c)},select:function(h,g){a(h,g)},clear:function(i,h){i.attr("fill-opacity",h?"0.4":null)},selected:function(g){return g.classed(c)},clearAll:function(g){this.clear(g,false);this.allSelected(g).call(a,false,true)}}}});sap.riv.module({qname:"sap.viz.modules.pie",version:"4.0.1"},[{qname:"sap.viz.modules.pie.sector",version:"4.0.1"},{qname:"sap.viz.modules.pie.selection",version:"4.0.1"},{qname:"sap.viz.modules.pie.tooltip",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"}],function Setup(w,G,D,A,f,J,P,e,p,K,H,a,c,x,q){var s=2.414;var u=function(Q){return s};var M=6;var b=600;var h=f.sap32();var F="v-pie";var k=F+"-clipPath-";var C=F,l="v-datashapesgroup",B="v-donut-title",I="v-hoverSector",r="v-sectorgroup";var i=G();var t=D();var j=w();function E(U,S,T,Q){if(!T){T=S.caret()}T.show().rotateTo(U.midAngle());var R,V;R=U.value();V=U.proportion();if(p.isExist(U.p.tooltip.formatString)){R=a.format(R,U.p.tooltip.formatString[0]);V=a.format(V,U.p.tooltip.formatString[1])}else{R=U.value(U.p.tooltip.valueFormat);V=U.proportion(U.p.tooltip.percentageFormat)}S.texts(U.dimValues().map(function(W){return W===null?c.get("IDS_ISNOVALUE"):W}).join(" - "),R,V,Q).show()}function g(R){var Q=R.selectAll("text."+B).data(function(T){if(T.p.isDonut){var S=T.measure.col;if(S===null){S=c.get("IDS_ISNOVALUE")}return[{width:T.ir,title:S}]}return[]});Q.exit().remove();Q.enter().insert("svg:text","."+r).attr("class",B).attr("font-family","'Open Sans',Arial,Helvetica,sans-serif").attr("text-anchor","middle").attr("font-weight","bold").attr("font-size","16px").attr("fill","#333").attr("dominant-baseline","middle");Q.each(function(S){A.ellipsisInCircle(S.title,this,S.width,0)})}function L(Q){return Q/2-M}function d(Q){return Math.max(Q/2/(1+1/s),M*s)}function O(Q,R,S){if(S){return Math.min(R/2,Q/2)}return Math.min(L(R),d(Q))}function m(Q){return Q/u(Q)}var z=d3.svg.arc();function o(R){var Q=d3.interpolateNumber(R.startAngle,R.endAngle);return function(S){R.endAngle=Q(S);return z(R)}}function N(S,Q,U,T,V,R){i.select(p.isArray(S)?d3.selectAll(S):d3.select(S),Q);if(U===false){n(T,V,R)}}function n(X,Q,Y){if(!X){return}var R=i.allSelected(Q);if(R.empty()){X.hide()}else{var V=Q.datum();if(!V.p.tooltip.visible){X.hide()}else{var U=0;var S=0;var T=0;R.each(function(Z){U+=Z.val;S+=Z.proportion();T++});var W=X.caret();if(T===1){E(R.datum(),X,W,Y)}else{X.texts(T+" selected",d3.format(V.p.tooltip.valueFormat)(U),d3.format(V.p.tooltip.percentageFormat)(S),Y);W.hide()}}}}var v=function(V,aj){var ai=null,ag=null,ap=null,U=V.props(null),ak;var ah=U.plotScale;var Q=aj.effectManager;var an=aj.styleManager;var X,R,Y=e.noop;var ac,am,Z,ae;var al=false,aq=true,ao=false,T=false;function W(at){var ar=false;if(aq){ar=at.animation.dataLoading}else{if(T){ar=at.animation.dataUpdating}else{if(ao){ar=at.animation.resizing}}}return ar}var S=J("selectData","deselectData","initialized","startToInit");function af(){ac=this;x.drawBound(ac,ai,ag);S.startToInit();Z=this.selectAll("g."+C).data(ad(ap));Z.exit().each(function(au){document.documentElement.removeEventListener("keydown",au.keydownListener);delete au.keydownListener}).remove();var ar=Z.enter().append("g").attr("class",C);ar.append("g").attr("class",r+(U.isGeoPie?"":" "+l));Z.attr("transform",function(au){if(au.p.alignCenter){return null}return"translate("+au.w/2+","+(au.p.valign==="center"?au.h/2:(au.or+M))+")scale("+ah+")"});var at=Z.selectAll(function(){var au=[];Array.prototype.forEach.call(this.childNodes,function(av){if(av.tagName==="clipPath"){au.push(av)}});return au}).data(function(ax){var au=[];var av=ax.p.isDonut;var aw=ax.animation=W(ax.p);if(av||aw){au.push({innerRadius:av?ax.ir:0,outerRadius:ax.or+M,startAngle:0,endAngle:Math.PI*2,animation:aw})}return au});at.exit().remove();at.enter().append("svg:clipPath").attr("id",function(){var av,au=0;while(true){av=k+(au++);if(!document.getElementById(av)){break}}this.parentNode.querySelector("."+r).setAttribute("clip-path","url(#"+av+")");return av}).append("svg:path").attr("clip-rule","evenodd").attr("d",z);Z.call(g);am=Z.select("g."+r).call(j,Q,an);i.clearAll(am);Z.call(t,an);ae=t.select(Z);if(ae){ae.hide()}at.filter(function(au){return au.animation}).select(":first-Child").transition().duration(b).each("end",function(ax){var au=this.parentNode;var av=au.parentNode;if(av){if(ax.innerRadius===0){av.removeChild(au);av.querySelector("."+r).removeAttribute("clip-path")}var aw=d3.select(av).datum();aw.animationEnd=true;aa(aw)}}).attrTween("d",o);at.filter(function(au){return !au.animation}).select(":first-Child").attr("d",z);Z.each(function(au){au.domInitialized=true;aa(au)});al=false,aq=false,ao=false,T=false}function ad(az){var at=this.parentNode;var ax=Y.apply(at,arguments);var au=X.apply(at,arguments);var av=R.apply(at,arguments);var aw=O(au,av,ax.maxRadius);var ay=d3.functor(ak).apply(at,arguments);var ar={w:au,h:av,p:ax,or:aw,ir:m(aw),color:ay?d3.scale.ordinal().range(ay):h.copy(),measure:az.getMeasureValuesGroupDataByIdx(0).values[0],dimensions:az.getAnalysisAxisDataByIdx(0).values};ar.drawingEffect=ar.p.drawingEffect;return[ar]}function aa(ar){if(ar.domInitialized&&(!ar.animation||ar.animationEnd)){S.initialized({name:"initialized"})}}function ab(at,ar){at.attr("fill-opacity",ar?"1":(i.selected(at)?"1":null))}af.afterUIComponentAppear=function(){S.initialized()};af.dataLabel=function(ar){};af.parent=function(){return ac};af.clear=function(ar){i.clear(am,ar);return af};af.highlight=function(ar,at){N(ar,true,at,ae,am,an);return af};af.unhighlight=function(ar,at){N(ar,false,at,ae,am,an);return af};af.mouseover=function(at){var ar=d3.select(at);ar.classed(I,true);ab(ar,true);var au=ar.datum();if(au.p.tooltip.visible){if(ae){E(au,ae,undefined,an)}}else{if(ae){ae.hide()}}return af};af.mouseout=function(at){var ar=d3.select(at);if(P.isIE()){window.setTimeout(function(){ab(ar,false)},0)}else{ab(ar,false)}if(!ae){return}n(ae,am,an);return af};af.width=function(ar){if(arguments.length===0){return ai}ao=(!ao&&(ar===ai))?false:true;ai=ar;X=d3.functor(ai);return af};af.height=function(ar){if(arguments.length===0){return ag}ao=(!ao&&(ar===ag))?false:true;ag=ar;R=d3.functor(ag);return af};af.size=function(ar,at){if(arguments.length===0){return{width:this.width(),height:this.height()}}af.width(ar).height(at);return af};af.data=function(ar){if(arguments.length===0){return ap}T=true;al=false;if(!q().hasSameSchema(ap,ar)){al=true}ap=ar;return af};af.dispatch=function(ar){return S};af.properties=function(ar){if(arguments.length===0){return U}H.extend(true,U,ar);ah=U.plotScale;Y=d3.functor(U);if(typeof(U)==="function"){ak=function(au,at){return Y.apply(this,arguments).colorPalette}}else{if(U.colorPalette){ak=U.colorPalette}}return af};af.colorPalette=function(ar){if(arguments.length===0){return ak||h.range()}ak=ar;return af};return af};return v});sap.riv.module({qname:"sap.viz.modules.manifests.Pie",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.pie",version:"4.0.1"},{qname:"sap.viz.feeds.Pie",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.pie",type:b.Module.Type.Chart,name:"pie",properties:{animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation of plot area."},colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set the color palette for sectors."},isDonut:{name:"isDonut",supportedValueType:"Boolean",defaultValue:false,description:"Set whether is a donut or pie."},isGeoPie:{name:"isGeoPie",supportedValueType:"Boolean",defaultValue:false,description:"Set whether is a geo pie.",isExported:false},valign:{name:"valign",supportedValueType:"List",supportedValues:["top","center"],defaultValue:"top",description:"Set vertical aligment.",isExported:false},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set whether tooltip is enabled."},valueFormat:{name:"valueFormat",supportedValueType:"String",defaultValue:"n",description:"Set the number format of measure value in tooltip."},percentageFormat:{name:"percentageFormat",supportedValueType:"String",defaultValue:".0%",description:"Set the number format of percentage label in tooltip."},formatString:{name:"formatString",supportedValueType:"StringArray",defaultValue:null,description:"Set format string of tooltip. The first string is applied to value and the second is applied to percentage. "}},description:"Settings for tooltip related properties."},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of Pie.",isExported:true},plotScale:{name:"plotScale",supportedValueType:"PositiveFloat",defaultValue:1,description:"Set plot scale of Pie.",isExported:false,isExperimental:true}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc},feeds:{id:"pie",configure:{pieDepthSize:null}},css:{".v-tooltip-label.viz-pie-tooltip-label-dimensions":{description:"Define style for the first label(dimension values) in tooltip.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"normal",fill:"#000"}},".v-tooltip-value.viz-pie-tooltip-label-value":{description:"Define style for the second label(measure value) in tooltip.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"18px","font-weight":"bold",fill:"#000"}},".v-tooltip-percentage.viz-pie-tooltip-label-percentage":{description:"Define style for the third label(percentage) in tooltip.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"16px","font-weight":"normal",fill:"#333"}},".v-sector.viz-pie-sector":{description:"Define style for sector in pie.",value:{stroke:"transparent"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiPieChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Pie",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/multi_pie",name:"IDS_MULTIPIECHART",base:"riv/base/multiple",modules:{root:{modules:{legend:{data:{aa:[2]}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}},main:{configure:{properties:{cellPadding:5}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.pie",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{valign:"center"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"polarCoordinate",visible:false,formatString:[["0.00%"],[]],automaticInOutside:false,outsideVisible:true,type:"label and value"}}}}}}}}}},feeds:{multiplier:{acceptMND:0,max:2},pieSectorSize:{max:a.Constraints.INF}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiDonutChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Pie",version:"4.0.1"},{qname:"sap.viz.manifests.MultiPieChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/multi_donut",name:"IDS_MULTIDONUTCHART",base:"viz/multi_pie",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.pie",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{isDonut:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isDonut:true}}}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.piewithdepth",version:"4.0.1"},[{qname:"sap.viz.modules.pie.sector",version:"4.0.1"},{qname:"sap.viz.modules.pie.selection",version:"4.0.1"},{qname:"sap.viz.modules.pie.tooltip",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(c,f,o,h,m,j,e,d,a,b,k,i,g,n){var l=function(v){var Q=500,P=300,L=0;var X=null,u={};var r=Math.PI/4;var A=0,x=0,N=0,K=0,w=0,F=0,D=0;var p=d3.scale.linear();var S=m.sap32().range();var O=false;var H;var B=0;var t=j("initialized","startToInit");function J(Y){n.drawBound(Y,Q,P);H=Y;C(Y);return J}J.width=function(Y){if(!arguments.length){return Q}Q=Y;if(a.isExist(Q)&&a.isExist(P)){E();if(H){C(H)}}return J};J.height=function(Y){if(!arguments.length){return P}P=Y;if(a.isExist(Q)&&a.isExist(P)){E();if(H){C(H)}}return J};J.padding=function(Y){if(!arguments.length){return L}L=Y;if(a.isExist(Q)&&a.isExist(P)){E();if(H){C(H)}}return J};J.properties=function(Y){if(!arguments.length){return u}k.extend(true,u,Y);q();return J};J.parent=function(){return H};J.dispatch=function(Y){return t};J.afterUIComponentAppear=function(){t.initialized()};J.dataLabel=function(Y){};J.data=function(Y){if(!arguments.length){return X}X=Y;return J};J.colorPalette=function(Y){if(arguments.length===0){return S}S=Y;return J};J.rotate=function(Y){if(arguments.length===0){return{xAngle:0,yAngle:B*180/Math.PI}}B=Y.yAngle*Math.PI/180;C(H);return J};function q(){S=u.colorPalette;O=u.isDonut}function E(){var Y=Math.min(Q,P);A=Y/2;x=A*Math.cos(r);N=A/2.414;K=x/2.414;F=Q/2;D=P/2+Y/2-x;w=Y-2*x}function C(Y){Y.select(".v-datashapesgroup").remove();var aa=G();var Z=Y.append("g").attr("class","v-datashapesgroup");T(aa,Z)}function G(){var aa=X.getMeasureValuesGroupDataByIdx(0);var af=X.getMeasureValuesGroupDataByIdx(1);var ac=0,ae=0;for(var Z=0;Z<aa.values[0].rows[0].length;Z++){ac+=Math.abs(aa.values[0].rows[0][Z].val);ae=Math.max(ae,Math.abs(af.values[0].rows[0][Z].val))}p.domain([0,ae]).range([0,w]);var Y=[];for(var Z=0,ab=B-Math.PI/2;Z<aa.values[0].rows[0].length;Z++){var ad={startAngle:ab,endAngle:ab+Math.abs(aa.values[0].rows[0][Z].val)/ac*Math.PI*2,cy:D-p(Math.abs(af.values[0].rows[0][Z].val)),colorValue:S[Z%S.length],val:[aa.values[0].rows[0][Z].val,af.values[0].rows[0][Z].val],ctx:[aa.values[0].rows[0][Z].ctx,af.values[0].rows[0][Z].ctx]};ad.topPoint1=[F+A*Math.cos(ad.startAngle),ad.cy+x*Math.sin(ad.startAngle)];ad.topPoint2=[F+A*Math.cos(ad.endAngle),ad.cy+x*Math.sin(ad.endAngle)];ad.bottomPoint1=[F+A*Math.cos(ad.startAngle),D+x*Math.sin(ad.startAngle)];ad.bottomPoint2=[F+A*Math.cos(ad.endAngle),D+x*Math.sin(ad.endAngle)];if(O){ad.topPoint4=[F+N*Math.cos(ad.startAngle),ad.cy+K*Math.sin(ad.startAngle)];ad.topPoint3=[F+N*Math.cos(ad.endAngle),ad.cy+K*Math.sin(ad.endAngle)];ad.bottomPoint4=[F+N*Math.cos(ad.startAngle),D+K*Math.sin(ad.startAngle)];ad.bottomPoint3=[F+N*Math.cos(ad.endAngle),D+K*Math.sin(ad.endAngle)]}Y.push(ad);ab=ad.endAngle}return Y}function T(ab,Z){ab.sort(function(ad,ac){var ag=V(ad.startAngle);var ae=V(ad.endAngle);var af=V(ac.startAngle);var ah=V(ac.endAngle);if(ag<Math.PI/2&&ae>Math.PI/2||ag<Math.PI/2&&ae<ag||ag>Math.PI/2&&ae>Math.PI/2&&ae<ag){return 1}if(af<Math.PI/2&&ah>Math.PI/2||af<Math.PI/2&&ah<af||af>Math.PI/2&&ah>Math.PI/2&&ah<af){return -1}if(ae<ag){return -1}if(ah<af){return 1}return Math.max(ad.bottomPoint1[1],ad.bottomPoint2[1])-Math.max(ac.bottomPoint1[1],ac.bottomPoint2[1])});for(var Y=0;Y<ab.length;Y++){var aa=Z.append("g").attr("class","datashape");if(O){I(ab[Y],aa);U(ab[Y],aa);M(ab[Y],aa)}else{R(ab[Y],aa);U(ab[Y],aa);z(ab[Y],aa)}}t.initialized({name:"initialized"})}function V(Y){if(Y>=-Math.PI/2&&Y<=Math.PI/2*3){return Y}else{if(Y<-Math.PI/2){return V(2*Math.PI+Y)}else{if(Y>Math.PI/2*3){return V(Y-2*Math.PI)}}}}function W(Z){var Y=d3.rgb(Z).hsl();return d3.hsl(Y.h,Y.s,Y.l*0.9).rgb().toString()}function R(ab,ac){var Y,aa,ae,Z;if(ab.bottomPoint1[1]>=ab.bottomPoint2[1]){Y=ab.topPoint2;aa=ab.bottomPoint2;ae=ab.topPoint1;Z=ab.bottomPoint1}else{Y=ab.topPoint1;aa=ab.bottomPoint1;ae=ab.topPoint2;Z=ab.bottomPoint2}var ad="M"+F+","+D+"L"+F+","+ab.cy+"L"+Y[0]+","+Y[1]+"L"+aa[0]+","+aa[1]+"z";ac.append("path").attr("d",ad).attr("fill",W(ab.colorValue));ad="M"+F+","+D+"L"+F+","+ab.cy+"L"+ae[0]+","+ae[1]+"L"+Z[0]+","+Z[1]+"z";ac.append("path").attr("d",ad).attr("fill",W(ab.colorValue))}function I(Z,aa){var ai,ag,ae,ad,ah,af,ac,ab;if(Z.bottomPoint1[1]>=Z.bottomPoint2[1]){ai=Z.topPoint2;ag=Z.topPoint3;ae=Z.topPoint1;ad=Z.topPoint4;ah=Z.bottomPoint2;af=Z.bottomPoint3;ac=Z.bottomPoint1;ab=Z.bottomPoint4}else{ai=Z.topPoint1;ag=Z.topPoint4;ae=Z.topPoint2;ad=Z.topPoint3;ah=Z.bottomPoint1;af=Z.bottomPoint4;ac=Z.bottomPoint2;ab=Z.bottomPoint3}var Y="M"+ai[0]+","+ai[1]+"L"+ag[0]+","+ag[1]+"L"+af[0]+","+af[1]+"L"+ah[0]+","+ah[1]+"z";aa.append("path").attr("d",Y).attr("fill",W(Z.colorValue));s(Z,aa);Y="M"+ae[0]+","+ae[1]+"L"+ad[0]+","+ad[1]+"L"+ab[0]+","+ab[1]+"L"+ac[0]+","+ac[1]+"z";aa.append("path").attr("d",Y).attr("fill",W(Z.colorValue))}function U(aa,ac){var Z=V(aa.startAngle);var ab=V(aa.endAngle);if(Z>0&&ab>Z&&ab<Math.PI){var ad="M"+aa.topPoint1[0]+","+aa.topPoint1[1]+"A"+A+","+x+" 0 0,1 "+aa.topPoint2[0]+","+aa.topPoint2[1]+"L"+aa.bottomPoint2[0]+","+aa.bottomPoint2[1]+"A"+A+","+x+" 0 0,0 "+aa.bottomPoint1[0]+","+aa.bottomPoint1[1]+"z";ac.append("path").attr("d",ad).attr("fill",W(aa.colorValue))}else{if((Z<0||Z>Math.PI)&&ab<Math.PI&&ab>0){var ad="M"+(F+A)+","+aa.cy+"A"+A+","+x+" 0 0,1 "+aa.topPoint2[0]+","+aa.topPoint2[1]+"L"+aa.bottomPoint2[0]+","+aa.bottomPoint2[1]+"A"+A+","+x+" 0 0,0 "+(F+A)+","+D+"z";ac.append("path").attr("d",ad).attr("fill",W(aa.colorValue))}else{if(Z>0&&Z<Math.PI&&(ab>Math.PI||ab<0)){var ad="M"+aa.topPoint1[0]+","+aa.topPoint1[1]+"A"+A+","+x+" 0 0,1 "+(F-A)+","+aa.cy+"L"+(F-A)+","+D+"A"+A+","+x+" 0 0,0 "+aa.bottomPoint1[0]+","+aa.bottomPoint1[1]+"z";ac.append("path").attr("d",ad).attr("fill",W(aa.colorValue))}else{if(Z<=0&&(ab>=Math.PI||ab<Z)||Z>=Math.PI&&ab>=Math.PI&&ab<Z){var ad="M"+(F+A)+","+aa.cy+"A"+A+","+x+" 0 0,1 "+(F-A)+","+aa.cy+"L"+(F-A)+","+D+"A"+A+","+x+" 0 0,0 "+(F+A)+","+D+"z";ac.append("path").attr("d",ad).attr("fill",W(aa.colorValue))}else{if(Z>0&&Z<Math.PI&&ab>0&&ab>Math.PI&&ab<Z){var Y="M"+(F+A)+","+aa.cy+"A"+A+","+x+" 0 0,1 "+aa.topPoint1[0]+","+aa.topPoint1[1]+"L"+aa.bottomPoint1[0]+","+aa.bottomPoint1[1]+"A"+A+","+x+" 0 0,0 "+(F+A)+","+D+"z";var ae="M"+aa.topPoint2[0]+","+aa.topPoint2[1]+"A"+A+","+x+" 0 0,1 "+(F-A)+","+aa.cy+"L"+(F-A)+","+D+"A"+A+","+x+" 0 0,0 "+aa.bottomPoint2[0]+","+aa.bottomPoint2[1]+"z";ac.append("path").attr("d",Y).attr("fill",W(aa.colorValue));ac.append("path").attr("d",ae).attr("fill",W(aa.colorValue))}}}}}}function s(Y,Z){var ab=Y.endAngle-Y.startAngle>Math.PI?"1":"0";var aa="M"+Y.topPoint4[0]+","+Y.topPoint4[1]+"A"+N+","+K+" 0 "+ab+",1 "+Y.topPoint3[0]+","+Y.topPoint3[1]+"L"+Y.bottomPoint3[0]+","+Y.bottomPoint3[1]+"A"+N+","+K+" 0 "+ab+",0 "+Y.bottomPoint4[0]+","+Y.bottomPoint4[1]+"z";Z.append("path").attr("d",aa).attr("fill",W(Y.colorValue))}function z(Y,Z){var aa="M"+F+","+Y.cy+"L"+Y.topPoint1[0]+","+Y.topPoint1[1]+"A"+A+","+x+" 0 "+(Y.endAngle-Y.startAngle>Math.PI?"1":"0")+",1 "+Y.topPoint2[0]+","+Y.topPoint2[1]+"z";Z.append("path").attr("class","v-datapoint").attr("d",aa).attr("fill",Y.colorValue).data(Y.val)}function M(Y,Z){var aa="M"+F+","+Y.cy+"L"+Y.topPoint1[0]+","+Y.topPoint1[1]+"A"+A+","+x+" 0 "+(Y.endAngle-Y.startAngle>Math.PI?"1":"0")+",1 "+Y.topPoint2[0]+","+Y.topPoint2[1]+"L"+Y.topPoint3[0]+","+Y.topPoint3[1]+"A"+N+","+K+" 0 "+(Y.endAngle-Y.startAngle>Math.PI?"1":"0")+",0 "+Y.topPoint4[0]+","+Y.topPoint4[1]+"z";Z.append("path").attr("class","v-datapoint").attr("d",aa).attr("fill",Y.colorValue).data(Y.val)}u=v.props(null);return J};return l});sap.riv.module({qname:"sap.viz.modules.manifests.PieWithDepth",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.piewithdepth",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Pie",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.piewithdepth",base:"sap.viz.modules.pie",name:"piewithdepth",feeds:{id:"pie",configure:null},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"}],function Setup(b){var a={id:"riv/base/single",name:"IDS_BASESINGLECHART",base:"riv/base","abstract":true,modules:{root:{configure:{propertyCategory:"general"},modules:{main:{id:"sap.viz.modules.xycontainer"}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.pie.PieChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Pie",version:"4.0.1"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/pie",name:"IDS_PIECHART",base:"riv/base/single",modules:{root:{modules:{legend:{data:{aa:[1]}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}},main:{modules:{plot:{id:"sap.viz.modules.pie",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"polarCoordinate",visible:false,type:"label and value",formatString:[["0.00%"],[]],automaticInOutside:false,outsideVisible:true}}}}}}}},dependencies:{attributes:[{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.pie.PieWithDepthChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.pie.PieChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.PieWithDepth",version:"4.0.1"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Rotate",version:"4.0.1"}],function Setup(b){var a={id:"viz/pie_with_depth",name:"IDS_PIEWITHDEPTHCHART",base:"riv/base/single",modules:{root:{modules:{legend:{data:{aa:[1]}},rotate:{id:"sap.viz.modules.controller.rotate",configure:{clientID:"main",propertyCategory:"rotate"}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"],selectability:{mode:"multiple",selectWithCtrlKey:true},preserveSelectionWhenDragging:true}}},main:{modules:{plot:{id:"sap.viz.modules.piewithdepth",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.rotate",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.rotate"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.pie.DonutWithDepthChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.pie.PieWithDepthChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/donut_with_depth",name:"IDS_DONUTWITHDEPTHCHART",base:"viz/pie_with_depth",modules:{root:{modules:{main:{modules:{plot:{configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{isDonut:true}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.pie.DonutChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.pie.PieChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/donut",name:"IDS_DONUTCHART",base:"viz/pie",modules:{root:{modules:{main:{modules:{plot:{configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{isDonut:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isDonut:true}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_line",name:"IDS_MULTILINECHART",base:"riv/base/multiple/xy",modules:{root:{modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"xAxis",properties:{title:{visible:false},gridline:{visible:false},type:"category",position:"bottom"},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"value",position:"left"},propertiesOverride:{title:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,orientation:"vertical",outsidePosition:"up",positionPreference:true}}},plot:{id:"sap.viz.modules.line",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiHorizontalLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiLineChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_horizontal_line",name:"IDS_MULTIHORIZONTALLINECHART",base:"viz/multi_line",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{configure:{properties:{direction:"horizontal"}}},xAxis:{id:"sap.viz.modules.axis",data:null,configure:{description:"Settings for the value axis of an XY chart.",properties:{type:"value",gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",properties:{type:"category",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,orientation:"horizontal",outsidePosition:"right",positionPreference:true}}},plot:{id:"sap.viz.modules.horizontalline",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiDualHorizontalLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiHorizontalLineChart",version:"4.0.1"}],function Setup(b,a){var c={id:"viz/multi_dual_horizontal_line",name:"IDS_MULTIDUALHORIZONTALLINECHART",base:"viz/multi_horizontal_line",modules:{root:{modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{title:{visible:false},type:"value",position:"top"},propertiesOverride:{title:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main",target:"secondDataRange",sourceModule:"root.main.plot.plot",source:"secondDataRange"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main",source:"secondDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.xAxis2",target:"scale",sourceModule:"root.main.plot.plot",source:"secondaryScale"},{targetModule:"root.main.plot.xAxis2",target:"title",sourceModule:"root.main.plot.plot",source:"secondAxisTitle"},{targetModule:"root.main.plot.xAxis",target:"color",sourceModule:"root.main.plot.plot",source:"primaryAxisColor"},{targetModule:"root.main.plot.xAxis2",target:"color",sourceModule:"root.main.plot.plot",source:"secondAxisColor"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"}]}};b.register(c)});sap.riv.module({qname:"sap.viz.manifests.MultiDualLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiLineChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(c,b){var a={id:"viz/multi_dual_line",name:"IDS_MULTIDUALLINECHART",base:"viz/multi_line",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"selectability"}},main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{title:{visible:false},gridline:{visible:false},type:"value",position:"right"},propertiesOverride:{title:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main",target:"secondDataRange",sourceModule:"root.main.plot.plot",source:"secondDataRange"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main",source:"secondDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis2",target:"scale",sourceModule:"root.main.plot.plot",source:"secondaryScale"},{targetModule:"root.main.plot.yAxis2",target:"title",sourceModule:"root.main.plot.plot",source:"secondAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"color",sourceModule:"root.main.plot.plot",source:"primaryAxisColor"},{targetModule:"root.main.plot.yAxis2",target:"color",sourceModule:"root.main.plot.plot",source:"secondAxisColor"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"}]}};c.register(a)});sap.riv.module({qname:"sap.viz.feeds.Scatter",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(c,b){var a={id:"scatter",feeds:[{id:"regionColor",name:"IDS_REGIONCOLOR",type:b.Type.Dimension,min:0,max:1,aaIndex:1,acceptMND:-1},{id:"regionShape",name:"IDS_REGIONSHAPE",type:b.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1},{id:"primaryValues",name:"IDS_PRIMARYVALUES",type:b.Type.Measure,min:1,max:1,mgIndex:1},{id:"secondaryValues",name:"IDS_SECONDARYVALUES",type:b.Type.Measure,min:1,max:1,mgIndex:2},{id:"bubbleWidth",name:"IDS_BUBBLEWIDTH",type:b.Type.Measure,min:0,max:1,mgIndex:3},{id:"bubbleHeight",name:"IDS_BUBBLEHEIGHT",type:b.Type.Measure,min:0,max:1,mgIndex:4}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.bubble",version:"4.0.1"},[{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.ShapeSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.modules.util.lassoSelection",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.DrawUtil",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"}],function Setup(j,e,d,a,c,g,n,p,l,m,f,b,k,i,f,o,h){return function(N,ae){var H="v-marker-selected",aH="v-marker-hover",I="v-datapoint",av="v-m-tooltip",Q="0.4",P="0.8";var r=500,v=300,aB=0;var aF=null,al={};var V=d3.scale.linear();var ax=d3.scale.linear();var aw,z;var t,ai,az,Y,af,aD,ay,W;var ak=c.guid();function ah(){t=0;ai=Number.MAX_VALUE;az=0;Y=Number.MAX_VALUE;af=0;aD=0;ay=0;W=0}ah();var A;var R=1/6;var am=e.sap32().range(),aa=d.sapShapes().range();var aG=[];var aC,aA,B,x,at,ar;var L=[];var X=true,K=true;var Z={stroke:"#ffffff","stroke-width":1};var s={stroke:"#333333","stroke-width":1};var ap=1000;var ad=true;var U=new j("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var q;var w=null;var aj="normal";var ac=ae.effectManager;var D=10;var aJ=false;var G;var aE=false,aI=false,J=false;var an,O;function C(){var aL=false;if(ad){aL=al.animation.dataLoading}else{if(J){aL=al.animation.dataUpdating}else{if(aI){aL=al.animation.resizing}}}return aL}function ag(aM,aL){an=aM;O=aL}function F(aL){if(an!==undefined&&O!==undefined){if(!aI){aI=an!==r||O!==v}}ag(r,v);o.drawBound(aL,r,v);q=aL;M(aL);ad=false;aE=false,aI=false,J=false;return F}F.width=function(aL){if(!arguments.length){return r}r=aL;if(a.isExist(r)&&a.isExist(v)&&a.isExist(aF)){E()}return F};F.height=function(aL){if(!arguments.length){return v}v=aL;if(a.isExist(r)&&a.isExist(v)&&a.isExist(aF)){E()}return F};F.afterUIComponentAppear=function(){U.initialized()};F.padding=function(aL){if(!arguments.length){return aB}aB=aL;if(a.isExist(r)&&a.isExist(v)&&a.isExist(aF)){E()}return F};F.valueAxis1Scale=function(aL){if(!arguments.length){return V}V=aL;return F};F.valueAxis2Scale=function(aL){if(!arguments.length){return ax}ax=aL;return F};F.valueAxis1DataRange=function(aL){if(!arguments.length){return{min:aD,max:af}}af=aL.max;aD=aL.min;if(a.isExist(r)&&a.isExist(v)){E()}return F};F.valueAxis2DataRange=function(aL){if(!arguments.length){return{min:W,max:ay}}ay=aL.max;W=aL.min;if(a.isExist(r)&&a.isExist(v)){E()}return F};F.bubbleWidthDataRange=function(aL){if(!arguments.length){return{distinctValuesObj:A,min:ai,max:t}}t=aL.max;ai=aL.min;A=aL.distinctValuesObj;if(a.isExist(r)&&a.isExist(v)){E()}return F};F.bubbleHeightDataRange=function(aL){if(!arguments.length){return{min:Y,max:az}}az=aL.max;Y=aL.min;if(a.isExist(r)&&a.isExist(v)){E()}return F};F.colorPalette=function(aL){if(!arguments.length){return am}am=aL;return F};F.shapes=function(aL){if(!arguments.length){return aa}aa=aL;return F};F.sizeLegend=function(){var aM=aF.getMeasureValuesGroupDataByIdx(3);var aL=(a.isExist(aM)&&aM.values.length>0);return{bubbleScale:R,space:aB,scale:aw,data:ab(),title:w,hasHeightFeed:aL}};F.dispatch=function(aL){if(!arguments.length){return U}U=aL;return this};F.dataLabel=function(aL){};F.data=function(aL){if(!arguments.length){return aF}J=true;aE=false;if(!h().hasSameSchema(aF,aL)){aE=true}aF=aL;if(a.isExist(r)&&a.isExist(v)&&a.isExist(aF)){au();E()}return F};F.valueAxis1Title=function(aM){if(!arguments.length){var aP=aF.getMeasureValuesGroupDataByIdx(0),aO=[];if(aP){for(var aN=0,aL=aP.values.length;aN<aL;aN++){if(aP.values[aN].col!==null&&aP.values[aN].col!==undefined){aO.push(aP.values[aN].col)}else{aO.push(f.get("IDS_ISNOVALUE"))}}}return aO.join("/")}return this};F.valueAxis2Title=function(aM){if(!arguments.length){var aP=aF.getMeasureValuesGroupDataByIdx(1),aO=[];if(aP){for(var aN=0,aL=aP.values.length;aN<aL;aN++){if(aP.values[aN].col!==null&&aP.values[aN].col!==undefined){aO.push(aP.values[aN].col)}else{aO.push(f.get("IDS_ISNOVALUE"))}}}return aO.join("/")}return this};F.properties=function(aL){if(!arguments.length){return al}k.extend(true,al,aL);aq();return F};function aq(){am=al.colorPalette;aa=al.shapePalette;X=al.axisTooltip.visible;K=al.hoverline.visible;aj=al.drawingEffect;G=al.axisTooltip.formatString;var aL=al.markerSize;D=a.isExist(aL)&&aL<=32&&aL>=4?aL:D;if(al.xScaleType&&al.xScaleType==="log"){V=d3.scale.log()}}function au(){ah();var aU=aF.getMeasureValuesGroupDataByIdx(0);var aT=aF.getMeasureValuesGroupDataByIdx(1);var aO=aF.getMeasureValuesGroupDataByIdx(2);var aS=aF.getMeasureValuesGroupDataByIdx(3);A={};for(var aM=0;aM<aU.values[0].rows.length;aM++){for(var aL=0;aL<aU.values[0].rows[aM].length;aL++){var aQ=aU.values[0].rows[aM][aL].val;var aP=aT.values[0].rows[aM][aL].val;if(l.isNoValue(aQ)||l.isNoValue(aP)){continue}var aR=aO&&aO.values.length&&a.isExist(aO.values[0].rows[aM][aL].val)?Math.abs(aO.values[0].rows[aM][aL].val):null;var aN;if(aS&&aS.values.length){if(a.isExist(aS.values[0].rows[aM][aL].val)){aN=Math.abs(aS.values[0].rows[aM][aL].val)}else{aN=null}}else{aN=aR}if(!l.isNoValue(aR)){A[aR]=""}af=aQ>af?aQ:af;aD=aQ<aD?aQ:aD;ay=aP>ay?aP:ay;W=aP<W?aP:W;t=aR>t?aR:t;ai=aR<ai?aR:ai;az=aN>az?aN:az;Y=aN<Y?aN:Y}}}function E(){var aL=aF.getMeasureValuesGroupDataByIdx(2);var aN=aF.getMeasureValuesGroupDataByIdx(3);if(al.xScaleRange){V.domain([al.xScaleRange.min,al.xScaleRange.max]).range([aB,r-aB]).nice()}else{if(af===0&&aD===0){V.domain([0,1]).range([aB,r-aB]).nice()}else{V.domain([aD*(1+R),af*(1+R)]).range([aB,r-aB]).nice()}}p.perfect(V);if(ay===0&&W===0){ax.domain([0,1]).range([v-aB,aB]).nice()}else{ax.domain([W*(1+R),ay*(1+R)]).range([v-aB,aB]).nice()}p.perfect(ax);var aM;if(aL&&aL.values.length&&t!==ai){if(al.wScaleMax){aw=T(al.wScaleMax,true,aN)}else{aw=T(t,true,aN)}w=aL.values[0].col}else{aw=function(aO){return D}}if(aN&&aN.values.length&&az!==Y){z=T(az,false)}else{if(aw&&az>Y){z=aw}else{z=function(aO){return D}}}}function M(bi){if(aC){aC.remove()}if(aA){aA.remove()}U.startToInit();var be;var a4=d3.select(bi.node().ownerSVGElement.parentNode);if(X&&a4.select("svg.sc-tooltip-x").node()===null){a4.append("svg").style("position","absolute").attr("class","sc-tooltip-x "+av).attr("pointer-events","none").attr("width","0").attr("height",0)}B=a4.select("svg.sc-tooltip-x");if(X&&a4.select("svg.sc-tooltip-y").node()===null){a4.append("svg").style("position","absolute").attr("class","sc-tooltip-y "+av).attr("pointer-events","none").attr("width","0").attr("height",0)}x=a4.select("svg.sc-tooltip-y");var bb=aF.getMeasureValuesGroupDataByIdx(0);var ba=aF.getMeasureValuesGroupDataByIdx(1);var aN=aF.getMeasureValuesGroupDataByIdx(2);var aM=aF.getMeasureValuesGroupDataByIdx(3);var aS=aF.getAnalysisAxisDataByIdx(0);var aQ=aF.getAnalysisAxisDataByIdx(1);var bc="edge-clip-"+ak;aA=bi.append("defs");aA.append("clipPath").attr("id",bc).append("rect").attr("width",r).attr("height",v);aC=bi.append("g").attr("class","v-datashapesgroup");aC.attr("clip-path","url(#"+bc+")");aC.append("rect").attr("x",0).attr("y",0).attr("width",r).attr("height",v).attr("fill-opacity",0).attr("id","event-rect"+ak);var a2=ae.styleManager.queryDefault("v-hoverline");at=aC.append("line").attr("id","cross-x-"+ak).attr("class","v-hoverline").attr("stroke-width",1).attr("stroke",a2.stroke).attr("shape-rendering","crispEdges").attr("visibility","hidden");ar=aC.append("line").attr("id","cross-y-"+ak).attr("class","v-hoverline").attr("stroke-width",1).attr("stroke",a2.stroke).attr("shape-rendering","crispEdges").attr("visibility","hidden");var aZ=0;var bh={};function aT(bl,bn,bo){for(var bk=0;bk<bb.values[0].rows[bl].length;bk++){var bs=(aS&&aS.values.length>0)?aS.values[0].rows[bk].val:0;var bj;if(bh[bs]){bj=bh[bs]}else{bj=am[aZ%am.length];bh[bs]=bj;aZ++}var bq=bb.values[0].rows[bl][bk].val;var bp=ba.values[0].rows[bl][bk].val;var br=aN&&aN.values.length?aN.values[0].rows[bl][bk].val:null;var bm=aM&&aM.values.length?aM.values[0].rows[bl][bk].val:null;var bt={x:bq,y:bp,w:br,h:bm,colorIndex:bk,shapeIndex:bl,colorValue:bj,shapeValue:bn,val:[bq,bp,br,bm],ctx:[bb.values[0].rows[bl][bk].ctx,ba.values[0].rows[bl][bk].ctx,aN&&aN.values.length?aN.values[0].rows[bl][bk].ctx:null,aM&&aM.values.length?aM.values[0].rows[bl][bk].ctx:null]};if(!l.isNoValue(bq)&&!l.isNoValue(bp)){bo.push(bt)}}}var aP=[];var bg;if(aQ&&aQ.values.length>0){be=0;for(var aW=0,bd={};be<aQ.values[0].rows.length;be++){var aL=aQ.values[0].rows[be].val;if(bd[aL]){bg=bd[aL]}else{bg=aa[aW%aa.length];bd[aL]=bg;aW++}aT(be,bg,aP)}}else{aT(0,aa[0],aP)}aP.sort(function(bl,bj){var bk=bl.h===null?bl.w:bl.h;var bm=bj.h===null?bj.w:bj.h;return Math.abs(bj.w*bm)-Math.abs(bl.w*bk)});var aO=0;aJ=false;S();function a7(bk,bj){aO++;if(aO===aP.length){aJ=true;U.initialized()}}var aV=C();for(be=0;be<aP.length;be++){var a5=aP[be].x,a3=aP[be].y,a6=aP[be].w,bf=aM&&aM.values.length?aP[be].h:a6,a9=aP[be].colorValue;bg=aP[be].shapeValue;var aU;var a1=aw(a6)/2,aY=z(bf)/2;var a8=0;if(aV){a8=ap}var a0=aC.append("g").attr("class","v-datashape").attr("transform","translate("+V(a5)+","+ax(a3)+")");var aR=m.createElements(a0,{shape:bg,className:aH+" "+I});var aX={drawingEffect:aj,fillColor:a9,graphType:bg,direction:"vertical",rx:a1,ry:aY,borderWidth:Z["stroke-width"],borderColor:Z.stroke,node:aR,visibility:"visible",animateTime:a8,endFunc:a7};m.drawGraph(aX,ac).attr("opacity",P)}bi.selectAll("."+aH).data(aP);if(!aV){aJ=true;U.initialized()}}function T(aM,aL,aN){return function(aQ){if(l.isNoValue(aQ)){return 4}var aO;if(aL){aO=!aN&&v<r?v:r}else{aO=v}var aP=Math.pow(Math.abs(aQ)/aM,0.5)*(aO-aB)*R;return aP>4?aP:4}}function ab(){var aL=0;for(var aM in A){if(A.hasOwnProperty(aM)){aL++}}if(aL===0){return[]}else{if(aL===1){return[t]}else{if(aL===2){return[t,ai]}else{return[t,(t+ai)/2,ai]}}}}F.parent=function(){return q};F.mouseover=function(aM){var aL=d3.select(aM);if(aL===undefined||aL.node()===null||!aJ){return}if(aL.attr("id")!==null&&(aL.attr("id")===("event-rect"+ak)||aL.attr("id").indexOf("cross-x-")>=0||aL.attr("id").indexOf("cross-y-")>=0)){return}var aN=aL.datum();aL.attr("opacity","1");if(K){at.attr("visibility","visible").attr("x1",0).attr("y1",ax(aN.y)).attr("x2",r).attr("y2",ax(aN.y));ar.attr("visibility","visible").attr("x1",V(aN.x)).attr("y1",0).attr("x2",V(aN.x)).attr("y2",v)}aK(aN,q[0][0].getTransformToElement(q[0][0].ownerSVGElement))};F.mouseout=function(aN,aL){var aM=d3.select(aN);if(aM===undefined||aM.node()===null||!aJ){return}if(aM.attr("id")===("event-rect"+ak)){return}if(aL){aM.attr("opacity",P)}else{aM.attr("opacity",Q)}at.attr("visibility","hidden");ar.attr("visibility","hidden");S()};function aK(aN,aO){var a0=aF.getMeasureValuesGroupDataByIdx(0);var aZ=aF.getMeasureValuesGroupDataByIdx(1);var aT=aF.getMeasureValuesGroupDataByIdx(2);var aY=aF.getMeasureValuesGroupDataByIdx(3);var aV=aF.getAnalysisAxisDataByIdx(0);var aS=aF.getAnalysisAxisDataByIdx(1);var aL={body:[],footer:[]};var aW;for(var aQ=0,aR=(aV?aV.values.length:0);aQ<aR;aQ++){aW={};aW.label=aV.values[aQ].col.val;aW.value=aV.values[aQ].rows[aN.colorIndex].val;aL.footer.push(aW)}for(var aP=0,aX=(aS?aS.values.length:0);aP<aX;aP++){aW={};aW.label=aS.values[aP].col.val;aW.value=aS.values[aP].rows[aN.shapeIndex].val;aL.footer.push(aW)}aL.body.push({name:!a.isExist(a0.values[0].col)?f.get("IDS_ISNOVALUE"):a0.values[0].col,val:[{color:aN.colorValue,shape:aN.shapeValue,value:aN.x}]});aL.body.push({name:!a.isExist(aZ.values[0].col)?f.get("IDS_ISNOVALUE"):aZ.values[0].col,val:[{color:aN.colorValue,shape:aN.shapeValue,value:aN.y}]});if(aT&&aT.values.length>0){aL.body.push({name:!a.isExist(aT.values[0].col)?f.get("IDS_ISNOVALUE"):aT.values[0].col,val:[{color:aN.colorValue,shape:aN.shapeValue,value:l.isNoValue(aN.w)?f.get("IDS_ISNOVALUE"):aN.w}]})}if(aY&&aY.values.length>0){aL.body.push({name:!a.isExist(aY.values[0].col)?f.get("IDS_ISNOVALUE"):aY.values[0].col,val:[{color:aN.colorValue,shape:aN.shapeValue,value:l.isNoValue(aN.h)?f.get("IDS_ISNOVALUE"):aN.h}]})}aL.point={x:V(aN.x),y:ax(aN.y)+aO.f};aL.plotArea={x:aO.e,y:aO.f,width:r,height:v};U.showTooltip(b.formatTooltipData(aL));if(X){var aU,aM;if(a.isExist(G)){aU=i.format(aN.x,G[0]);aM=i.format(aN.y,G[1])}else{aU=aN.x;aM=aN.y}ao(aU,B,{x:V(aN.x),y:ax(aN.y)},aO,"x");ao(aM,x,{x:V(aN.x),y:ax(aN.y)},aO,"y")}}function S(){U.hideTooltip();if(X){B.selectAll("g").remove();x.selectAll("g").remove()}}function ao(aQ,aM,aL,aO,aP){var aN={size:"12px",weight:"bold",family:'"Open Sans", Arial, Helvetica, sans-serif'};var aR=g.fastMeasure(aQ,aN.size,aN.weight,aN.family);aM.attr("width",aR.width+20).attr("height",aR.height+10);aM.wrapper=aM.append("g");aM.wrapper.append("rect").attr("x",1).attr("y",1).attr("rx",4).attr("ry",4).attr("width",aR.width+18).attr("height",aR.height+8).attr("fill","#ffffff").attr("stroke","#000000").attr("stroke-width",1).attr("class","v-background");aM.wrapper.append("text").attr("x",10).attr("y",aR.height+3).attr("fill","#000000").style("font",aN.weight+" "+aN.size+" "+aN.family).attr("class","v-body-value").text(aQ);if("y"===aP){aM.style("left",aO.e-aM.attr("width")+1+"px").style("top",(aL.y+aO.f-aM.attr("height")/2)+"px")}else{if("x"===aP){aM.style("left",aL.x+aO.e-aM.attr("width")/2+"px").style("top",aO.f+v-1+"px")}}}function u(aL){var aS=aF.getMeasureValuesGroupDataByIdx(0);var aR=aF.getMeasureValuesGroupDataByIdx(1);var aN=aF.getMeasureValuesGroupDataByIdx(2);var aP=aF.getMeasureValuesGroupDataByIdx(3);var aT=[];for(var aM=0;aM<aL.length;aM++){var aO=aL[aM].colorIndex;var aQ=aL[aM].shapeIndex;aT.push([aS.values[0].rows[aQ][aO],aR.values[0].rows[aQ][aO],aN&&aN.values.length>0?aN.values[0].rows[aQ][aO]:null,aP&&aP.values.length>0?aP.values[0].rows[aQ][aO]:null])}return aT}F.highlight=function(aM){if(a.isArray(aM)){for(var aN=0,aL=aM.length;aN<aL;aN++){d3.select(aM[aN]).attr("class",H+" "+I).attr("opacity",P).attr("stroke",s.stroke).attr("stroke-width",s["stroke-width"])}}else{d3.select(aM).attr("class",H+" "+I).attr("opacity",P).attr("stroke",s.stroke).attr("stroke-width",s["stroke-width"])}};F.unhighlight=function(aM){if(a.isArray(aM)){for(var aN=0,aL=aM.length;aN<aL;aN++){d3.select(aM[aN]).attr("class",aH+" "+I).attr("opacity",Q).attr("stroke",Z.stroke).attr("stroke-width",Z["stroke-width"])}}else{d3.select(aM).attr("class",aH+" "+I).attr("opacity",Q).attr("stroke",Z.stroke).attr("stroke-width",Z["stroke-width"])}};F.clear=function(aL){var aM=q.selectAll("."+I).attr("class",aH+" "+I).attr("stroke",Z.stroke).attr("stroke-width",Z["stroke-width"]);if(aL){aM.attr("opacity",Q)}else{aM.attr("opacity",P)}};al=N.props(null);return F}});sap.riv.module({qname:"sap.viz.modules.manifests.Bubble",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.bubble",version:"4.0.1"},{qname:"sap.viz.feeds.Scatter",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.bubble",type:b.Module.Type.Chart,name:"bubble",data:"DATA STRUCTURE DOC",properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set marker color of bubble."},shapePalette:{name:"shapePalette",supportedValueType:"StringArray",defaultValue:["circle","square","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],supportedValues:["circle","square","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],description:"Set marker shape of bubble."},axisTooltip:{name:"axisTooltip",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"enabled/disabled tooltip."},formatString:{name:"formatString",supportedValueType:"StringArray",defaultValue:null,description:"Set format string for small tooltip.The first one is applied to xAxis and the second one is applied to yAxis"}},description:"Set tooltip related properties."},hoverline:{name:"hoverline",supportedValueType:"Object",description:"Settings for hoverline properties.",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set to enabled/disabled hoverline or not."}}},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Set animation of bubble/scatter."},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Drawing effect of bubble marker.",isExported:true}},css:{".v-hoverline":{description:"Define style for hover line color.",value:{stroke:"#cccccc"}}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"scatter",configure:{bubbleWidth:{min:1}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.Scatter",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Bubble",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.scatter",base:"sap.viz.modules.bubble",name:"scatter",properties:{markerSize:{name:"markerSize",supportedValueType:"PositiveInt",defaultValue:"10",description:"Set marker size of data point. The available range is from 4 to 32."}},feeds:{configure:{bubbleWidth:null,bubbleHeight:null}}};c.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.ScatterInMatrix",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Scatter",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.scatterInMatrix",base:"sap.viz.modules.scatter",name:"scatterInMatrix",feeds:null};c.register(a)});sap.riv.module({qname:"sap.viz.feeds.ScatterMatrix",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(c,b){var a={id:"scattermatrix",feeds:[{id:"regionColor",name:"IDS_REGIONCOLOR",type:b.Type.Dimension,min:0,max:1,aaIndex:1,acceptMND:-1},{id:"regionShape",name:"IDS_REGIONSHAPE",type:b.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1},{id:"primaryValues",name:"IDS_PRIMARYVALUES",type:b.Type.Measure,min:2,max:b.Constraints.INF,mgIndex:1}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.scattermatrixcontainer",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.modules.layout",version:"4.0.1"},{qname:"sap.viz.data.handler.MultiChartDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"},{qname:"sap.viz.util.fn.createContext",version:"4.0.1"},{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"}],function Setup(a,j,g,d,b,l,e,h,c,k,i,m,f){return function(E,K){var o=0,q=0,S=0,Z=0,p={},aa={},V={},M={},u={},D=null,I=null,ae=[];var L=true;var ab=false;var H=new h("initialized","showTooltip","hideTooltip"),A=0;var Y={};var x;var t=E.props(null);var s=0;var U,Q;var ac=function(ag){if(ag===null||ag===undefined){return c.get("IDS_ISNOVALUE")}else{return ag}};var R={dataLoading:true,dataUpdating:true,resizing:true};var J=true,z=false;var X="plotArea";function N(ai){var ak={};var ah=(ak[X]={});var al=(ah.animation={});j.extend(al,R);if(!ai&&z){al.dataLoading=R.dataUpdating}var am=M.plot;for(var aj=0,ag=am.length;aj<ag;aj++){am[aj].properties(ak)}}function F(){var ag=K.styleManager.query("v-subtitle");if(ag){if(ag.fill){Y.fill=ag.fill}if(ag["font-family"]){Y.family=ag["font-family"]}if(ag["font-size"]){Y.size=ag["font-size"]}if(ag["font-weight"]){Y.weight=ag["font-weight"]}}x=K.styleManager.queryDefault("v-subtitle")}function ad(){var am=V.modules.plot;if(!am){return}delete M.plot;M.plot=[];if(Q){Q.styleManager.cleanChildren()}var ag=aa.getMeasureValuesGroupDataByIdx()[0].values.length;for(var ak=0;ak<ag;ak++){for(var aj=0;aj<ag;aj++){var ai=aj*ag+ak;if(!U||!Q){U=l.get(am.id);Q=m(U,K,"v-m-plot")}var al=M.plot[ai]=i(U,Q);al.config(am);A++;if(al.dispatch){var ah=al.dispatch();if(ah.initialized){ah.on("initialized.scattermatrixcontainer",C)}if(ah.showTooltip){ah.on("showTooltip.scattermatrixcontainer",af)}if(ah.hideTooltip){ah.on("hideTooltip.scattermatrixcontainer",G)}}}}}function n(){if(a.isExist(p.multiLayout)&&a.isExist(p.multiLayout.plotTitle)&&a.isExist(p.multiLayout.plotTitle.visible)){L=p.multiLayout.plotTitle.visible;t.plotTitle.visible=p.multiLayout.plotTitle.visible}var ak=M.plot;if(ak){var aj=V.modules.plot;if(!aj){return}var ai;if(aj.configure){if(aj.configure.propertyCategory){ai=j.extend(true,{},p[aj.configure.propertyCategory])}}else{ai=p}for(var ah=0,ag=ak.length;ah<ag;ah++){if(ai){ak[ah].properties(ai)}}}F()}function r(){if(ae){for(var aj=0;aj<ae.length;++aj){var ah=ae[aj].shape;if(ah){ah.remove()}}}ae=[];I=new b(aa,"measures");var ag=aa.getMeasureValuesGroupDataByIdx()[0].values.length;for(var al=0;al<ag;al++){for(var ak=0;ak<ag;ak++){var an=I.getSubDataAdapterByMeasures({row:ak,col:al});var am=M.plot[ak*ag+al];am.data(an);var ai=ae[ak*ag+al];if(!ai){ai=ae[ak*ag+al]={}}ai.empty=(al==ak);ai.label=(al==ak?ac(an.getMeasureValuesGroupDataByIdx(0).values[0].col):ac(an.getMeasureValuesGroupDataByIdx(0).values[0].col)+" - "+ac(an.getMeasureValuesGroupDataByIdx(1).values[0].col))}}}function B(){delete u.plot;D.select(".v-m-plot").remove();if(M.plot&&!u.plot){var ak=u.plot=[];var ai=u.plotRoot=D.append("g").attr("class","v-m-plot");for(var aj=0,ah=M.plot.length;aj<ah;aj++){ak[aj]=ai.append("g").attr("class","v-m-plot"+aj);var al=M.plot[aj];var am=al.parent(ak[aj]).modules();for(var ag in am){if(am.hasOwnProperty(ag)){M["plot["+aj+"]."+ag]=am[ag]}}}}}function w(){if(a.isEmptyObject(V)){g.error("Container configuration missing")}A=0;ad();n();r();B()}function W(){if(a.isEmptyObject(M)||!o||!q){return}F();var ah=aa.getMeasureValuesGroupDataByIdx()[0].values.length;S=o/ah;Z=q/ah;var ag=O();var am=ag.height;if(!L||ag.width>S||ag.height>Z/3){ag.height=0;ab=true}for(var ak=0;ak<ah;ak++){for(var aj=0;aj<ah;aj++){var al=M.plot[aj*ah+ak];var ai=u.plot[aj*ah+ak];al.width(S).height(Z-am);ai.attr("transform","translate("+(S*ak)+","+(Z*aj)+")")}}}function T(ag){ag.each(function(ah){if(!J&&z){N()}s=0;D=ag;k.drawBound(ag,o,q);if(a.isEmptyObject(M)){w()}W();P();if(!J&&z){N(true)}});J=false,z=false;return T}T.width=function(ag){if(!arguments.length){return o}if(o!==ag){o=ag;W()}return T};T.height=function(ag){if(!arguments.length){return q}if(q!==ag){q=ag;W()}return T};T.size=function(ag){if(!arguments.length){return{width:o,height:q}}if(q!==ag.height||o!==ag.width){q=ag.height;o=ag.width;W()}return T};T.data=function(ah){if(!arguments.length){return aa}z=true;var ag=false;if(!f().hasSameSchema(aa,ah)){ag=true}aa=ah;if(!a.isEmptyObject(M)){if(ag){A=0;ad();n();r();B()}else{r()}}return T};T.properties=function(ag){if(!arguments.length){return t}p=ag;if(p[X]){j.extend(R,p[X].animation)}if(!a.isEmptyObject(M)){n()}return T};T.config=function(ag){if(!arguments.length){return V}V=ag;return T};T.modules=function(ag){if(!arguments.length){if(a.isEmptyObject(M)){w()}return M}M=ag;return T};T.parent=function(ag){if(!arguments.length){return D}D=ag;return T};T.dispatch=function(ag){if(!arguments.length){return H}H=ag;return T};function P(){if(u.plot){for(var ah=0,ag=u.plot.length;ah<ag;ah++){if(ae[ah].empty){v(u.plot[ah],ae[ah],Z/2);C()}else{M.plot[ah].width(S);u.plot[ah].datum(M.plot[ah].data()).call(M.plot[ah]);v(u.plot[ah],ae[ah],Z)}}}ab=false}function v(aj,ai,ag){if(ai.shape){ai.shape.remove()}if(ab){return}var ah=e.fastMeasure(ai.label,Y.size,Y.weight,Y.family);ai.shape=aj.append("text").attr("class","v-subtitle viz-matrix-sub-title").attr("text-anchor","middle").attr("x",S/2).attr("y",ag-ah.height/2).attr("dominant-baseline","middle").style("cursor","default");x.toAttrs(ai.shape);e.ellipsis(ai.label,ai.shape.node(),S-5,"font:"+Y.weight+" "+Y.size+" "+Y.family)}function O(){var ak=0,aj=0;for(var ai=0,ag=ae.length;ai<ag;ai++){var ah=e.fastMeasure(ae[ai].label,Y.size,Y.weight,Y.family);aj=ah.height>aj?ah.height:aj;ak=ah.width>ak?ah.width:ak}return{width:ak,height:aj}}function C(){if(++s==A){s=0;H.initialized()}}function af(ag){H.showTooltip(ag)}function G(ag){H.hideTooltip(ag)}return T}});sap.riv.module({qname:"sap.viz.modules.manifests.ScatterMatrixContainer",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.scattermatrixcontainer",version:"4.0.1"},{qname:"sap.viz.feeds.ScatterMatrix",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.scattermatrixcontainer",type:b.Module.Type.Container,name:"Scatter Matrix Container",description:"Settings for the subcharts layout of Scatter Matrix chart.",properties:{plotTitle:{name:"plotTitle",description:"Settings for plot title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of sub plot title."}}}},css:{".viz-matrix-sub-title.v-subtitle":{description:"Define style for the sub plot title.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"bold"}}},feeds:{id:"scattermatrix"},events:{showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.ScatterMatrixChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.ScatterMatrixContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.ScatterInMatrix",version:"4.0.1"}],function Setup(a){var b={id:"viz/scatter_matrix",name:"IDS_SCATTERMATRIXCHART",base:"riv/base",modules:{root:{modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:"BubbleColorLegend"}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"scattermatrix",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{id:"sap.viz.modules.scattermatrixcontainer",configure:{propertyCategory:"multiLayout"},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",data:{mg:[1]},configure:{description:"Settings for the x axis of a normal bubble or scatter plot.",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",gridline:{visible:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{mg:[2]},configure:{description:"Settings for the y axis of a normal bubble or scatter plot.",propertyCategory:"yAxis",properties:{type:"value",position:"left",gridline:{visible:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,position:"outside",automaticInOutside:false}}},plot:{id:"sap.viz.modules.scatterInMatrix",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis2Scale"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis1Scale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis1Title"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis2Title"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapes"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiScatterChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Scatter",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_scatter",name:"IDS_MULTISCATTERCHART",base:"riv/base/multiple/xy",modules:{root:{modules:{legend:{data:{aa:[2,3]},configure:{properties:{type:"BubbleColorLegend"}}},tooltip:{configure:{properties:{chartType:"scatter",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{configure:{properties:{mergeDataRange:["valueAxis1","valueAxis2"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the x axis of a normal bubble or scatter plot.",propertyCategory:"xAxis",properties:{title:{visible:false},type:"value",position:"bottom"},propertiesOverride:{title:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{automaticInOutside:false,orientation:"vertical",position:"outside",outsideVisible:true}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the y axis of a normal bubble or scatter plot.",propertyCategory:"yAxis",properties:{title:{visible:false},type:"value",position:"left"},propertiesOverride:{title:{isExported:false}}}},plot:{id:"sap.viz.modules.scatter",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{acceptMND:-1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"valueAxis1DataRange",sourceModule:"root.main.plot.plot",source:"valueAxis1DataRange"},{targetModule:"root.main.plot.plot",target:"valueAxis1DataRange",sourceModule:"root.main",source:"valueAxis1DataRange"},{targetModule:"root.main",target:"valueAxis2DataRange",sourceModule:"root.main.plot.plot",source:"valueAxis2DataRange"},{targetModule:"root.main.plot.plot",target:"valueAxis2DataRange",sourceModule:"root.main",source:"valueAxis2DataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis1Scale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis1Title"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis2Scale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis2Title"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapes"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiBubbleChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Scatter",version:"4.0.1"},{qname:"sap.viz.manifests.MultiScatterChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_bubble",name:"IDS_MULTIBUBBLECHART",base:"viz/multi_scatter",modules:{root:{modules:{legend:{data:{aa:[2,3]}},sizeLegend:{id:"sap.viz.modules.legend",configure:{description:"The size legend is a box mapping the charts data shapes's size to the value by some typical symbols and associated indication values.",propertyCategory:"sizeLegend",properties:{type:"SizeLegend"}}},tooltip:{configure:{properties:{chartType:"bubble",orientation:"left"}}},main:{configure:{properties:{mergeDataRange:["valueAxis1","valueAxis2","bubbleWidth","bubbleHeight"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{automaticInOutside:true,position:"inside"}}},plot:{id:"sap.viz.modules.bubble",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{acceptMND:-1},secondaryValues:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"valueAxis1DataRange",sourceModule:"root.main.plot.plot",source:"valueAxis1DataRange"},{targetModule:"root.main.plot.plot",target:"valueAxis1DataRange",sourceModule:"root.main",source:"valueAxis1DataRange"},{targetModule:"root.main",target:"valueAxis2DataRange",sourceModule:"root.main.plot.plot",source:"valueAxis2DataRange"},{targetModule:"root.main.plot.plot",target:"valueAxis2DataRange",sourceModule:"root.main",source:"valueAxis2DataRange"},{targetModule:"root.main",target:"bubbleWidthDataRange",sourceModule:"root.main.plot.plot",source:"bubbleWidthDataRange"},{targetModule:"root.main.plot.plot",target:"bubbleWidthDataRange",sourceModule:"root.main",source:"bubbleWidthDataRange"},{targetModule:"root.main",target:"bubbleHeightDataRange",sourceModule:"root.main.plot.plot",source:"bubbleHeightDataRange"},{targetModule:"root.main.plot.plot",target:"bubbleHeightDataRange",sourceModule:"root.main",source:"bubbleHeightDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis1Scale"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis2Scale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis1Title"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis2Title"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapes"},{targetModule:"root.sizeLegend",target:"sizeLegendInfo",sourceModule:"root.main.plot.plot",source:"sizeLegend"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.modules.datasampling",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"}],function Setup(c,a,d,b,f){var e=function(l){var m=l.props(null);var w=false,q={},v,A;var t,s,p,o,z,x,k,h;var r=function(){t=0;s=Number.MAX_VALUE;p=0;o=Number.MAX_VALUE;z=0;x=0;k=0;h=0};var g=function(C){r();var L=C.getMeasureValuesGroupDataByIdx(0);var K=C.getMeasureValuesGroupDataByIdx(1);var F=C.getMeasureValuesGroupDataByIdx(2);var J=C.getMeasureValuesGroupDataByIdx(3);distinctValuesObj={};for(var D=0;D<L.values[0].rows.length;D++){for(var B=0;B<L.values[0].rows[D].length;B++){var H=L.values[0].rows[D][B].val;var G=K.values[0].rows[D][B].val;if(f.isNoValue(H)||f.isNoValue(G)){continue}var I=F&&F.values.length&&a.isExist(F.values[0].rows[D][B].val)?Math.abs(F.values[0].rows[D][B].val):null;var E;if(J&&J.values.length){if(a.isExist(J.values[0].rows[D][B].val)){E=Math.abs(J.values[0].rows[D][B].val)}else{E=null}}else{E=I}if(!f.isNoValue(I)){distinctValuesObj[I]=""}z=H>z?H:z;x=H<x?H:x;k=G>k?G:k;h=G<h?G:h;t=I>t?I:t;s=I<s?I:s;p=E>p?E:p;o=E<o?E:o}}};function j(){}j.data=function(B,C){if(w&&B==="sap.viz.modules.scatter"){return n(C)}};var u=function(E,D){var G=false;for(var C=0;C<q.column;C++){var F=0;if(G){break}F=C*q.row;if(D.x>=E[F].xRange.x1&&D.x<E[F].xRange.x2||D.x===z){for(var B=0;B<q.row;B++){if(D.y>=E[F+B].yRange.y1&&D.y<E[F+B].yRange.y2||D.y===k){E[F+B].indexArray.push(D.index);E[F+B].refArray.push(D.ref);G=true;break}}}}};var n=function(U){var P=U.getMeasureValuesGroupDataByIdx(0);var N=U.getMeasureValuesGroupDataByIdx(1);var J=P.values[0].rows[0].length;if(J&&J>A&&(v>0&&v<1)){g(U);var R=[];if(q.column>0&&q.row>0){var I=(z-x)/q.column,B=(k-h)/q.row,C=x,F=h;for(var T=0;T<q.column;T++){var K={};K.x1=C;K.x2=C+I;for(var S=0;S<q.row;S++){var Q={},D={};Q.y1=F;Q.y2=F+B;D.xRange=K;D.yRange=Q;D.indexArray=[];D.refArray=[];R.push(D);F+=B}C+=I;F=h}}for(var T=0;T<P.values[0].rows.length;T++){for(var S=0;S<P.values[0].rows[T].length;S++){var H={};H.x=P.values[0].rows[T][S].val;H.y=N.values[0].rows[T][S].val;H.index=S;H.ref={x:P.values[0].rows,y:N.values[0].rows,xIndex:T,yIndex:S};u(R,H)}}for(var O=0;O<R.length;O++){var L=R[O].refArray.length;if(L>0){var M=Math.round(L*v);if(!((L&1)==0)){M++}for(;M<L;M++){var E=R[O].refArray[M].xIndex,G=R[O].refArray[M].yIndex;R[O].refArray[M].x[E][G].val=null;R[O].refArray[M].y[E][G].val=null}}}}return U};var i=function(B){w=a.isExist(B.enable)?B.enable:enable;q=a.isExist(B.grid)?B.grid:grid;v=a.isExist(B.sizeFactor)?B.sizeFactor:sizeFactor;A=a.isExist(B.numberPrecondition)?B.numberPrecondition:numberPrecondition};j.properties=function(B){if(!arguments.length){return m}b.extend(true,m,B);i(m)};j.parent=function(){};return j};return e});sap.riv.module({qname:"sap.viz.modules.manifests.DataSampling",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.datasampling",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.datasampling",name:"datasampling",type:b.Module.Type.Supplementary,properties:{enable:{name:"enable",supportedValueType:"Boolean",defaultValue:false,isExported:true,description:"Set whether to enable data sampling."},sizeFactor:{name:"sizeFactor",supportedValueType:"PositiveInt",defaultValue:1,isExported:true,description:"Set data point percentage in original dataset"},numberPrecondition:{name:"numberPrecondition",supportedValueType:"PositiveInt",defaultValue:3000,isExported:true,description:"if data point is larger than this value, data sampling will be triggered."},grid:{name:"grid",supportedValueType:"Object",supportedValues:{row:{name:"row",supportedValueType:"PositiveInt",defaultValue:3,description:"The row number of grid"},column:{name:"column",supportedValueType:"PositiveInt",defaultValue:3,description:"The column number of grid",}},isExported:true,description:"Settings for row and column of grid for sampling algorithm"}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.scatter.BaseBubbleChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"}],function Setup(b){var a={id:"viz/scatter/single/base",name:"IDS_BASEBUBBLECHART","abstract":true,base:"riv/base/single",modules:{root:{modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:"BubbleColorLegend"},propertiesOverride:{isHierarchical:{isExported:false}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",orientation:"vertical",visible:false,position:"outside",outsideVisible:true,positionPreference:true}}},xAxis:{id:"sap.viz.modules.axis",data:{mg:[1]},configure:{description:"Settings for the x axis of a normal bubble or scatter plot.",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",gridline:{visible:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{mg:[2]},configure:{description:"Settings for the y axis of a normal bubble or scatter plot.",propertyCategory:"yAxis",properties:{type:"value",position:"left",gridline:{visible:true}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"valueAxis1Scale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"valueAxis2Scale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"valueAxis1Title"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"valueAxis2Title"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapes"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.scatter.ScatterChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.scatter.BaseBubbleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Scatter",version:"4.0.1"},{qname:"sap.viz.modules.manifests.DataSampling",version:"4.0.1"}],function Setup(b){var a={id:"viz/scatter",name:"IDS_SCATTERCHART",base:"viz/scatter/single/base",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"scatter"}}},main:{modules:{plot:{id:"sap.viz.modules.scatter",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false}}},dataSampling:{id:"sap.viz.modules.datasampling",configure:{propertyCategory:"dataSampling",properties:{sizeFactor:0.5}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.scatter.BubbleChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.scatter.BaseBubbleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Bubble",version:"4.0.1"}],function Setup(b){var a={id:"viz/bubble",name:"IDS_BUBBLECHART",base:"viz/scatter/single/base",modules:{root:{modules:{sizeLegend:{id:"sap.viz.modules.legend",configure:{description:"The size legend is a box mapping the charts data shapes' size to the value by some typical symbols and associated indication values.",propertyCategory:"sizeLegend",properties:{type:"SizeLegend"},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{configure:{properties:{chartType:"bubble"}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:true,position:"inside"}}},plot:{id:"sap.viz.modules.bubble",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[undefined,undefined,undefined,undefined,undefined,undefined,undefined,{targetModule:"root.sizeLegend",target:"sizeLegendInfo",sourceModule:"root.main.plot",source:"sizeLegend"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.TreeMap",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(d,c){var e={id:"rectangleTitle",name:"IDS_RECTANGLETITLE",type:c.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1,maxStackedDims:6};var f={id:"rectangleWeight",name:"IDS_RECTANGLEWEIGHT",type:c.Type.Measure,min:1,max:1,mgIndex:1};var b={id:"rectangleColor",name:"IDS_RECTANGLECOLOR",type:c.Type.Measure,min:0,max:1,mgIndex:2};var a={id:"treeMap",feeds:[e,b,f]};d.register(a)});sap.riv.module({qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.1"},[],function Setup(){var b={getScale:function(w,k,f,o,n){var z=d3.scale.linear().domain([w,k]).range([o,n]).nice();var h=z.domain();var m=a(h[0]),l=a(h[1]);var e=m>l?m:l;e++;var x=z.domain();x=c(x,e);w=x[0];k=x[1];if(w===k){f=1}var q=k-w,A=[],j,v=0;if(q/f>1){if(q%f===0){j=d(q/f,e+1);v=a(j);for(var r=0;r<f+1;r++){A.push(w+d(r*j,v))}}else{j=Math.ceil(q/f);v=a(j);var g=Math.floor(w/j)*j;if(g===0||(g+j*f<k)){g=w}for(var r=0;r<f+1;r++){A.push(g+d(r*j,v))}}}else{g=w,j=d(q/f,e+1);v=a(j);for(var r=0;r<f;r++){A.push(g+d(r*j,v))}A.push(d(k,v))}for(var r=0,u=A.length;r<u;r++){A[r]=d(A[r],v)}z=d3.scale.linear().domain([0,f-1]).range([o,n]);var p=[],t=[];for(var r=0,u=A.length-1;r<u;r++){p.push([A[r],A[r+1]]);t.push(z(r))}var s=d3.scale.ordinal().domain(p).range(t);return s}};var c=function(g,f){for(var h=0,e=g.length;h<e;h++){g[h]=d(g[h],f)}return g};var a=function(f){var e=f.toString().split(".");return e.length>1?e[1].length:0};var d=function(f,e){return Math.round(Math.pow(10,e)*f)/Math.pow(10,e)};return b});sap.riv.module({qname:"sap.viz.modules.treemap",version:"4.0.1"},[{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(g,d,b,i,a,i,f,k,e,c,h,j){var l=function(z,H){var L=c.guid();var M=function(ai,ah){for(var aj in ah){if(typeof(ah[aj])==="object"){if(ai[aj]){ai[aj]=M(ai[aj],ah[aj])}else{ai[aj]=ah[aj]}}else{ai[aj]=ah[aj]}}return ai};var r=[];var D,Z;var aa={emptycolor:"#e0e0e0",animation:{dataLoading:true,dataUpdating:true,resizing:true,},colornumber:5,discretecolor:false,colorPalette:[],tooltip:{enabled:true,}};aa=M(aa,z.props(null));var J=z.props(null);var N="'Open Sans', Arial, Helvetica, sans-serif";var v;var u;var C=true;var B="dataLoading";var x="v-treemap";var t="v-treemapitem";var U;var p=d3.scale.ordinal();var P=d3.scale.ordinal();var ab=new g("selectData","deselectData","initialized","showTooltip","hideTooltip","startToInit");var S="#ffffff";var T;var ag;var G;var F;var Q=null;var n=null;var K=null;var E=H.effectManager;var o=6;var m=null;var I=e.get("IDS_ISNOVALUE");var af={};af.fontSize="12px";af.fontWeight="normal";af.fontFamily="'Open Sans', Arial, Helvetica, sans-serif";af.fill="#ffffff";var ad=function(ai,ah){return f.fastMeasure(ai,ah["font-size"],ah["font-weight"],ah["font-family"])};var R=function(ah){if(ah===null||ah===undefined){ah=e.get("IDS_ISNOVALUE")}return ah};var V=function(an){var ai={body:[],footer:[]};var ah=F[an];var am={name:R(ah.weight.col),val:[{value:i.isNoValue(ah.weight.row.val)?I:ah.weight.row.val}]};ai.body.push(am);if(G){var aj={name:R(ah.color.col),val:[{value:i.isNoValue(ah.color.row.val)?I:ah.color.row.val}]};ai.body.push(aj)}if(a.isExist(T)){for(var ap=T.values,al=ap.length,ak=al-1;ak>=0;ak--){var ao={};ao.label=ap[ak].col;ao.value=ap[ak].rows[an%ap[ak].rows.length];ai.footer.push(ao)}}return ai};var Y=function(aj){if(!i.isNoValue(aj.datum().val)){u.attr("visibility","visible");var al=aj.datum().left+U;var ai=aj.datum().left+aj.datum().width-U;var ak=aj.datum().top+U;var ah=aj.datum().top+aj.datum().height-U;u.select(".HLLeft").attr("x1",al).attr("y1",ak).attr("x2",al).attr("y2",ah);u.select(".HLRight").attr("x1",ai).attr("y1",ak).attr("x2",ai).attr("y2",ah);u.select(".HLTop").attr("x1",al).attr("y1",ak).attr("x2",ai).attr("y2",ak);u.select(".HLBottom").attr("x1",al).attr("y1",ah).attr("x2",ai).attr("y2",ah)}};var w=function(ah){u.attr("visibility","hidden")};var O=function(ai,ah){if((ai&&ai.level===0&&ai.index===0)||(F.length===0)||(ai===undefined&&ah===undefined)){ab.initialized()}};var A=function(aB,aC,aH,al){if(aC.length<=0){return}var ay=(aC[0].children.length===0);if(aH){aB=aB.append("g").attr("class",x+"level"+aC[0].level)}else{aB=aB.select("."+x+"level"+aC[0].level)}var aF=[];for(var aE=0;aE<aC.length;aE++){if(aC[aE].level===al){aF.push(aC[aE])}}var aq=aB.attr("class");var az=aB.selectAll("."+aq+" > ."+t);az=az.data(aF,function(aJ){return aJ.index});var ax=az.enter();var av=az.exit();var aw;var aA=function(aL){var aK={};aK["font-size"]=af.fontSize;aK["font-weight"]=af.fontWeight;aK["font-family"]=af.fontFamily;var aM=ad(aL.label,aK).height;var aJ=0;if(aM>aL.height){aJ=-1}else{aJ=aL.width-6}return aJ};var at=function(aJ){return(ay)?(aJ.width/2):(aJ.left+aJ.width/2)};var ap=function(aL){var aJ={};aJ["font-size"]=af.fontSize;aJ["font-weight"]=af.fontWeight;aJ["font-family"]=af.fontFamily;var aK=ad(aL.label,aJ).height;if(aL.children.length===0){return(ay)?(aL.height/2+aK/2-aK/10):(aL.top+aL.height/2+aK/2-aK/10)}else{return aL.top+aK-aK/10}};var ai=function(aL){var aK="font-size:"+af.fontSize;aK+="font-weight:"+af.fontWeight;aK+="font-family:"+af.fontFamily;var aJ="";if(aL.showLabel){aJ=f.ellipsis(aL.label,this,aA(aL),aK)}return aJ};var au=function(aJ){return"middle"};var ao=function(aK){var aJ;if(aK.children.length===0){aJ="white"}else{if(aK.level===(aK.levelNum-1)){aJ="white"}else{if((aK.levelNum-aK.level)===6){aJ="white"}else{if((aK.levelNum-aK.level)===5){aJ="white"}else{if((aK.levelNum-aK.level)===4){aJ="white"}else{if((aK.levelNum-aK.level)===3){aJ="#595959"}else{aJ="#464646"}}}}}}return aJ};var am=function(aJ){var aK=aJ.attr("x",function(aL){return(ay)?(0):(aL.left+U)}).attr("y",function(aL){return(ay)?(0):(aL.top+U)}).attr("width",function(aL){return aL.width-2*U>0?aL.width-2*U:0}).attr("height",function(aL){return aL.height-2*U>0?aL.height-2*U:0}).attr("fill",function(aL){var aM={drawingEffect:"normal",fillColor:aL.color};return E.register(aM)}).attr("shape-rendering","crispEdges");return aK};var aG=function(aK){var aJ=null;if(ay){aJ=aK.attr("x",at).attr("y",ap).attr("class","v-treemapdatalabel").attr("text-anchor",au).attr("fill",ao).attr("font-size",af.fontSize).attr("font-family",af.fontFamily).attr("pointer-events","none")}else{aJ=aK.attr("x",at).attr("y",ap).attr("text-anchor",au).attr("fill",ao).attr("font-size",af.fontSize).attr("font-family",af.fontFamily).attr("pointer-events","none")}aJ.text(ai);return aJ};if(aH){var ak=t;if(ay){ak+=" v-datashape"}aw=ax.append("g").attr("class",ak);if(ay){aw.attr("transform",function(aJ){return"translate("+(aJ.left+U)+","+(aJ.top+U)+")"})}var an=aw.append("rect");am(an);if(ay){an.attr("id",function(aK,aJ){return("HM"+aK.index+L)}).attr("class","v-datapoint")}var aI=aw.append("text");aG(aI)}else{aw=az;var aj=az.select("rect");var aI=az.select("text");var ar=0;if(B==="resizing"&&aa.animation.resizing){ar=500}if(ar>0){aj=aj.transition();aI=aI.transition()}if(ay){if(ar>0){aw=aw.transition();aw=aw.attr("transform",function(aK){var aJ="translate("+(aK.left+U)+","+(aK.top+U)+")";return aJ});aw=aw.delay(0).duration(ar)}else{aw.attr("transform",function(aK){var aJ="translate("+(aK.left+U)+","+(aK.top+U)+")";return aJ})}}aj=am(aj);aI=aG(aI);if(ar>0){aj.delay(0).duration(ar).each("end",O);aI.delay(0).duration(ar)}else{O()}}var aD=function(aN,aM,aL){var aK=d3.select(aN);var aJ=aK.datum().children;A(aK,aK.datum().children,aH,al+1)};aw.each(function(aK,aJ){aD(this,aK,aJ)});aw=aB.selectAll("."+t);if(aH){var ah=0;if(B==="dataLoading"&&aa.animation.dataLoading){ah=1000}else{if(B==="dataUpdating"&&aa.animation.dataUpdating){ah=500}}aw.attr("opacity",0);aw.transition().delay(0).duration(ah).attr("opacity",1).each("end",O)}else{O()}return aw};var q=function(ai,ah){B="resizing";if(C){if(ai.selectAll("*").empty()){B="dataLoading"}else{B="dataUpdating"}ai.selectAll("*").remove()}j.drawBound(ai,D,Z);var ak=ai;var aj=ai.selectAll("g.v-datashapesgroup");if(!a.isExist(aj[0][0])){aj=ai.append("g").attr("class","v-datashapesgroup")}A(aj,ah,C,0);if(C){u=ai.append("g").attr("class","v-element").attr("visibility","hidden");u.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");u.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");u.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");u.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(u){u.attr("visibility","hidden")}}C=false};var ac=function(){if(G){var am=[];var an=G.values[0].rows[0];for(var al=0;al<an.length;al++){am.push(an[al])}var aq=-Number.MAX_VALUE;var ap=Number.MAX_VALUE;for(var aj=0;aj<am.length;aj++){if(!i.isNoValue(am[aj].val)){if(aq<am[aj].val){aq=am[aj].val}if(ap>am[aj].val){ap=am[aj].val}}}var ao=false;for(var al=0;al<am.length;al++){if(i.isNoValue(am[al].val)){ao=true}}}var ak=aa.colornumber;var ah;if(ap===Number.MAX_VALUE&&aq===-Number.MAX_VALUE||(!G)){ah=undefined}else{var ah=k.getScale(ap,aq,ak,aa.startColor,aa.endColor);if(ao){var ar=ah.domain();var ai=ah.range();ar.push([]);ai.push(aa.emptycolor)}}return ah};var X=function(ai){var ah=function(aD,aw,av){var aA=0;for(var aF=0;aF<aD.length;aF++){aA+=aD[aF].val}var aC=function(aK,aJ){var aL=0;if(aJ.val!==aK.val){aL=aK.val-aJ.val}return aL};var aI;for(var ar=0;ar<aD.length-1;ar++){for(var aF=aD.length-1;aF>ar;aF--){if(aC(aD[aF],aD[aF-1])>0){aI=aD[aF-1];aD[aF-1]=aD[aF];aD[aF]=aI}}}var aB={left:0,top:0,width:0,height:0,weight:0,items:[],worstRadio:0,};var au={left:0,top:0,width:0,height:0,weight:0,vertical:false,};for(var aF=0;aF<aD.length;aF++){ao(aD,aF,aA,aB,au,aw)}for(var aH=0;aH<aD.length;aH++){if(!aD[aH].left){aD[aH].left=0}if(!aD[aH].top){aD[aH].top=0}if(!aD[aH].width||aD[aH].width<0){aD[aH].width=0}if(!aD[aH].height||aD[aH].height<0){aD[aH].height=0}var aE="";if(aD[aH].label&&aD[aH].label.length&&aD[aH].label.length>0){var aq=aD[aH].label[0];aE=aq.concat("...")}var aG={};aG["font-size"]=af.fontSize;aG["font-weight"]=af.fontWeight;aG["font-family"]=af.fontFamily;aD[aH].labelHeight=ad(aE,aG).height;aD[aH].labelWidth=ad(aE,aG).width;aD[aH].needMoreHeightToShowLabel=false;if((aD[aH].labelHeight<aD[aH].height)&&(aD[aH].labelWidth<aD[aH].width)){aD[aH].showLabel=true}else{aD[aH].showLabel=false;if(aD[aH].labelHeight>=aD[aH].height&&aD[aH].val>0){aD[aH].needMoreHeightToShowLabel=true}}}var ax=true;for(var aH=0;aH<aD.length;aH++){if(aD[aH].level===(aD[aH].levelNum-1)){if(!aD[aH].needMoreHeightToShowLabel){ax=false;break}}else{ax=false}}var at=function(aJ){if(aD[aJ].level!==(aD[aJ].levelNum-1)){aD[aJ].showLabel=false}az.top=aD[aJ].top+U*2;az.left=aD[aJ].left+U*2;az.width=aD[aJ].width-U*2-U;az.height=aD[aJ].height-U*2-U};if(!ax){for(var aF=0;aF<aD.length;aF++){if(aD[aF].children.length>0){var ay=true;if(!av){ay=false}var ap=aD[aF].labelHeight;var az={};az.top=aD[aF].top+U*2+ap;az.left=aD[aF].left+U*2;az.width=aD[aF].width-U*2-U;az.height=aD[aF].height-U*2-U-ap;if(!ay){at(aF)}ax=ah(aD[aF].children,az,ay);if((ax||!aD[aF].showLabel)&&ay){at(aF);ax=ah(aD[aF].children,az,false)}}}}return ax};var aj=function(aq){var ap;if(aq.height>aq.width){ap=aq.height/aq.width}else{ap=aq.width/aq.height}ap=Math.floor(ap*1000);return ap};var am=function(ar,aA,aq,ax,az){var aw=0;var ay={};if(aq){if(az.vertical){ay.width=az.width*(aA/(ax.weight+aA));ay.height=az.height*((ax.weight+aA)/az.weight)}else{ay.height=az.height*(aA/(ax.weight+aA));ay.width=az.width*((ax.weight+aA)/az.weight)}aw=aj(ay);for(var av=0;av<ax.items.length;av++){var ap=ax.items[av];var au={};if(az.vertical){au.width=ax.width*(ar[ap].val/(ax.weight+aA));au.height=az.height*((ax.weight+aA)/az.weight)}else{au.height=ax.height*(ar[ap].val/(ax.weight+aA));au.width=az.width*((ax.weight+aA)/az.weight)}var at=aj(au);if(aw<at){aw=at}}}else{aw=ax.worstRadio}return aw};var ak=function(ap,ar){var aq={};aq.weight=ar.weight-ap.weight;if(ar.width===ap.width){aq.left=ar.left;aq.top=ap.top+ap.height;aq.width=ar.width;aq.height=ar.height-ap.height}else{aq.left=ap.left+ap.width;aq.top=ar.top;aq.width=ar.width-ap.width;aq.height=ar.height}return aq};var ao=function(au,ap,az,ay,aA,aw){if(ap===0){au[ap].left=aw.left;au[ap].top=aw.top;if(aw.width>aw.height){au[ap].height=aw.height;au[ap].width=aw.width*(au[ap].val/az);aA.vertical=false}else{au[ap].width=aw.width;au[ap].height=aw.height*(au[ap].val/az);aA.vertical=true}ay.left=aw.left;ay.top=aw.top;ay.width=au[ap].width;ay.height=au[ap].height;ay.weight=au[ap].val;ay.items.push(ap);ay.worstRadio=aj(ay);aA.left=aw.left;aA.top=aw.top;aA.width=aw.width;aA.height=aw.height;aA.weight=az}else{if(ap===(au.length-1)){var ax=ak(ay,aA);au[ap].left=ax.left;au[ap].top=ax.top;au[ap].width=ax.width;au[ap].height=ax.height}else{var at=(am(au,au[ap].val,true,ay,aA));var aB=(am(au,au[ap].val,false,ay,aA));if(at<aB){ay.worstRadio=at;ay.items.push(ap);ay.weight+=au[ap].val;if(aA.vertical){ay.height=aA.height*(ay.weight/aA.weight)}else{ay.width=aA.width*(ay.weight/aA.weight)}for(var av=0;av<ay.items.length;av++){var ar=ay.items[av];if(aA.vertical){au[ar].width=ay.width*(au[ar].val/ay.weight);au[ar].height=aA.height*(ay.weight/aA.weight);au[ar].top=ay.top;if(av===0){au[ar].left=ay.left}else{au[ar].left=au[ar-1].left+au[ar-1].width}}else{au[ar].height=ay.height*(au[ar].val/ay.weight);au[ar].width=aA.width*(ay.weight/aA.weight);au[ar].left=ay.left;if(av===0){au[ar].top=ay.top}else{au[ar].top=au[ar-1].top+au[ar-1].height}}}}else{var aq=ak(ay,aA);aA.left=aq.left;aA.top=aq.top;aA.width=aq.width;aA.height=aq.height;aA.weight=aq.weight;if(aA.width>aA.height){aA.vertical=false}else{aA.vertical=true}ay.left=aA.left;ay.top=aA.top;ay.weight=au[ap].val;if(aA.vertical){ay.width=aA.width;ay.height=aA.height*(au[ap].val/aA.weight)}else{ay.height=aA.height;ay.width=aA.width*(au[ap].val/aA.weight)}ay.worstRadio=aj(ay);ay.items=[];ay.items.push(ap);au[ap].width=ay.width;au[ap].height=ay.height;au[ap].top=ay.top;au[ap].left=ay.left}}}};var an={};an.top=0;an.left=0;an.width=D;an.height=Z;var al=ah(ai,an,true);if(al){ah(ai,an,false)}};var W=function(aq,ah,al,au,ap){if(ah>=al){return[]}var ai=[];var aj=undefined;var ak=au;var ao=ak+1;for(var an=au;an<ap;an++){var at={};var ar=aq[an].dimensions[ah].row.val;if(ar!==aj||ah===al-1){var am=s(an,ah,al,at);at.label=aq[an].dimensions[ah].row.val;at.level=ah;at.levelNum=al;at.isTreeMap=true;if(ah===al-1){at.ctx=aq[an].weight.row.ctx}else{at.ctx=null}at.index=an;if(aq[an].weight.row.val>=0){at.val=aq[an].weight.row.val}else{at.val=0}if(ai.length>0){ai[ai.length-1].children=W(aq,(ah+1),al,ak,ao);ak=an;ao=ak+1}ai.push(at)}else{if(aq[an].weight.row.val>=0){ai[ai.length-1].val+=aq[an].weight.row.val}ao++}aj=ar;if(an===ap-1){if(ai.length>0){ai[ai.length-1].children=W(aq,(ah+1),al,ak,ao)}}}return ai};var s=function(an,ai,ak,ap){if(ai!==(ak-1)){var ah=(ak-1-ai);if(ah===1){ap.color="#f9f9f9"}else{if(ah===2){ap.color="#e3e3e3"}else{if(ah===3){ap.color="#bfbfbf"}else{if(ah===4){ap.color="#989898"}else{if(ah===5){ap.color="#717171"}}}}}ap.colorValue=Number.MAX_VALUE}else{if(F[an].color){ap.colorValue=F[an].color.row.val;if(m){var am=m.domain();if(i.isNoValue(ap.colorValue)){ap.color=aa.emptycolor}else{var ao;for(var al=0;al<am.length;al++){var aj=am[al];if((al==am.length-1)||(am[al+1].length==0)){ao=aj;break}if((ap.colorValue>=aj[0])&&(ap.colorValue<aj[1])){ao=aj;break}}ap.color=m(ao)}}else{ap.color=aa.emptycolor}}else{ap.colorValue=Number.MAX_VALUE;var aq=d.sap32().range();ap.color=aq[0]}}};function ae(ai){Q=ai;ab.startToInit();if(aa.border&&aa.border.visible){U=1}else{U=0}m=ac();var ah=F[0].dimensions.length;var aj=W(F,0,ah,0,F.length);X(aj);q(ai,aj);return ae}ae.dataLabel=function(ah){};ae.afterUIComponentAppear=function(){ab.initialized()};ae.mouseover=function(ak){var ap=d3.select(d3.event.target);var al=ap.attr("id");if(al&&aa.tooltip.enabled){var ao=al.toString().length-L.toString().length-2;var an=al.toString().substr(2,ao);var aj=Q.node().getTransformToElement(Q.node().ownerSVGElement);var ai=Q.node().ownerSVGElement.getBoundingClientRect();var am=ak.getBoundingClientRect();var ah=V(an);ah.point={x:am.left-ai.left+am.width/2,y:(am.height>16)?am.top-ai.top+8:am.top-ai.top+am.height/2};ah.plotArea={x:aj.e,y:aj.f,width:D,height:Z};ab.showTooltip(b.formatTooltipData(ah));Y(ap)}};ae.mouseout=function(){if(aa.tooltip.enabled){ab.hideTooltip()}if(d3.event){var ah=d3.select(d3.event.target);w(ah)}};ae.parent=function(){return Q};ae.highlight=function(ai){if(ai instanceof Array){for(var aj=0,ah=ai.length;aj<ah;aj++){ai[aj].setAttribute("opacity",1)}}else{ai.setAttribute("opacity",1)}};ae.unhighlight=function(ai){if(ai instanceof Array){for(var aj=0,ah=ai.length;aj<ah;aj++){ai[aj].setAttribute("opacity",0.2)}}else{ai.setAttribute("opacity",0.2)}};ae.clear=function(ah){if(ah==null){Q.selectAll(".v-datapoint").attr("opacity",1)}else{Q.selectAll(".v-datapoint").attr("opacity",0.2)}};ae.width=function(ah){if(!arguments.length){return D}D=ah;return ae};ae.height=function(ah){if(!arguments.length){return Z}Z=ah;return ae};ae.data=function(ar){if(!arguments.length){return v}v=ar;C=true;T=v.getAnalysisAxisDataByIdx(0);ag=v.getMeasureValuesGroupDataByIdx(0);G=v.getMeasureValuesGroupDataByIdx(1);var ai=v.getAnalysisAxisDataByIdx(0);var al=v.getMeasureValuesGroupDataByIdx(0);var aj=v.getMeasureValuesGroupDataByIdx(1);F=[];var ao=al.values[0].rows[0];for(var am=0;am<ao.length;am++){var an={};var ah={};ah.col=al.values[0].col;ah.row=ao[am];an.weight=ah;F.push(an)}if(aj){var ao=aj.values[0].rows[0];for(var am=0;am<F.length;am++){var an=F[am];var ap={};ap.col=aj.values[0].col;ap.row=ao[am];an.color=ap}}var ao=ai.values;for(var am=0;am<F.length;am++){var an=F[am];var au=[];var at=ao.length;if(at>o){at=o}for(var ak=0;ak<at;ak++){var aq={};aq.col=ai.values[ak].col;aq.row=ai.values[ak].rows[am];au.push(aq)}an.dimensions=au}return ae};ae.properties=function(ah){if(!arguments.length){return J}h.extend(true,aa,ah);h.extend(true,J,ah);C=true;return ae};ae.getDatapointsByRange=function(an){var am=d3.selectAll(".v-datapoint")[0],al=[],ai=an.ctx.ranges,ak;for(var aj=0,ah=am.length;aj<ah;aj++){ak=am[aj].__data__.colorValue;if(i.isNoValue(an.val)){if(i.isNoValue(ak)){al.push(am[aj])}}else{if(ak<ai.endValue&&ak>ai.startValue){al.push(am[aj])}else{if(!ai.isLeftOpen&&ak===ai.startValue){al.push(am[aj])}else{if(!ai.isRightOpen&&ak===ai.endValue){al.push(am[aj])}}}}}return al};ae.mbcLegendInfo=function(){var ah=ac();var ai="";if(G){ai=G.values[0].col}return{colorScale:ah,title:ai,}};ae.getPreferredSize=function(){};ae.dispatch=function(ah){if(!arguments.length){return ab}ab=ah;return ae};return ae};return l});sap.riv.module({qname:"sap.viz.modules.manifests.TreeMap",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.treemap",version:"4.0.1"},{qname:"sap.viz.feeds.TreeMap",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.treemap",type:b.Module.Type.Chart,name:"treemap",properties:{border:{name:"border",description:"Settings for border.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of zone edge."},},},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation of plot area."},startColor:{name:"startColor",supportedValueType:"String",defaultValue:"#C2E3A9",description:"Set treeMap startColor."},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"#73C03C",description:"Set treeMap endColor."},tooltip:{name:"tooltip",description:"Settings for tooltip.",supportedValueType:"Object",supportedValues:{visible:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."},},isExported:false}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"treeMap"},css:{},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.TreeMapChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TreeMap",version:"4.0.1"}],function Setup(b){var a={id:"viz/treemap",name:"IDS_TREEMAPCHART",base:"riv/base/single",modules:{root:{modules:{legend:{id:"sap.viz.modules.legend",configure:{description:"The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ",properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"treemap",orientation:"bottom"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:false}}},plot:{id:"sap.viz.modules.treemap",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.legend",target:"mbcLegendInfo",sourceModule:"root.main.plot",source:"mbcLegendInfo"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.HeatMap",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(e,d){var c={id:"mainLabelAxis",name:"IDS_MAINLABELAXISNAME",type:d.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1};var b={id:"rectangleColor",name:"IDS_RECTANGLECOLOR",type:d.Type.Measure,min:1,max:1,mgIndex:1};var f={id:"secondaryLabelAxis",name:"IDS_SECONDARYAXISLABELNAME",type:d.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1};var a={id:"heatMap",feeds:[c,b,f]};e.register(a)});sap.riv.module({qname:"sap.viz.modules.heatmap",version:"4.0.1"},[{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.EffectManager",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(f,d,b,j,i,a,j,h,k,e,c,g,m){var l=function(w,E){var I=c.guid();var J=function(aj,ai){for(var ak in ai){if(typeof(ai[ak])==="object"){if(aj[ak]){aj[ak]=J(aj[ak],ai[ak])}else{aj[ak]=ai[ak]}}else{aj[ak]=ai[ak]}}return aj};var r=[];var A,X;var Z={emptycolor:"#e0e0e0",animation:{dataLoading:true,dataUpdating:true,resizing:true,},colornumber:5,discretecolor:false,guideline:{visible:false,color:"#ffff90",},drawemptycell:true,colorPalette:[],tooltip:{enabled:true,}};Z=J(Z,w.props(null));var G=w.props(null);var L="'Open Sans', Arial, Helvetica, sans-serif";var t;var s;var x=true;var v="v-heatmap";var K="v-heatmapemptyvalue";var S=1;var p=d3.scale.ordinal();var O=d3.scale.ordinal();var aa=new f("selectData","deselectData","initialized","showTooltip","hideTooltip","startToInit");var af=undefined;var R="#ffffff";var q;var W;var ad;var B;var P=null;var o=null;var H=null;var V=[];var C=E.effectManager;var F=e.get("IDS_ISNOVALUE");var ah=null;function ae(aH){m.drawBound(aH,A,X);aa.startToInit();P=aH;V=[];var aj=false;if(!W){aj=true}if(aj){var av=[];var al=ad.values[0].rows[0];for(var aB=0;aB<al.length;aB++){V.push(al[aB])}for(var aB=0;aB<V.length;aB++){var aq="";for(var aA=0;aA<q.values.length;aA++){aq+=q.values[aA].rows[aB].val;if(aA!=(q.values.length-1)){aq+=" / "}}av.push(aq)}for(var aB=0;aB<V.length;aB++){V[aB].label=av[aB];V[aB].isOnlyOneCategory=true}}else{var ai=q.values[0].rows;var ak=W.values[0].rows;var ar=ad.values[0].rows;var at=ai.length;var au=ak.length;for(var aB=0;aB<au;aB++){for(var aA=0;aA<at;aA++){V.push(ar[aB][aA])}}for(var aB=0;aB<V.length;aB++){V[aB].isOnlyOneCategory=false}}af=ab();var ap=af.domain();for(var aB=0;aB<V.length;aB++){var ax;if(j.isNoValue(V[aB].val)){V[aB].color=Z.emptycolor}else{for(var aA=0;aA<ap.length;aA++){var ay=ap[aA];if((aA==ap.length-1)||(ap[aA+1].length==0)){ax=ay;break}if((V[aB].val>=ay[0])&&(V[aB].val<ay[1])){ax=ay;break}}V[aB].color=af(ax)}}if(aj){var aC=-Number.MAX_VALUE;var aw;var aE;var ao;var an;var az;var am=[];var aG;if(V.length==1){aw=X;aE=A;an=1;ao=1}else{for(ao=1;ao<=V.length;ao++){aw=X/ao;var an=V.length;for(;an>=0;an--){if((an*ao)<V.length){an++;break}}aE=A/an;az=(an*ao)-V.length;aG=(aw-aE)*(aw-aE);if(aG<1){aG=1}var aC;if(az==0&&aG==0){aC=1+1}else{if(az==0&&aG!=0){aC=1+1/aG}else{if(az!=0&&aG==0){aC=1+1}else{aC=1+1/aG}}}am.push({iRow:ao,iCol:an,rHeight:aw,rWidth:aE,varianceRec:aG,emptyCellNum:az,score:aC})}var aF=0;var aD=-1;for(var aB=0;aB<am.length;aB++){if(am[aB].score>aF){aF=am[aB].score;aD=aB}}aw=am[aD].rHeight;aE=am[aD].rWidth;an=am[aD].iCol;ao=am[aD].iRow}for(var aB=0;aB<V.length;aB++){V[aB].width=aE;V[aB].height=aw;V[aB].left=aE*(aB%an);V[aB].top=aw*(Math.floor(aB/an))}}else{for(var aB=0;aB<V.length;aB++){V[aB].width=A/at;V[aB].height=X/au;V[aB].left=(A/at)*(aB%at);V[aB].top=(X-X/au)-((X/au)*(Math.floor(aB/at)))}}N(aH,aj);return ae}var N=function(an,al){var aq="resizing";if(x){if(an.select("."+v).empty()){aq="dataLoading"}else{aq="dataUpdating"}an.select("."+v).remove()}var aj=an.selectAll("g.v-datashapesgroup");if(!a.isExist(aj[0][0])){aj=an.append("g").attr("class","v-datashapesgroup")}if(!al){S=0}else{if(Z.border.visible){S=1}else{S=0}}if(x){B=aj.append("g").attr("class",v)}else{B=aj.select("."+v)}if(!Z.drawemptycell){if(x){B.append("rect").attr("x",0).attr("y",0).attr("width",A).attr("height",X).attr("fill",Z.emptycolor).attr("class",K).attr("shape-rendering","crispEdges")}else{B.select("."+K).attr("x",0).attr("y",0).attr("width",A).attr("height",X).attr("fill",Z.emptycolor).attr("class",K).attr("shape-rendering","crispEdges")}}var ap=[];for(var ak=0;ak<V.length;ak++){if(!Z.drawemptycell&&!V[ak].val){continue}else{V[ak].index=ak;ap.push(V[ak])}}var ar=B.selectAll("rect").data(ap,function(av){return av.index});var am=ar.enter();var ai=ar.exit();var ao;if(x){ah=am.append("g").attr("class","v-datashape");ah.attr("transform",function(av){return"translate("+(av.left+S)+","+(av.top+S)+")"});ao=ah.append("rect").attr("id",function(aw,av){return("HM"+aw.index+I)}).attr("class","v-datapoint").attr("x",0).attr("y",0).attr("width",function(av){return av.width-2*S}).attr("height",function(av){return av.height-2*S}).attr("fill",function(av){var aw={drawingEffect:"normal",fillColor:av.color};return C.register(aw)}).attr("shape-rendering","crispEdges")}else{var au=0;if(aq==="resizing"&&Z.animation.resizing){au=500}if(ah){if(au>0){ah.transition().attr("transform",function(av){return"translate("+(av.left)+","+(av.top)+")"}).delay(0).duration(au)}else{ah.attr("transform",function(av){return"translate("+(av.left)+","+(av.top)+")"})}}ao=ar;if(au>0){ao=ar.transition()}ao=ao.attr("x",0).attr("id",function(aw,av){return("HM"+aw.index+I)}).attr("class","v-datapoint").attr("y",0).attr("width",function(av){return av.width-2*S}).attr("height",function(av){return av.height-2*S}).attr("fill",function(av){var aw={drawingEffect:"normal",fillColor:av.color};return C.register(aw)}).attr("shape-rendering","crispEdges");if(au>0){ao.delay(0).duration(au).each("end",M)}}if(Z.border.visible){if(!al){ao.attr("stroke",R).attr("stroke-width","1")}}if(al){if(!x){B.selectAll("text").remove();B.selectAll("rect").data(ap,function(av){return av.index}).enter()}if(ah){ah.append("text").attr("class","v-heatmapdatalabel").attr("x",function(av){return av.width/2}).attr("y",function(av){return av.height/2}).attr("text-anchor","middle").text(function(av){return av.label}).attr("fill","#ffffff").attr("font-size","12px").attr("font-family","'Open Sans', Arial, Helvetica, sans-serif").attr("pointer-events","none").each(function(av){h.ellipsis(av.label,this,av.width-5,"fill:#ffffff;font-family:'Open Sans', Arial, Helvetica, sans-serif;font-size:12px;")})}}if(x){var at=0;if(aq==="dataLoading"&&Z.animation.dataLoading){at=1000}else{if(aq==="dataUpdating"&&Z.animation.dataUpdating){at=500}}ao.attr("opacity",0);ao.transition().delay(0).duration(at).attr("opacity",1).each("end",M)}else{M()}if(x){s=B.append("g").attr("class","v-element").attr("visibility","hidden");s.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");s.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");s.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");s.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(s){s.attr("visibility","hidden")}}x=false};var M=function(aj,ai){if((ai===(V.length-1))||(V.length===0)||(aj===undefined&&ai===undefined)){aa.initialized()}};function Y(){}function n(){}var ag=function(ap){var ai=V[ap];var aq="";var al="";var an=false;if(!W){an=true}if(an){aq=q.values[0].rows[ap].val;if(W){al=W.values[0].rows[ap].val}}else{var aj=q.values[0].rows;var ar=W.values[0].rows;var ao=ad.values[0].rows;var am=aj.length;var ak=ar.length;aq=q.values[0].rows[ap%am].val;al=W.values[0].rows[Math.floor(ap/am)].val}o.select("rect").attr("width",160).attr("height",78).attr("fill","rgb(255,255,255)");o.attr("transform","translate("+(ai.left+ai.width/2+5)+","+(ai.top+ai.height/2+5)+")");if(!j.isNoValue(ai.val)){o.select(".valText").text(ai.val);o.select(".valXValue").text(aq);o.select(".valYValue").text(al);o.attr("visibility","visible");if(Z.guideline.visible){H.select(".xGuidline").attr("x1",V[ap].left+V[ap].width/2).attr("x2",V[ap].left+V[ap].width/2);H.select(".yGuidline").attr("y1",V[ap].top+V[ap].height/2).attr("y2",V[ap].top+V[ap].height/2);H.attr("visibility","visible")}}};var Q=function(ai){if(ai===null||ai===undefined){ai=e.get("IDS_ISNOVALUE")}return ai};var T=function(ao){var aj={body:[],footer:[]};var ai=V[ao];var am={name:Q(ad.values[0].col),val:[{color:ai.color,value:j.isNoValue(ai.val)?F:ai.val}]};aj.body.push(am);if(a.isExist(q)){for(var aq=q.values,an=aq.length,ak=an-1;ak>=0;ak--){var ap={};ap.label=aq[ak].col;ap.value=aq[ak].rows[ao%aq[ak].rows.length];aj.footer.push(ap)}}if(a.isExist(W)){var al=Math.floor(ao/q.values[0].rows.length);for(var aq=W.values,an=aq.length,ak=an-1;ak>=0;ak--){var ap={};ap.label=aq[ak].col;ap.value=aq[ak].rows[al%aq[ak].rows.length];aj.footer.push(ap)}}return aj};var z=function(){o.attr("visibility","hidden");H.attr("visibility","hidden")};var U=function(ak){if(!j.isNoValue(ak.datum().val)){s.attr("visibility","visible");var am=ak.datum().left;var aj=ak.datum().left+ak.datum().width-S;var al=ak.datum().top;var ai=ak.datum().top+ak.datum().height-S;s.select(".HLLeft").attr("x1",am).attr("y1",al).attr("x2",am).attr("y2",ai);s.select(".HLRight").attr("x1",aj).attr("y1",al).attr("x2",aj).attr("y2",ai);s.select(".HLTop").attr("x1",am).attr("y1",al).attr("x2",aj).attr("y2",al);s.select(".HLBottom").attr("x1",am).attr("y1",ai).attr("x2",aj).attr("y2",ai)}};var u=function(ai){s.attr("visibility","hidden")};ae.mouseover=function(al){var aq=d3.select(d3.event.target);var am=aq.attr("id");if(am&&Z.tooltip.enabled){var ap=am.toString().length-I.toString().length-2;var ao=am.toString().substr(2,ap);var ak=P.node().getTransformToElement(P.node().ownerSVGElement);var aj=P.node().ownerSVGElement.getBoundingClientRect();var an=al.getBoundingClientRect();var ai=T(ao);ai.point={x:an.left-aj.left+an.width/2,y:(an.height>16)?an.top-aj.top+8:an.top-aj.top+an.height/2};ai.plotArea={x:ak.e,y:ak.f,width:A,height:X};aa.showTooltip(b.formatTooltipData(ai));U(aq)}};ae.afterUIComponentAppear=function(){aa.initialized()};ae.mouseout=function(){if(Z.tooltip.enabled){aa.hideTooltip()}if(d3.event){var ai=d3.select(d3.event.target);u(ai)}};ae.parent=function(){return P};ae.highlight=function(aj){if(aj instanceof Array){for(var ak=0,ai=aj.length;ak<ai;ak++){aj[ak].setAttribute("opacity",1)}}else{aj.setAttribute("opacity",1)}};ae.unhighlight=function(aj){if(aj instanceof Array){for(var ak=0,ai=aj.length;ak<ai;ak++){aj[ak].setAttribute("opacity",0.4)}}else{aj.setAttribute("opacity",0.4)}};ae.clear=function(ai){if(ai==null){P.selectAll(".v-datapoint").attr("opacity",1)}else{P.selectAll(".v-datapoint").attr("opacity",0.4)}};ae.width=function(ai){if(!arguments.length){return A}A=ai;D();return ae};ae.height=function(ai){if(!arguments.length){return X}X=ai;ac();return ae};ae.data=function(ai){if(!arguments.length){return t}t=ai;x=true;q=t.getAnalysisAxisDataByIdx(0);W=t.getAnalysisAxisDataByIdx(1);ad=t.getMeasureValuesGroupDataByIdx(0);return ae};ae.properties=function(ai){if(!arguments.length){return G}g.extend(true,Z,ai);g.extend(true,G,ai);x=true;return ae};ae.getDatapointsByRange=function(ao){var an=d3.selectAll(".v-datapoint")[0],am=[],aj=ao.ctx.ranges,al;for(var ak=0,ai=an.length;ak<ai;ak++){al=an[ak].__data__.val;if(j.isNoValue(ao.val)){if(j.isNoValue(al)){am.push(an[ak])}}else{if(al<aj.endValue&&al>aj.startValue){am.push(an[ak])}else{if(!aj.isLeftOpen&&al===aj.startValue){am.push(an[ak])}else{if(!aj.isRightOpen&&al===aj.endValue){am.push(an[ak])}}}}}return am};ae.mbcLegendInfo=function(){var ai=ab();return{colorScale:ai,title:ad.values[0].col}};ae.getPreferredSize=function(){};ae.categoryScaleX=function(){return p};ae.isDrawXaxisBody=function(){var ai=false;if(!W){ai=true}return(!ai)};ae.categoryScaleY=function(){return O};ae.dataLabel=function(ai){};var ab=function(){var av=d3.scale.ordinal();var aA=[];var aj=false;if(!W){aj=true}if(aj){var ao=ad.values[0].rows[0];for(var ax=0;ax<ao.length;ax++){aA.push(ao[ax])}}else{var ai=q.values[0].rows;var ak=W.values[0].rows;var ao=ad.values[0].rows;var at=ai.length;var au=ak.length;for(var ax=0;ax<au;ax++){for(var aw=0;aw<at;aw++){aA.push(ao[ax][aw])}}}var an=-Number.MAX_VALUE;var az=Number.MAX_VALUE;for(var aq=0;aq<aA.length;aq++){if(!j.isNoValue(aA[aq].val)){if(an<aA[aq].val){an=aA[aq].val}if(az>aA[aq].val){az=aA[aq].val}}}var am=false;for(var ax=0;ax<aA.length;ax++){if(j.isNoValue(aA[ax].val)){am=true}}var ap=Z.colornumber;var ay;if(az===Number.MAX_VALUE&&an===-Number.MAX_VALUE){ay=d3.scale.ordinal().domain([[]]).range([Z.emptycolor])}else{var ay=k.getScale(az,an,ap,Z.startColor,Z.endColor);if(am){var ar=ay.domain();var al=ay.range();ar.push([]);al.push(Z.emptycolor)}}return ay};var D=function(){var aj=false;if(!W){aj=true}var al=q.values[0].rows;var ak=[];for(var ai=0;ai<al.length;ai++){ak.push(ai)}p=p.domain(ak).rangeBands([0,A])};var ac=function(){var ak=false;if(!W){ak=true}if(ak){O=O.domain([0,0]).rangeBands([0,0])}else{var ai=W.values[0].rows;var al=[];for(var aj=0;aj<ai.length;aj++){al.push(aj)}O=O.domain(al).rangeBands([X,0])}};ae.dispatch=function(ai){if(!arguments.length){return aa}aa=ai;return ae};var J=function(aj,ai){for(var ak in ai){if(typeof(ai[ak])==="object"){if(aj[ak]){aj[ak]=J(aj[ak],ai[ak])}else{aj[ak]=ai[ak]}}else{aj[ak]=ai[ak]}}return aj};return ae};return l});sap.riv.module({qname:"sap.viz.modules.manifests.HeatMap",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.heatmap",version:"4.0.1"},{qname:"sap.viz.feeds.HeatMap",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.heatmap",type:b.Module.Type.Chart,name:"heatmap",properties:{border:{name:"border",description:"Settings for border.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of zone edge."},},},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation of plot area."},startColor:{name:"startColor",supportedValueType:"String",defaultValue:"#C2E3A9",description:"Set heatMap startColor."},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"#73C03C",description:"Set heatMap endColor."},tooltip:{name:"tooltip",description:"Settings for tooltip.",supportedValueType:"Object",supportedValues:{visible:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."},},isExported:false}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"heatMap"},css:{},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.HeatMapChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.HeatMap",version:"4.0.1"}],function Setup(b){var a={id:"viz/heatmap",name:"IDS_HEATMAPCHART",base:"riv/base/single",modules:{root:{modules:{legend:{id:"sap.viz.modules.legend",configure:{description:"The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ",properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"heatmap",orientation:"bottom"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:false}}},xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the x axis of a normal heatmap.",propertyCategory:"xAxis",properties:{type:"category",position:"bottom",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[2]},configure:{description:"Settings for the y axis of a normal heatmap.",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},plot:{id:"sap.viz.modules.heatmap",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScaleX"},{targetModule:"root.main.xAxis",target:"isDrawBody",sourceModule:"root.main.plot",source:"isDrawXaxisBody"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScaleY"},{targetModule:"root.legend",target:"mbcLegendInfo",sourceModule:"root.main.plot",source:"mbcLegendInfo"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.TagCloud",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(c,b){var a={id:"tagCloud",feeds:[{id:"tagName",name:"IDS_TAGNAME",type:b.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1,maxStackedDims:1},{id:"tagWeight",name:"IDS_TAGWEIGHT",type:b.Type.Measure,min:1,max:1,mgIndex:1},{id:"tagFamily",name:"IDS_TAGFAMILY",type:b.Type.Measure,min:0,max:1,mgIndex:2}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.tagcloud.wordleLayout",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"}],function Setup(b,c){var a=function(){var d=300,l=300,h=[],f="";var k="Mixed";var j=function(){};j.textDirection=function(n){if(!arguments.length){return k}k=n;return j};j.width=function(n){if(!arguments.length){return d}d=n;return j};j.height=function(n){if(!arguments.length){return l}l=n;return j};j.data=function(n){if(!arguments.length){return h}n.sort(function(p,o){if(p.wordSize&&o.wordSize){return o.wordSize.val-p.wordSize.val}});h=n;return j};j.font=function(n){if(!arguments.length){return f}f=n;return j};j.layout=function(){var o=false,n=0;while(!o){o=m(++n)}return j};var m=function(q){var z=h,n,v,x;for(var s=0,t=z.length;s<t;s++){v=z[s];if(c.isNoValue(v.fontSize)){continue}n=b.fastMeasure(z[s].word.val+"i",z[s].fontSize+"px","normal",f);v.width=n.width;v.height=n.height;v.x=undefined;v.y=undefined;v.rect=new i(v.width,v.height);var w;if(!x){var r;switch(k){case"Mixed":if(v.width<=d&&v.height<=l){r=false}else{if(v.height<=d&&v.width<=l){r=true}}break;case"Vertical":r=true;break;case"Horizontal":r=false;break}if(r!==null){x=v;if(r){v.rect.rotate()}v.rect.position(d/2,l/2);w=true}}else{var u=[];u.push(x);while(u.length!==0){var A=u.shift();if(A.child){A.child.forEach(function(B){if(B){u.push(B)}})}w=e(v,A,x);if(w){break}}}if(w){v.x=v.rect.x;v.y=v.rect.y;var o=-n.y-(n.height/2),p=v.rect.rotated;if(p){v.x-=o;v.rotate=90}else{v.y+=o;v.rotate=0}}}z.forEach(function(B){delete B.child;delete B.rect});return true};function e(v,u,s){var r=v.rect;var n=u.child;if(!n){n=[];u.child=n}var t,q;var p,o;switch(k){case"Mixed":for(o=0;o<2;o++){if(o===1){r.rotate()}for(p=0;p<4;p++){if(n[p]){continue}switch(p){case 0:t=u.x;q=u.rect.y0-r.h/2;break;case 1:q=u.y;t=u.rect.x1+r.w/2;break;case 2:t=u.x;q=u.rect.y1+r.h/2;break;case 3:q=u.y;t=u.rect.x0-r.w/2;break}r.position(t,q);if(r.x0>=0&&r.y0>=0&&r.x1<=d&&r.y1<=l){if(g(r,u,s)){n[p]=v;return true}}}}break;case"Vertical":r.rotate();for(p=0;p<4;p++){if(n[p]){continue}switch(p){case 0:t=u.x;q=u.rect.y0-r.h/2;break;case 1:q=u.y;t=u.rect.x1+r.w/2;break;case 2:t=u.x;q=u.rect.y1+r.h/2;break;case 3:q=u.y;t=u.rect.x0-r.w/2;break}r.position(t,q);if(r.x0>=0&&r.y0>=0&&r.x1<=d&&r.y1<=l){if(g(r,u,s)){n[p]=v;return true}}}break;case"Horizontal":for(p=0;p<4;p++){if(n[p]){continue}switch(p){case 0:t=u.x;q=u.rect.y0-r.h/2;break;case 1:q=u.y;t=u.rect.x1+r.w/2;break;case 2:t=u.x;q=u.rect.y1+r.h/2;break;case 3:q=u.y;t=u.rect.x0-r.w/2;break}r.position(t,q);if(r.x0>=0&&r.y0>=0&&r.x1<=d&&r.y1<=l){if(g(r,u,s)){n[p]=v;return true}}}break}if(k==="Mixed"||k==="Vertical"){r.rotate()}return false}function g(r,q,o){if(o!==q){if(!r.notInterects(o.rect)){return false}}for(var p=0,s=o.child,n=s?s.length:0;p<n;p++){if(s[p]&&!g(r,q,s[p])){return false}}return true}function i(n,o){this.w=n;this.h=o;this.rotated=false}i.prototype={position:function(n,q){this.x=n;this.y=q;var p=this.w/2,o=this.h/2;this.x0=n-p;this.x1=n+p;this.y0=q-o;this.y1=q+o},notInterects:function(n){return this.x1<=n.x0||this.x0>=n.x1||this.y1<=n.y0||this.y0>=n.y1},rotate:function(){this.rotated=!this.rotated;var n=this.h;this.h=this.w;this.w=n}};return j};return a});sap.riv.module({qname:"sap.viz.modules.tagcloud.columnLayout",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"}],function Setup(b,c){var a=function(){var h=300,d=300,i=[],e="";var f="Mixed";var g=function(){};g.textDirection=function(k){if(!arguments.length){return f}f=k;return g};g.width=function(k){if(!arguments.length){return h}h=k;return g};g.height=function(k){if(!arguments.length){return d}d=k;return g};g.data=function(k){if(!arguments.length){return i}i=k;return g};g.font=function(k){if(!arguments.length){return e}e=k;return g};g.layout=function(){j();return g};var j=function(){var r=i;var q,k;for(var m=0,p=r.length;m<p;m++){q=r[m];k=b.fastMeasure(r[m].word.val+"i",r[m].fontSize+"px","normal",e);q.width=k.width;q.height=k.height}var o=0,n=0;for(var l=0,s=r.length;l<s;l++){q=r[l];if(c.isNoValue(r[l].fontSize)){continue}n=n+q.height;q.x=o;q.y=n;q.rotate=undefined}};return g};return a});sap.riv.module({qname:"sap.viz.modules.tagcloud.rowLayout",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"}],function Setup(b,c){var a=function(){var h=300,d=300,i=[],e="";var g="Mixed";var j=function(){};j.textDirection=function(l){if(!arguments.length){return g}g=l;return j};j.width=function(l){if(!arguments.length){return h}h=l;return j};j.height=function(l){if(!arguments.length){return d}d=l;return j};j.data=function(l){if(!arguments.length){return i}i=l;return j};j.font=function(l){if(!arguments.length){return e}e=l;return j};j.layout=function(){k();return j};var k=function(){var s=i;var r,l,m,q;for(m=0,q=s.length;m<q;m++){r=s[m];l=b.fastMeasure(s[m].word.val+"i",s[m].fontSize+"px","normal",e);r.width=l.width;r.height=l.height}var o=0;var p=s[0].height,n=0,t=0;for(m=0,q=s.length;m<q;m++){r=s[m];if(c.isNoValue(s[m].fontSize)){continue}if(o+r.width>h){o=0;f(t,m,n+p);t=m;n=n+p;p=s[m].height}if(r.height>p){p=r.height}r.x=o;r.y=n;o=o+r.width;r.rotate=undefined}f(t,m,n+p)};var f=function(p,o,l){var n;for(var m=p;m<o;m++){n=i[m];n.y=l}};return j};return a});sap.riv.module({qname:"sap.viz.modules.tagcloud",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.tagcloud.rowLayout",version:"4.0.1"},{qname:"sap.viz.modules.tagcloud.columnLayout",version:"4.0.1"},{qname:"sap.viz.modules.tagcloud.wordleLayout",version:"4.0.1"},{qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,h,e,g,m,n,c,l,j,d,b,i,k){var f=function(B,K){var af="v-hoverline";var o=400,p=200,X=null,M={},T=[],I=48,C=12,D,t=[],J=K.effectManager;var P=d.guid();var H=Number.MAX_VALUE,L=Number.MIN_VALUE,v=false,G=true;var q={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",color:"#555555"};var Y={};var ab=1,Q=g.get("IDS_ISNOVALUE");var N,x,W;N=B.props(null);W=N.layout.textDirection;x=N.layout.mode;var F=new h("initialized","showTooltip","hideTooltip");var u=null;var ac=false,A=true,ae=false,w=false;function E(){var ag=false;if(A){ag=N.animation.dataLoading}else{if(w){ag=N.animation.dataUpdating}else{if(ae){ag=N.animation.resizing}}}return ag}var ad=function(ag){ag.each(function(){k.drawBound(ag,o,p);O();if(u===null){u=ag.append("rect").attr("fill",Y.hoverline.fill).attr("class",af).style("visibility","hidden")}else{u.attr("width",0).attr("height",0).attr("x",0).attr("y",0).style("visibility","hidden")}var ai=aa();X=d3.select(this);if(w&&!X.selectAll("g.v-word").empty()){X.selectAll("g.v-word").remove()}X.attr("style","cursor:default");var ah=X.selectAll("g.v-word").data(ai,function(al,ak){return(al.word?al.word.val:"")+" "+(al.wordFontFamily?al.wordFontFamily.val:"")+" "+(al.wordSize?al.wordSize.val:"")});ah.selectAll("text").data(function(al,ak){return al}).text(function(al,ak){return al.word.val});var aj=ah.enter().append("g").attr("class","v-word").append("text").text(function(al,ak){return al.word.val}).attr("id",function(al,ak){return"TAG_ID_"+ak+P}).attr("class","v-datapoint").attr("visibility",function(am,al){var ak="visible";if(j.isNoValue(am.fontSize)||am.x===undefined||am.y===undefined){ak="hidden"}return ak}).attr("font-size",function(al,ak){return al.fontSize}).attr("font-family",q.fontfamily);ah.exit().attr("transform","translate(-1000, -1000)");ah.selectAll(".v-datapoint").attr("fill",function(ap,an){var al;if(D&&ap.wordFontFamily!==null&&ap.wordFontFamily.val!==null){var am,ak,ao=D.domain();for(am=0,ak=ao.length-1;am<ak;am++){if(ap.wordFontFamily.val!==null&&(ao[am][1]>ap.wordFontFamily.val)){break}}al=D(ao[am])}else{al=q.color}var aq={fillColor:al,drawingEffect:"normal"};return J.register(aq)}).attr("text-anchor",function(){if(x==="Wordle"){return"middle"}else{return"start"}});ah.selectAll("text").attr("fill-opacity",ab);if(E()){ah.transition().attr("transform",function(am,ak){var al="";if(am.x!==undefined&&am.y!==undefined&&am.y<p&&am.x<o){al="translate("+[am.x,am.y]+")"}else{al="translate(-1000, -1000)"}if(am.rotate){al=al+" rotate("+am.rotate+")"}return al}).duration(800).delay(100).each("end",function(am,ak){var al="";if(am.x!==undefined&&am.y!==undefined&&am.y<p&&am.x<o){al="translate("+[am.x,am.y]+")"}else{al="translate(-1000, -1000)"}if(am.rotate){al=al+" rotate("+am.rotate+")"}this.setAttribute("transform",al);if(ak===ai.length-1){F.initialized()}})}else{ah.attr("transform",function(am,ak){var al="";if(am.x!==undefined&&am.y!==undefined){al="translate("+[am.x,am.y]+")"}else{al="translate(-1000, -1000)"}if(am.rotate){al=al+" rotate("+am.rotate+")"}return al});F.initialized()}ac=false,A=false,ae=false,w=false})};ad.width=function(ag){if(!arguments.length){return o}ae=(!ae&&(ag===o))?false:true;o=ag;return ad};ad.height=function(ag){if(!arguments.length){return p}ae=(!ae&&(ag===p))?false:true;p=ag;return ad};ad.data=function(ai){if(!arguments.length){return M}var aj={};aj.words=ai.getAnalysisAxisDataByIdx(0).values[0];var ah=ai.getMeasureValuesGroupDataByIdx(0);if(ah&&ai.getMeasureValuesGroupDataByIdx(0).values.length>0){aj.wordsSize=ai.getMeasureValuesGroupDataByIdx(0).values[0]}else{aj.wordsSize=undefined}var ag=ai.getMeasureValuesGroupDataByIdx(1);if(ag&&ag.values.length>0){aj.wordsFontFamily=ai.getMeasureValuesGroupDataByIdx(1).values[0]}else{aj.wordsFontFamily=undefined;D=undefined}Z(aj);w=true;ac=r(aj);M=aj;return ad};ad.properties=function(ag){if(!arguments.length){return N}i.extend(true,N,ag);s();return ad};ad.dispatch=function(ag){if(!arguments.length){return F}F=ag;return ad};ad.mbcLegendInfo=function(){var ag=M.wordsFontFamily?M.wordsFontFamily.col:"";return{colorScale:D,title:ag}};ad.parent=function(){return X};ad.highlight=function(ah){if(ah instanceof Array){for(var ai=0,ag=ah.length;ai<ag;ai++){ah[ai].setAttribute("fill-opacity",1)}}else{ah.setAttribute("fill-opacity",1)}};ad.unhighlight=function(ah){if(ah instanceof Array){for(var ai=0,ag=ah.length;ai<ag;ai++){ah[ai].setAttribute("fill-opacity",0.4)}}else{ah.setAttribute("fill-opacity",0.4)}};ad.clear=function(ag){if(ag===undefined){X.selectAll(".v-datapoint").attr("fill-opacity",1);ab=1}else{X.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};ad.mouseover=function(ah){var al=d3.select(d3.event.target);var aj=al.attr("id");if(aj&&G){var am=V(al.datum());var ai=X.node().getTransformToElement(X.node().ownerSVGElement);var ak=X.node().ownerSVGElement.getBoundingClientRect();var an=al.node().getBoundingClientRect(),ag=X.node().getBoundingClientRect();u.attr("width",an.width).attr("height",an.height).attr("x",an.left-ag.left).attr("y",an.top-ag.top).style("visibility","visible");am.point={x:an.left-ak.left+an.width/2,y:an.top-ak.top};am.plotArea={x:ai.e,y:ai.f,width:o,height:p};F.showTooltip(b.formatTooltipData(am))}};ad.mouseout=function(){u.attr("width",0).attr("height",0).attr("x",0).attr("y",0).style("visibility","hidden");if(G){F.hideTooltip()}};ad.getDatapointsByRange=function(am){var al=d3.selectAll(".v-datapoint")[0],ak=[],ah=am.ctx.ranges,aj;for(var ai=0,ag=al.length;ai<ag;ai++){aj=al[ai].__data__.wordFontFamily.val;if(j.isNoValue(am.val)){if(j.isNoValue(aj)){ak.push(al[ai])}}else{if(aj<ah.endValue&&aj>ah.startValue){ak.push(al[ai])}else{if(!ah.isLeftOpen&&aj===ah.startValue){ak.push(al[ai])}else{if(!ah.isRightOpen&&aj===ah.endValue){ak.push(al[ai])}}}}}return ak};var r=function(ak){var al=M,aj=false;if(al.words&&ak.words){if(al.words.rows.length!==ak.words.rows.length){aj=true}else{if((al.wordsFontFamily&&!ak.wordsFontFamily)||(!al.wordsFontFamily&&ak.wordsFontFamily)){aj=true}else{var ai=al.words.rows,am=ak.words.rows;for(var ah=0,ag=ai.length;ah<ag;ah++){if(ai[ah].val!==am[ah].val){aj=true;break}}}}}return aj};var s=function(){if(N.layout instanceof Object){x=N.layout.mode}else{x=N.layout}if(x!=="Row"&&x!=="Column"&&x!=="Wordle"){x="Wordle"}W=N.layout.textDirection;if(W!=="Mixed"&&W!=="Vertical"&&W!=="Horizontal"){W="Mixed"}G=N.tooltip.enabled;if(D){R(H,L,v)}};var aa=function(){var ah=[],aj;for(var ai=0,ag=T.length;ai<ag;ai++){aj=T[ai];if(!(j.isNoValue(aj.fontSize)||aj.x===undefined||aj.y===undefined||aj.y>p||aj.x>o)){ah.push(aj)}}return ah};var V=function(ah){var ag={body:[],footer:[]};if(M.wordsSize){ag.body.push({name:M.wordsSize.col,val:[{value:U(ah.wordSize.val)}]})}if(M.wordsFontFamily){ag.body.push({name:M.wordsFontFamily.col,val:[{value:U(ah.wordFontFamily.val)}]})}if(M.words){ag.footer.push({label:M.words.col,value:ah.word.val})}return ag};var Z=function(am){T=[];var ak,aj,ai,al;H=undefined,L=undefined,v=false;for(var ah=0,ag=am.words.rows.length;ah<ag;ah++){if(am.words&&am.words.rows[ah].val&&am.wordsSize&&am.wordsSize.rows[0][ah]&&!j.isNoValue(am.wordsSize.rows[0][ah].val)){al={};al.word=am.words.rows[ah];al.wordSize=(am.wordsSize?am.wordsSize.rows[0][ah]:undefined);al.wordFontFamily=(am.wordsFontFamily?am.wordsFontFamily.rows[0][ah]:undefined);al.val=[am.words.rows[ah].val];al.ctx=[am.words.rows[ah].ctx];if(al.wordSize){al.val.push(am.wordsSize.rows[0][ah].val);al.ctx.push(am.wordsSize.rows[0][ah].ctx);if(al.wordSize.val!==null){if(ak===undefined||al.wordSize.val<ak){ak=al.wordSize.val}if(aj===undefined||al.wordSize.val>aj){aj=al.wordSize.val}}}if(al.wordFontFamily){al.val.push(al.wordFontFamily.val);al.ctx.push(al.wordFontFamily.ctx);ai=al.wordFontFamily.val;if(ai===null){v=true}else{if(H===undefined||ai<H){H=al.wordFontFamily.val}if(L===undefined||ai>L){L=al.wordFontFamily.val}}}T.push(al)}}S(ak,aj);if(am.wordsFontFamily){R(H,L,v)}else{D=undefined}};var S=function(am,aj){var an=T.length;var ak,ai,ah;if(am===0){am=1;aj+=1}if(an>1){ai=(I-(C*(aj/am)))/(1-(aj/am));ak=(C-ai)/am}else{ai=0;ak=I/(am<0?-am:am)}for(var al=0,ag=T.length;al<ag;al++){if(T[al].wordSize&&am!==aj){ah=Math.round(ak*T[al].wordSize.val+ai)}else{ah=C}T[al].fontSize=(T[al].wordSize.val===null)?null:ah}};var R=function(ah,ak,aj){if(ah===undefined&&ak===undefined){D=d3.scale.ordinal().domain([[]]).range([q.color])}else{D=l.getScale(ah,ak,5,N.startColor,N.endColor);if(aj){var ag=D.domain();var ai=D.range();ag.push([]);ai.push(q.color)}}};var O=function(){var ah;if(x==="Column"){ah=n()}else{if(x==="Row"){ah=m()}else{if(x==="Wordle"){ah=c()}}}if(ah!==undefined){var ai=(new Date()).valueOf();ah.width(o).height(p).data(T).font(q.fontfamily).textDirection(W).layout();var ag=(new Date()).valueOf()}};var U=function(ag){return(ag===null||ag===undefined)?Q:ag};function z(){Y.hoverline=K.styleManager.queryDefault(af)}z();return ad};return f});sap.riv.module({qname:"sap.viz.modules.manifests.TagCloud",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.tagcloud",version:"4.0.1"},{qname:"sap.viz.feeds.TagCloud",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.tagcloud",type:b.Module.Type.Chart,name:"tagcloud",properties:{layout:{name:"layout",supportedValueType:"Object",supportedValues:{mode:{name:"mode",supportedValueType:"List",supportedValues:["Row","Column","Wordle"],defaultValue:"Wordle",description:"Set layout mode of tag cloud."},textDirection:{name:"textDirection",supportedValueType:"List",supportedValues:["Mixed","Vertical","Horizontal"],defaultValue:"Mixed",description:"Set text direction of tagcloud. Only taking effect when layout mode is set to 'Wordle'."}},description:"Settings for layout options of tagcloud."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation of plot area."},startColor:{name:"startColor",supportedValueType:"String",defaultValue:"#C2E3A9",description:"Set tagCloud start color."},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"#73C03C",description:"Set tagCloud endcolor."},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"tagCloud"},css:{".v-hoverline":{description:"Define style for hover line color.",value:{fill:"#cccccc",}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.TagCloudChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TagCloud",version:"4.0.1"}],function Setup(b){var a={id:"viz/tagcloud",name:"IDS_TAGCLOUDCHART",base:"riv/base/single",modules:{root:{modules:{legend:{feeds:[],configure:{description:"The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ",properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"tagcloud",orientation:"bottom"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}},main:{modules:{dataLabel:null,plot:{id:"sap.viz.modules.tagcloud",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.legend",target:"mbcLegendInfo",sourceModule:"root.main.plot",source:"mbcLegendInfo"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.RadarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Radar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"}],function Setup(b){var a={id:"viz/radar",name:"IDS_RADARCHART",base:"riv/base/single",modules:{root:{modules:{legend:{id:"sap.viz.modules.legend",data:{aa:[2,3]}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"radar",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mousemove","mouseup","touchstart"]}}},main:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.radar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"outside",automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"up",positionPreference:true}}}}}}}},dependencies:{attributes:[{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapes"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.load",version:"4.0.1"},[{qname:"sap.viz.manifests.RadarChart",version:"4.0.1"},{qname:"sap.viz.manifests.TagCloudChart",version:"4.0.1"},{qname:"sap.viz.manifests.HeatMapChart",version:"4.0.1"},{qname:"sap.viz.manifests.TreeMapChart",version:"4.0.1"},{qname:"sap.viz.manifests.scatter.BubbleChart",version:"4.0.1"},{qname:"sap.viz.manifests.scatter.ScatterChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiScatterChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiBubbleChart",version:"4.0.1"},{qname:"sap.viz.manifests.ScatterMatrixChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiHorizontalLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualHorizontalLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.pie.DonutChart",version:"4.0.1"},{qname:"sap.viz.manifests.pie.DonutWithDepthChart",version:"4.0.1"},{qname:"sap.viz.manifests.pie.PieChart",version:"4.0.1"},{qname:"sap.viz.manifests.pie.PieWithDepthChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiPieChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDonutChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.PercentageStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.PercentageStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualPercentageStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualPercentageStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.ImageBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalWaterfallChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.WaterfallChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedWaterfallChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalStackedWaterfallChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualHorizontalLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.LineChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.CombinationChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualCombinationChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalCombinationChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualHorizontalCombinationChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.VerticalBoxplotChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalBoxplotChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.MekkoChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.PercentageMekkoChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalMekkoChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.PercentageHorizontalMekkoChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.AreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.PercentageAreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalAreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.PercentageHorizontalAreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.xyz.Column3DChart",version:"4.0.1"},{qname:"sap.viz.manifests.xyz.Bar3DChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiRadarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiPercentageStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiPercentageStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualPercentageStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualPercentageStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiAreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiPercentageAreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiHorizontalAreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiPercentageHorizontalAreaChart",version:"4.0.1"}],function Setup(){return});sap.riv.module({qname:"sap.viz.base.Logger",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(a){var e=a.noop;Date.now=Date.now||function(){return +new Date()};var q=0;function w(M){var F,D,I,L,H;if(j[0].length>0){if(M){H=M.getLevel();for(var G=0,E=j[0].length;G<E;G++){F=j[0][G];D=j[1][G];I=j[2][G];L=j[3][G];if(j[1][G]>=H){M.doAppend(F,D,I,L)}}return}var J={};for(var K in s){if(s.hasOwnProperty(K)){J[K]=s[K].getLevel()}}while(j[0].length){F=j[0].shift();D=j[1].shift();I=j[2].shift();L=j[3].shift();for(K in s){if(s.hasOwnProperty(K)){M=s[K];if(D>=J[K]){M.doAppend(F,D,I,L)}}}}return}else{if(++q===3){g()}}}function f(){w();if(!z){setTimeout(function(){f()},100)}}var i=function(){this.threshold=A.LEVEL.INFO;this.layout=new A.DefaultLayout();this.print=typeof console!==undefined?function(D){console.log(D)}:e};i.prototype={doAppend:function(G,D,F,E){this.print(this.layout.format(G,D,F,E))},setLayout:function(D){D.format&&(this.layout=D)},getLevel:function(){return this.threshold},setLevel:function(D){this.threshold=D}};var v=function(){};v.prototype.format=function(G,D,F,E){return"["+G+"]["+u(D)+"]["+(F||"main")+"]-"+E};var b=function(D){this.threshold=A.LEVEL.INFO;this.div=D;this.layout=new t()};b.prototype={getLevel:function(){return this.threshold},setLevel:function(D){this.threshold=D},doAppend:function(G,D,F,E){this.div.appendChild(this.layout.format(G,D,F,E))}};var t=function(){};t.prototype={getStyle:function(D){var E;if(D===A.LEVEL.ERROR){E="color:red"}else{if(D===A.LEVEL.WARN){E="color:orange"}else{if(D===A.LEVEL.DEBUG){E="color:green"}else{if(D===A.LEVEL.TRACE){E="color:green"}else{if(D===A.LEVEL.INFO){E="color:grey"}else{E="color:yellow"}}}}}return E},format:function(G,D,F,E){return'<div style="'+this.getStyle(D)+'">['+G+"]["+u(D)+"]["+(F||"main")+"]-"+E+"</div>"}};var m=function(){this.array=[]};m.prototype={push:function(D){this.array[this.array.length]=D;return this.array.length},pull:function(){if(this.array.length>0){var E=this.array[0];for(var D=0;D<this.array.length-1;D++){this.array[D]=this.array[D+1]}this.array.length=this.array.length-1;return E}return null},length:function(){return this.array.length}};var c=function(D){this.loggingUrl=D;this.isInProgress=false;this.threshold=A.LEVEL.INFO;this.bufferSize=20;this.timeout=2000;this.loggingEventMap=[];this.layout=new A.JSONLayout();this.httpRequest=null;this.timer=undefined};function p(){var D=this;if(this.isInProgress===true){setTimeout(function(){p.call(D)},100)}else{this.send()}}c.prototype={getLevel:function(){return this.threshold},setLevel:function(D){this.threshold=D},doAppend:function(H,D,G,F){this.loggingEventMap.push([H,D,G,F]);if(this.loggingEventMap.length<=this.bufferSize||this.isInProgress===true){var E=this;if(this.timer===undefined){this.timer=setTimeout(function(){p.call(E)},100)}}if(this.loggingEventMap.length>=this.bufferSize&&this.isInProgress===false){if(this.timer!==undefined){clearTimeout(this.timer)}this.send()}},send:function(){if(this.loggingEventMap.length>0){this.isInProgress=true;var E=[];var J;for(var F=0,H=this.loggingEventMap.length;F<H&&F<this.bufferSize;F++){J=this.loggingEventMap.shift();E.push(this.layout.format(J[0],J[1],J[2],J[3]))}var G=this.layout.getHeader();G+=E.join(this.layout.getSeparator());G+=this.layout.getFooter();var D=this;if(this.httpRequest===null){this.httpRequest=this.getXmlHttpRequest()}this.httpRequest.onreadystatechange=function(){D.onReadyStateChanged.call(D)};this.httpRequest.open("POST",this.loggingUrl,true);this.httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.httpRequest.setRequestHeader("Content-length",G.length);this.httpRequest.send(G);D=this;try{setTimeout(function(){D.httpRequest.onreadystatechange=function(){};D.httpRequest.abort();D.isInProgress=false;if(D.loggingEventMap.length>0){D.send()}},this.timeout)}catch(I){}}},onReadyStateChanged:function(){var D=this.httpRequest;if(this.httpRequest.readyState!==4){return}var E=((typeof D.status==="undefined")||D.status===0||(D.status>=200&&D.status<300));if(E){this.isInProgress=false}else{}},getXmlHttpRequest:function(){var D=false;try{if(window.XMLHttpRequest){D=new XMLHttpRequest();if(D.overrideMimeType){D.overrideMimeType(this.layout.getContentType())}}else{if(window.ActiveXObject){try{D=new ActiveXObject("Msxml2.XMLHTTP")}catch(E){D=new ActiveXObject("Microsoft.XMLHTTP")}}}}catch(E){D=false}if(!D){throw"browser don't support AJAX"}return D}};var B=function(){};B.prototype={format:function(H,D,G,E){var F='{\n "LoggingEvent": {\n';F+='\t"category": "'+(G||"main")+'",\n';F+='\t"level": "'+u(D)+'",\n';F+='\t"message": "'+E+'",\n';F+='\t"timestamp": "'+H+'"\n';F+="}\n}";return F},getContentType:function(){return"text/json"},getHeader:function(){var D="unknown";try{D=navigator.userAgent}catch(E){D="unknown"}var F="unknown";try{F=location.href}catch(E){F="unknown"}return'{"ClientInfo" : {\n\t"useragent": "'+D+'",\n\t"referer": "'+F+'"\n},\n"VizLogger": [\n'},getFooter:function(){return"\n]}"},getSeparator:function(){return",\n"}};var r=function(){};r.prototype={format:function(H,D,F,E){var G='<vizLogger:event category="';G+=(F||"main")+'" level="';G+=u(D)+'" timestamp="';G+=H+'">\n';G+="\t<vizLogger:message><![CDATA["+this.escapeCdata(E)+"]]></vizLogger:message>\n";G+="</vizLogger:event>";return G},getContentType:function(){return"text/xml"},getHeader:function(){var D="unknown";try{D=navigator.userAgent}catch(E){D="unknown"}var F="unknown";try{F=location.href}catch(E){F="unknown"}return'<vizLogger:eventSet useragent="'+D+'" referer="'+F.replace(/&/g,"&amp;")+'">\n'},getFooter:function(){return"</vizLogger:eventSet>\n"},getSeparator:function(){return"\n"},escapeCdata:function(D){return D.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")}};function u(D){switch(D){case A.LEVEL.TRACE:return"TRACE";case A.LEVEL.DEBUG:return"DEBUG";case A.LEVEL.INFO:return"INFO";case A.LEVEL.WARN:return"WARN";case A.LEVEL.ERROR:return"ERROR"}}var k=false;var z=false;var j=[[],[],[],[]];var C=2000;var x=function(F,E,D){if(j[0].length===C){w()}j[0].push(Date.now());j[1].push(F);j[2].push(E);j[3].push(D.toString())};var o=function(F,E,D){d();x(F,E,D)};var h=e;var g=function(){z=true;h=o};var d=function(){z=false;h=x;setTimeout(function(){f()},100)};var n=0;var l=function(){return n++};var s={};var A={LEVEL:{TRACE:5000,DEBUG:10000,INFO:20000,WARN:30000,ERROR:40000,NO:Number.MAX_VALUE},isEnabled:function(){return k},enable:function(){h=x;k=true;setTimeout(function(){f()},100)},disable:function(){w();h=e;k=false},toggleEnable:function(){if(k){this.disable()}else{this.enable()}},addAppender:function(){var F=l();var E,D;if(arguments.length===1){E=F;D=arguments[0]}else{if(arguments.length>=2){E=arguments[0];D=arguments[1]}}if(typeof D==="object"&&D.doAppend){if(s[E]!==undefined){return}w();s[E]=D;return E}},setAppenders:function(G){s=[];for(var F=0,E=G.length;F<E;F++){var D=G[F];if(D.appenderKey){this.addAppender(D.appenderKey,D.appender)}else{this.addAppender(D.appender)}}},removeAppender:function(D){if(s[D]===undefined){return false}w(s[D]);return(delete s[D])},getAppender:function(D){return s[D]},ConsoleAppender:i,DivAppender:b,AjaxAppender:c,DefaultLayout:v,HTMLLayout:t,XMLLayout:r,JSONLayout:B,trace:function(E,D){h(A.LEVEL.TRACE,D,E)},debug:function(E,D){h(A.LEVEL.DEBUG,D,E)},info:function(E,D){h(A.LEVEL.INFO,D,E)},warn:function(E,D){h(A.LEVEL.WARN,D,E)},error:function(E,D){h(A.LEVEL.ERROR,D,E)}};s["[default]"]=new A.ConsoleAppender();return A});sap.riv.module({qname:"sap.viz.base.utils.SVGTransformParser",version:"4.0.1"},[{qname:"sap.viz.base.Logger",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(l,k){var d=function(s,q){var o=[];for(var t=0;t<3;t++){o[t]=[];for(var r=0;r<3;r++){var u=0;for(var p=0;p<3;p++){u+=s[t][p]*q[p][r]}o[t][r]=u}}return o};var j=function(o){var q=Math.cos(o.rad);var p=Math.sin(o.rad);return[[q,-p,-o.cx*q+o.cy*p+o.cx],[p,q,-o.cx*p-o.cy*q+o.cy],[0,0,1]]};var i=false;var c="";function n(o){c+=o+"\n"}function a(r){var q=0;var o=-1;var p=0;var t=0;var s=r.offset+1;do{s--;q=0;o=-2;t=s;if(r.src.length<=t){return 33}do{switch(q){case 0:if((r.src.charCodeAt(s)>=9&&r.src.charCodeAt(s)<=10)||r.src.charCodeAt(s)==13||r.src.charCodeAt(s)==32){q=1}else{if(r.src.charCodeAt(s)==40){q=2}else{if(r.src.charCodeAt(s)==41){q=3}else{if(r.src.charCodeAt(s)==43||r.src.charCodeAt(s)==45){q=4}else{if(r.src.charCodeAt(s)==44){q=5}else{if(r.src.charCodeAt(s)==46){q=6}else{if((r.src.charCodeAt(s)>=48&&r.src.charCodeAt(s)<=57)){q=7}else{if(r.src.charCodeAt(s)==69||r.src.charCodeAt(s)==101){q=8}else{if(r.src.charCodeAt(s)==109){q=15}else{if(r.src.charCodeAt(s)==114){q=16}else{if(r.src.charCodeAt(s)==115){q=17}else{if(r.src.charCodeAt(s)==116){q=18}else{q=-1}}}}}}}}}}}}break;case 1:q=-1;o=1;p=s;break;case 2:q=-1;o=7;p=s;break;case 3:q=-1;o=8;p=s;break;case 4:q=-1;o=3;p=s;break;case 5:q=-1;o=6;p=s;break;case 6:q=-1;o=5;p=s;break;case 7:if((r.src.charCodeAt(s)>=48&&r.src.charCodeAt(s)<=57)){q=7}else{q=-1}o=2;p=s;break;case 8:q=-1;o=4;p=s;break;case 9:q=-1;o=12;p=s;break;case 10:q=-1;o=9;p=s;break;case 11:q=-1;o=10;p=s;break;case 12:q=-1;o=14;p=s;break;case 13:q=-1;o=11;p=s;break;case 14:q=-1;o=13;p=s;break;case 15:if(r.src.charCodeAt(s)==97){q=19}else{q=-1}break;case 16:if(r.src.charCodeAt(s)==111){q=37}else{q=-1}break;case 17:if(r.src.charCodeAt(s)==99){q=20}else{if(r.src.charCodeAt(s)==107){q=21}else{q=-1}}break;case 18:if(r.src.charCodeAt(s)==114){q=38}else{q=-1}break;case 19:if(r.src.charCodeAt(s)==116){q=22}else{q=-1}break;case 20:if(r.src.charCodeAt(s)==97){q=23}else{q=-1}break;case 21:if(r.src.charCodeAt(s)==101){q=24}else{q=-1}break;case 22:if(r.src.charCodeAt(s)==114){q=26}else{q=-1}break;case 23:if(r.src.charCodeAt(s)==108){q=28}else{q=-1}break;case 24:if(r.src.charCodeAt(s)==119){q=29}else{q=-1}break;case 25:if(r.src.charCodeAt(s)==110){q=30}else{q=-1}break;case 26:if(r.src.charCodeAt(s)==105){q=31}else{q=-1}break;case 27:if(r.src.charCodeAt(s)==116){q=32}else{q=-1}break;case 28:if(r.src.charCodeAt(s)==101){q=9}else{q=-1}break;case 29:if(r.src.charCodeAt(s)==88){q=10}else{if(r.src.charCodeAt(s)==89){q=11}else{q=-1}}break;case 30:if(r.src.charCodeAt(s)==115){q=33}else{q=-1}break;case 31:if(r.src.charCodeAt(s)==120){q=12}else{q=-1}break;case 32:if(r.src.charCodeAt(s)==101){q=13}else{q=-1}break;case 33:if(r.src.charCodeAt(s)==108){q=34}else{q=-1}break;case 34:if(r.src.charCodeAt(s)==97){q=35}else{q=-1}break;case 35:if(r.src.charCodeAt(s)==116){q=36}else{q=-1}break;case 36:if(r.src.charCodeAt(s)==101){q=14}else{q=-1}break;case 37:if(r.src.charCodeAt(s)==116){q=39}else{q=-1}break;case 38:if(r.src.charCodeAt(s)==97){q=25}else{q=-1}break;case 39:if(r.src.charCodeAt(s)==97){q=27}else{q=-1}break}s++}while(q>-1)}while(1>-1&&o==1);if(o>-1){r.att=r.src.substr(t,p-t);r.offset=p}else{r.att=new String();o=-1}return o}var g=new Array(new Array(0,1),new Array(16,1),new Array(16,0),new Array(15,1),new Array(15,3),new Array(17,1),new Array(17,1),new Array(17,1),new Array(17,1),new Array(17,1),new Array(17,1),new Array(19,14),new Array(26,1),new Array(26,3),new Array(20,4),new Array(27,1),new Array(27,3),new Array(21,4),new Array(28,1),new Array(28,5),new Array(22,4),new Array(23,4),new Array(24,4),new Array(25,1),new Array(25,1),new Array(25,2),new Array(25,2),new Array(18,1),new Array(18,0),new Array(29,1),new Array(30,1),new Array(30,2),new Array(30,2),new Array(31,2),new Array(31,2),new Array(31,3),new Array(32,2),new Array(32,3));var f=new Array(new Array(14,10,13,11,12,12,11,13,9,14,10,15,33,-2),new Array(33,0),new Array(33,-1),new Array(6,17,33,-3,14,-28,13,-28,12,-28,11,-28,9,-28,10,-28),new Array(33,-5,6,-5,14,-5,13,-5,12,-5,11,-5,9,-5,10,-5),new Array(33,-6,6,-6,14,-6,13,-6,12,-6,11,-6,9,-6,10,-6),new Array(33,-7,6,-7,14,-7,13,-7,12,-7,11,-7,9,-7,10,-7),new Array(33,-8,6,-8,14,-8,13,-8,12,-8,11,-8,9,-8,10,-8),new Array(33,-9,6,-9,14,-9,13,-9,12,-9,11,-9,9,-9,10,-9),new Array(33,-10,6,-10,14,-10,13,-10,12,-10,11,-10,9,-10,10,-10),new Array(7,18),new Array(7,19),new Array(7,20),new Array(7,21),new Array(7,22),new Array(7,23),new Array(14,10,13,11,12,12,11,13,9,14,10,15),new Array(14,-27,13,-27,12,-27,11,-27,9,-27,10,-27,3,-27,2,-27,5,-27),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(33,-4),new Array(6,17,3,-28,2,-28,5,-28),new Array(6,-23,3,-23,2,-23,5,-23,8,-23),new Array(6,-24,3,-24,2,-24,5,-24,8,-24),new Array(2,29,5,31),new Array(5,43,4,45,6,-29,3,-29,2,-29,8,-29),new Array(4,45,6,-30,3,-30,2,-30,5,-30,8,-30),new Array(2,47),new Array(8,48),new Array(6,17,8,-12,3,-28,2,-28,5,-28),new Array(8,50),new Array(6,17,8,-15,3,-28,2,-28,5,-28),new Array(8,52),new Array(6,17,8,-18,3,-28,2,-28,5,-28),new Array(8,54),new Array(8,55),new Array(3,28,2,29,5,31),new Array(6,-26,3,-26,2,-26,5,-26,8,-26),new Array(6,-25,3,-25,2,-25,5,-25,8,-25),new Array(2,57,6,-34,3,-34,5,-34,4,-34,8,-34),new Array(6,-32,3,-32,2,-32,5,-32,8,-32),new Array(3,58,2,59),new Array(6,-31,3,-31,2,-31,5,-31,8,-31),new Array(6,-33,3,-33,2,-33,5,-33,4,-33,8,-33),new Array(33,-14,6,-14,14,-14,13,-14,12,-14,11,-14,9,-14,10,-14),new Array(3,28,2,29,5,31),new Array(33,-17,6,-17,14,-17,13,-17,12,-17,11,-17,9,-17,10,-17),new Array(3,28,2,29,5,31),new Array(33,-20,6,-20,14,-20,13,-20,12,-20,11,-20,9,-20,10,-20),new Array(3,28,2,29,5,31),new Array(33,-21,6,-21,14,-21,13,-21,12,-21,11,-21,9,-21,10,-21),new Array(33,-22,6,-22,14,-22,13,-22,12,-22,11,-22,9,-22,10,-22),new Array(6,17,3,-28,2,-28,5,-28),new Array(6,-35,3,-35,2,-35,5,-35,4,-35,8,-35),new Array(2,64),new Array(6,-36,3,-36,2,-36,5,-36,8,-36),new Array(8,-13),new Array(8,-16),new Array(6,17,3,-28,2,-28,5,-28),new Array(3,28,2,29,5,31),new Array(6,-37,3,-37,2,-37,5,-37,8,-37),new Array(3,28,2,29,5,31),new Array(6,17,3,-28,2,-28,5,-28),new Array(8,-19),new Array(3,28,2,29,5,31),new Array(6,17,3,-28,2,-28,5,-28),new Array(3,28,2,29,5,31),new Array(6,17,3,-28,2,-28,5,-28),new Array(3,28,2,29,5,31),new Array(8,74),new Array(33,-11,6,-11,14,-11,13,-11,12,-11,11,-11,9,-11,10,-11));var b=new Array(new Array(16,1,15,2,17,3,19,4,20,5,21,6,22,7,23,8,24,9),new Array(),new Array(),new Array(18,16),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(15,24,17,3,19,4,20,5,21,6,22,7,23,8,24,9),new Array(),new Array(25,25,29,26,30,27,31,30),new Array(26,32,25,33,29,26,30,27,31,30),new Array(27,34,25,35,29,26,30,27,31,30),new Array(28,36,25,37,29,26,30,27,31,30),new Array(25,38,29,26,30,27,31,30),new Array(25,39,29,26,30,27,31,30),new Array(),new Array(18,40),new Array(),new Array(),new Array(30,41,29,42,31,30),new Array(32,44),new Array(32,46),new Array(),new Array(),new Array(18,49),new Array(),new Array(18,51),new Array(),new Array(18,53),new Array(),new Array(),new Array(25,56,29,26,30,27,31,30),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(25,60,29,26,30,27,31,30),new Array(),new Array(25,61,29,26,30,27,31,30),new Array(),new Array(25,62,29,26,30,27,31,30),new Array(),new Array(),new Array(18,63),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(18,65),new Array(25,66,29,26,30,27,31,30),new Array(),new Array(25,67,29,26,30,27,31,30),new Array(18,68),new Array(),new Array(25,69,29,26,30,27,31,30),new Array(18,70),new Array(25,71,29,26,30,27,31,30),new Array(18,72),new Array(25,73,29,26,30,27,31,30),new Array(),new Array());var h=new Array("transform_list'","WHITESPACE","DIGIT-SEQUENCE","SIGN","EXPONENT_INDICATOR","DECIMAL_DOT","COMMA","LEFT_P","RIGHT_P","SKEW_X_INDICATOR","SKEW_Y_INDICATOR","ROTATE_INDICATOR","SCALE_INDICATOR","TRANSLATE_INDICATOR","MATRIX_INDICATOR","transforms","transform_list","transform","opt-comma-wsp","matrix","translate","scale","rotate","skewX","skewY","number","translate_sequence","scale_sequence","rotate_sequence","integer-constant","floating-point-constant","fractional-constant","exponent","$");function m(o){var u=0,s=[],r=[];var z,t,q;var w=undefined;var p={offset:0,src:o,att:""};var D=[0],C=[0];q=a(p);while(true){z=76;for(var v=0;v<f[D[D.length-1]].length;v+=2){if(f[D[D.length-1]][v]==q){z=f[D[D.length-1]][v+1];break}}if(i&&D.length>0){n("\\nState "+D[D.length-1]+"\\n\\tLookahead: "+h[q]+' (\\"'+p.att+'\\")\\n\\tAction: '+z+'\\n\\tSource: \\"'+p.src.substr(p.offset,30)+((p.offset+30<p.src.length)?"...":"")+'\\"\\n\\tStack: '+D.join()+"\\n\\tValue stack: "+C.join()+"\\n")}if(z==76){if(i){n("Error detected: There is no reduce or shift on the symbol "+h[q])}u++;s.push(p.offset-p.att.length);r.push(new Array());for(var v=0;v<f[D[D.length-1]].length;v+=2){r[r.length-1].push(h[f[D[D.length-1]][v]])}var B=new Array();var A=new Array();for(var v=0;v<D.length;v++){B[v]=D[v];A[v]=C[v]}while(z==76&&q!=33){if(i){n("\\tError recovery\\nCurrent lookahead: "+h[q]+" ("+p.att+")\\nAction: "+z+"\\n\\n")}if(q==-1){p.offset++}while(z==76&&D.length>0){D.pop();C.pop();if(D.length==0){break}z=76;for(var v=0;v<f[D[D.length-1]].length;v+=2){if(f[D[D.length-1]][v]==q){z=f[D[D.length-1]][v+1];break}}}if(z!=76){break}for(var v=0;v<B.length;v++){D.push(B[v]);C.push(A[v])}q=a(p)}if(z==76){if(i){n("\\tError recovery failed, terminating parse process...")}break}if(i){n("\\tError recovery succeeded, continuing")}}if(z>0){if(i){n("Shifting symbol: "+h[q]+" ("+p.att+")")}D.push(z);C.push(p.att);q=a(p);if(i){n("\\tNew lookahead symbol: "+h[q]+" ("+p.att+")")}}else{z*=-1;if(i){n("Reducing by producution: "+z)}w=void (0);if(i){n("\\tPerforming semantic action...")}switch(z){case 0:w=C[C.length-1];break;case 1:w=C[C.length-1];break;case 2:w=[[1,0,0],[0,1,0],[0,0,1]];break;case 3:w=C[C.length-1];break;case 4:w=d(C[C.length-3],C[C.length-1]);break;case 5:w=C[C.length-1];break;case 6:w=C[C.length-1];break;case 7:w=C[C.length-1];break;case 8:w=C[C.length-1];break;case 9:w=C[C.length-1];break;case 10:w=C[C.length-1];break;case 11:w=[[C[C.length-12],C[C.length-8],C[C.length-4]],[C[C.length-10],C[C.length-6],C[C.length-2]],[0,0,1]];break;case 12:w={tx:C[C.length-1],ty:0};break;case 13:w={tx:C[C.length-3],ty:C[C.length-1]};break;case 14:w=[[1,0,C[C.length-2].tx],[0,1,C[C.length-2].ty],[0,0,1]];break;case 15:w={sx:C[C.length-1],sy:C[C.length-1]};break;case 16:w={sx:C[C.length-3],sy:C[C.length-1]};break;case 17:w=[[C[C.length-2].sx,0,0],[0,C[C.length-2].sy,0],[0,0,1]];break;case 18:w={rad:C[C.length-1]*Math.PI/180,cx:0,cy:0};break;case 19:w={rad:C[C.length-5]*Math.PI/180,cx:C[C.length-3],cy:C[C.length-1]};break;case 20:w=j(C[C.length-2]);break;case 21:w=[[1,Math.tan(C[C.length-2]*Math.PI/180),0],[0,1,0],[0,0,1]];break;case 22:w=[[1,0,0],[Math.tan(C[C.length-2]*Math.PI/180),1,0],[0,0,1]];break;case 23:w=parseInt(C[C.length-1]);break;case 24:w=parseFloat(C[C.length-1]);break;case 25:w=parseInt(C[C.length-2]+C[C.length-1]);break;case 26:w=parseFloat(C[C.length-2]+C[C.length-1]);break;case 27:w=C[C.length-1];break;case 28:w=C[C.length-0];break;case 29:w=C[C.length-1];break;case 30:w=C[C.length-1];break;case 31:w=C[C.length-2]+"e"+C[C.length-1];break;case 32:w=C[C.length-2]+"e"+C[C.length-1];break;case 33:w="0."+C[C.length-1];break;case 34:w=C[C.length-2]+".0";break;case 35:w=C[C.length-3]+"."+C[C.length-1];break;case 36:w=C[C.length-1];break;case 37:w=C[C.length-2]+C[C.length-1];break}if(i){n("\\tPopping "+g[z][1]+" off the stack...")}for(var v=0;v<g[z][1];v++){D.pop();C.pop()}t=-1;for(var v=0;v<b[D[D.length-1]].length;v+=2){if(b[D[D.length-1]][v]==g[z][0]){t=b[D[D.length-1]][v+1];break}}if(z==0){break}if(i){n("\\tPushing non-terminal "+h[g[z][0]])}D.push(t);C.push(w)}if(i){c=new String();l.trace(c,"SVGTranformParser")}}if(i){l.debug("\\nParse complete.","SVGTranformParser")}if(u){var x="";for(var v=0;v<u;v++){x+="Parse error near >"+o.substr(s[v],30)+'<, expecting \\"'+r[v].join()+'\\"\\n'}l.error(x);return false}return w}var e={parse:m};return e});sap.riv.module({qname:"sap.viz.base.Math",version:"4.0.1"},[{qname:"sap.viz.base.UADetector",version:"4.0.1"}],function Setup(a){var b={PI:Math.PI,E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,abs:(function(){if(a.isSafari()||(a.isIE()&&parseFloat(a.version())<9)){return function(c){return c<0?-c:c}}else{return Math.abs}})(),acos:(function(){return Math.acos})(),asin:(function(){return Math.asin})(),atan:(function(){return Math.atan})(),atan2:(function(){return Math.atan2})(),ceil:(function(){return Math.ceil})(),cos:(function(){return Math.cos})(),exp:(function(){return Math.exp})(),floor:(function(){return Math.floor})(),log:(function(){return Math.log})(),max:(function(){return Math.max})(),min:(function(){return Math.min})(),pow:(function(){return Math.pow})(),random:(function(){return Math.random})(),round:(function(){return Math.round})(),sin:(function(){return Math.sin})(),sqrt:(function(){return Math.sqrt})(),tan:(function(){return Math.tan})()};return b});sap.riv.module({qname:"sap.viz.base.utils.TransformHelper",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.Math",version:"4.0.1"},{qname:"sap.viz.base.utils.SVGTransformParser",version:"4.0.1"}],function Setup(c,f,g){var a=c.isString,b=c.isArray;var e=function(l,s){if(l[0].length!==s.length){return false}var u=l.length,h=s[0].length,r=s.length;var o=-1,n,m,p,q;var t=[];while(++o<u){p=[];n=-1;while(++n<h){m=-1;q=0;while(++m<r){q+=l[o][m]*s[m][n]}p.push(q)}t.push(p)}return t};var d={multiply:e,parse:function(h){return g.parse(""+h)},invert:function(i){if(a(i)){i=g.parse(i)}var j=i[0][0],h=i[0][1],p=i[0][2],o=i[1][0],n=i[1][1],l=i[1][2];var k=j*n-h*o;if(k!=0){return[[n/k,-h/k,(h*l-p*n)/k],[-o/k,j/k,(p*o-j*l)/k],[0,0,1]]}else{return false}},identityTransform:function(){return[[1,0,0],[0,1,0],[0,0,1]]},rotate:function(j){j=+j;var i=f.cos(j),h=f.sin(j);return[[i,-h,0],[h,i,0],[0,0,1]]},translate:function(i,h){if(arguments.length<2){h=0}return[[1,0,+i],[0,1,+h],[0,0,1]]},scale:function(i,h){if(arguments.length<2){h=i}return[[+i,0,0],[0,+h,0],[0,0,1]]},skewX:function(h){return[[1,f.tan(+h),0],[0,1,0],[0,0,1]]},skewY:function(h){return[[1,0,0],[f.tan(+h),1,0],[0,0,1]]},isEqualTransform:function(i,h){if(a(i)){i=g.parse(i)}if(a(h)){h=g.parse(h)}return i&&h&&(i[0][0]==h[0][0]&&i[0][1]==h[0][1]&&i[0][2]==h[0][2]&&i[1][0]==h[1][0]&&i[1][1]==h[1][1]&&i[1][2]==h[1][2]&&i[2][0]==h[2][0]&&i[2][1]==h[2][1]&&i[2][2]==h[2][2])},isIdentityTransform:function(h){if(a(h)){h=g.parse(h)}return h&&(h[0][0]==1&&h[0][1]==0&&h[0][2]==0&&h[1][0]==0&&h[1][1]==1&&h[1][2]==0&&h[2][0]==0&&h[2][1]==0&&h[2][2]==1)},isValidTransform:function(h){if(a(h)){h=g.parse(h)}if(!b(h)||h.length<3||h[0].length<3){return false}return h&&(h[0][0]*h[1][1]!=h[1][0]*h[0][1])},transformPoint:function(h,j,i){if(arguments.length===2){i=j;j=+h.y;h=+h.x}if(a(i)){i=g.parse(i)}return{x:i[0][0]*h+i[0][1]*j+i[0][2],y:i[1][0]*h+i[1][1]*j+i[1][2]}},transformRect:function(m,l,h,o,p){if(arguments.length===2){p=l;o=+m.height;h=+m.width;l=+m.y;m=+m.x}if(a(p)){p=g.parse(p)}var q={minx:Number.POSITIVE_INFINITY,maxx:Number.NEGATIVE_INFINITY,miny:Number.POSITIVE_INFINITY,maxy:Number.NEGATIVE_INFINITY};var k=[[p[0][0]*m+p[0][1]*l+p[0][2],p[1][0]*m+p[1][1]*l+p[1][2]],[p[0][0]*(m+h)+p[0][1]*l+p[0][2],p[1][0]*(m+h)+p[1][1]*l+p[1][2]],[p[0][0]*(m+h)+p[0][1]*(l+o)+p[0][2],p[1][0]*(m+h)+p[1][1]*(l+o)+p[1][2]],[p[0][0]*m+p[0][1]*(l+o)+p[0][2],p[1][0]*m+p[1][1]*(l+o)+p[1][2]]];for(var j=0,n;j<4;j++){n=k[j];if(q.minx>n[0]){q.minx=n[0]}if(q.miny>n[1]){q.miny=n[1]}if(q.maxx<n[0]){q.maxx=n[0]}if(q.maxy<n[1]){q.maxy=n[1]}}return{x:q.minx,y:q.miny,width:q.maxx-q.minx,height:q.maxy-q.miny}},unmatrix:function(h){if(a(h)){h=g.parse(h)}if(!h){return false}var o=h[0][0],m=h[1][0],l=h[0][1],k=h[1][1],j=h[0][2],i=h[1][2];var s=[o,m],r=[l,k];var q=f.sqrt(o*o+m*m);if(q){s[0]/=q;s[1]/=q}var n=s[0]*r[0]+s[1]*r[1];r[0]+=-n*s[0];r[1]+=-n*s[1];var p=f.sqrt(r[0]*r[0]+r[1]*r[1])||0;if(p){r[0]/=p;r[1]/=p}if(s[0]*r[1]<r[0]*s[1]){s[0]*=-1;s[1]*=-1;kx*=-1;kz*=-1}return{tx:j,ty:i,sx:q,sy:p,skew:p?f.atan2(n,p):0,rotate:q?f.atan2(s[1],s[0]):f.atan2(-r[0],r[1])}}};return d});sap.riv.module({qname:"sap.viz.mvc.GestureDetector",version:"4.0.1"},[{qname:"sap.viz.base.Class",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(a,i){var k=i.noop;var c=0;var h=1;var b=2;var g=3;var f=3;var d=4;var e=5;var j=a.define({constructor:function(){this._grEnabled=true;this._grTouchTotal=0;this._grTouchTracker={};this._grActions=[];this._grCancelTouches=true;var l=c;Object.defineProperties(this,{state:{get:function(){return l},set:function(m){switch(m){case c:l=c;break;case h:l=h;this._grActions.forEach(function(o,n){o(this)},this);break;case b:if(l===h){l=b}this._grActions.forEach(function(o,n){o(this)},this);break;case d:l=d;this._grActions.forEach(function(o,n){o(this)},this);break;case e:l=e;break;case f:case g:l=m;this._grActions.forEach(function(o,n){o(this)},this);break}}},watchedComponent:{value:undefined,writable:true,enumerable:true}})},addGestureAction:function(l){var m=this._grActions;if(m.indexOf(l)===-1){m.push(l);return true}return false},removeGestureAction:function(m){var n=this._grActions,l=n.indexOf(m);if(l>-1){n.splice(l,1);return true}return false},globalLocOfGesture:function(){var o=this.state;if(this._grEnabled&&(o===h||o===b||o===d||o===f||o===g)){var n=0;var m=this._grTouchTracker,q;var l=y=0;for(var r in m){q=m[r].globalXY;l+=q.x;y+=q.y;n++}if(n){return{x:l/n,y:y/n}}}},involvedTouchePoints:function(){var l=[],n=this.state;if(this._grEnabled&&(n===h||n===b||n===d||n===f||n===g)){var m=this._grTouchTracker;for(var o in m){l.push(o)}}return l},globalLocOfTouchPoints:function(){var n=0;var m=this._grTouchTracker,o;var l=y=0;for(var q in m){o=m[q].globalXY;l+=o.x;y+=o.y;n++}if(n){return{x:l/n,y:y/n}}},totalTouches:function(){return this._grTouchTotal},cancelTouches:function(l){if(arguments.length){this._grCancelTouches=l?true:false;return this}else{return this._grCancelTouches}},enable:function(l){if(arguments.length){l=l?true:false;if(this._grEnabled!==l){this._grEnabled=l;if(!l){if(this.state===h||this.state===d){this.state=d}else{this.state=e}}}return this}else{return this._grEnabled}},touchBegin:function(m){var n=m.changedTouches;var r=this._grTouchTracker;var q=this.watchedComponent;var s=q.pagePosition();for(var p=0,o,l=n.length;p<l;p++){o=n.item(p);r[o.identifier]={globalXY:q.pointTo({x:o.pageX-s.x,y:o.pageY-s.y})};this._grTouchTotal++}if(this._grEnabled&&(this.state===c||this.state===h||this.state===b)){this.doTouchBegin(m)}},touchMove:function(n){if(this._grEnabled&&(this.state===c||this.state===h||this.state===b)){var m=n.changedTouches;var q=this.watchedComponent;var s=q.pagePosition();var r=this._grTouchTracker;for(var p=0,o,l=m.length;p<l;p++){o=m.item(p);if(r[o.identifier]){r[o.identifier].globalXY=q.pointTo({x:o.pageX-s.x,y:o.pageY-s.y})}}this.doTouchMove(n)}},touchEnd:function(q){var r=q.changedTouches;var u=this._grTouchTracker;var m=this.watchedComponent;var s=m.pagePosition();for(var n=0,v,o,l,p=r.length;n<p;n++){v=r.item(n);o=v.identifier;if(l=u[o]){l.globalXY=m.pointTo({x:v.pageX-s.x,y:v.pageY-s.y});this._grTouchTotal--}}if(this._grEnabled&&(this.state===c||this.state===h||this.state===b)){this.doTouchEnd(q)}if(!this._grTouchTotal&&(this.state===g||this.state===e||this.state===d)){this.reset()}},touchCancel:function(q){var v=q.changedTouches;var s=this._grTouchTracker;var m=this.watchedComponent;var r=m.pagePosition();for(var n=0,u,o,l,p=v.length;n<p;n++){u=v.item(n);o=u.identifier;if(l=s[o]){l.globalXY=m.pointTo({x:u.pageX-r.x,y:u.pageY-r.y});this._grTouchTotal--}}if(this._grEnabled&&(this.state===c||this.state===h||this.state===b)){this.doTouchCancel(q)}if(!this._grTouchTotal&&(this.state===g||this.state===e||this.state===d)){this.reset()}},doTouchBegin:k,doTouchMove:k,doTouchEnd:k,doTouchCancel:k,reset:function(){this.state=c;this._grTouchTracker={}}});j.TransitionState={Possible:c,Began:h,Changed:b,Recognized:g,Ended:f,Canceled:d,Failed:e};return j});sap.riv.module({qname:"sap.viz.base.utils.LinkedHashSet",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(g,b){function a(){this._cursor=this._cursor.next;return this._cursor!==this._sentinel}function f(){this._cursor=this._cursor.prev;return this._cursor!==this._sentinel}function e(h,i){this._lhs=h;this._sentinel=this._lhs._head;this._cursor=this._sentinel;if(i){this.hasNext=f}else{this.hasNext=a}}var d=e.prototype;d.hasNext=g.noop;d.next=function(){return this._cursor.value};d.remove=function(){if(this._cursor!==this._sentinel){var h=this._cursor.value;this._cursor=this._cursor.prev;return this._lhs.remove(h)}};var c=function(h){this._hash=h||String;this._head={value:undefined,next:undefined,prev:undefined};this._map={};this._length=0;this._head.next=this._head.prev=this._head};d=c.prototype;d.add=function(o){var h=this._map;var i=null;var k=this._hash(o);if(!h.hasOwnProperty(k)){var n={prev:null,value:o,next:null},j=this._head,l=j.prev;h[k]=j.prev=n;n.prev=l;n.next=j;l.next=n;this._length++}else{i=h[k].value;h[k].value=o}return i};d.addAll=function(h){var k=c.iterator();var i=[],j;while(k.hasNext()){if(j=this.add(k.next())){i.push(j)}}return i};d.insertBefore=function(n,o){var i=this._map,p=this._hash;var j=p(n),k=p(o);if(i.hasOwnProperty(k)&&k!==j){if(i.hasOwnProperty(j)){this.remove(n)}var l={prev:null,value:n,next:null};var h=i[k];l.prev=h.prev;h.prev.next=l;l.next=h;h.prev=l;i[j]=l;this._length++;return n}};d.insertAfter=function(n,p){var h=this._map,o=this._hash;var i=o(n),l=o(p);if(h.hasOwnProperty(l)&&l!==i){if(h.hasOwnProperty(i)){this.remove(n)}var k={prev:null,value:n,next:null};var j=h[l];k.prev=j;k.next=j.next;j.next.prev=k;j.next=k;h[i]=k;this._length++;return n}};d.replace=function(l,p){var i=this._map,o=this._hash;var j=o(l),h=o(p);if(i.hasOwnProperty(h)&&h!==j){if(i.hasOwnProperty(j)){this.remove(l)}var k={prev:null,value:l,next:null};var n=i[h];k.prev=n.prev;k.next=n.next;n.prev.next=k;n.next.prev=k;i[j]=k;delete i[h];return n.value}};d.first=function(){return this._head.next.value};d.last=function(){return this._head.prev.value};d.next=function(i){var h;if(h=this._map[this._hash(i)]){return h.next.value}return h};d.prev=function(i){var h;if(h=this._map[this._hash(i)]){return h.prev.value}return h};d.moveToFirst=function(i){var h;if(h=this._map[this._hash(i)]){var j=this._head.next;if(j!==h){h.prev.next=h.next;h.next.prev=h.prev;h.next=j;h.prev=j.prev;j.prev.next=h;j.prev=h}}};d.moveToLast=function(j){var i;if(i=this._map[this._hash(j)]){var h=this._head.prev;if(h!==i){i.prev.next=i.next;i.next.prev=i.prev;i.prev=h;i.next=h.next;h.next.prev=i;h.next=i}}};d.getByHash=function(i){var h=this._map[i];return h?h.value:undefined};d.has=function(h){return this._map.hasOwnProperty(this._hash(h))};d.remove=function(l){var h=this._map,j=this._hash(l);var i=null;if(h.hasOwnProperty(j)){var k=h[j];i=k.value;k.prev.next=k.next;k.next.prev=k.prev;delete h[j];this._length--}return i};d.purgeAll=function(){this._map={};this._head.next=this._head.prev=this._head;this._length=0};d.isEmpty=function(){return this._length===0};d.length=function(){return this._length};d.iterator=function(h){return new e(this,h||false)};d.items=function(){var h=[],i=head=this._head;while((i=i.next)!==head){h.push(i.value)}return h};return c});sap.riv.module({qname:"sap.viz.base.Observable",version:"4.0.1"},[{qname:"sap.viz.base.Class",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(c,a){var e=Array.prototype.slice,f=Object.getPrototypeOf;function d(){var i=this._events,h,g=arguments.length;while(--g>=0){if(!i.hasOwnProperty(h=arguments[g])){i[h]=[]}}}var b=c.define({constructor:function(h){this._events={};var i=this,g;while((i=f(i)).constructor!==Object){if((g=i.events)&&g.length){d.apply(this,g)}}if(h){if(g=h.listeners){this.on(g);delete h.listeners}}},addEvents:d,getSupportedEvents:function(){return this._events.key()},on:function(j,k,i){if(arguments.length>=1){if(arguments.length>1){var h={};h[j]=k;j=h}for(var g in j){if(k=this._events[g]){j[g]["category"]=i;k.push(j[g])}}}return this},isListening:function(g,h){if(g=this._events[g]){return g.indexOf(h)>-1}return false},un:function(i,j){if(arguments.length===1){var l=this._events;if(l.hasOwnProperty(i)){l[i]=[]}}else{if(arguments.length===2){var k=this._events[i];if(k){if(typeof j==="function"){var h;while((h=k.indexOf(j))>-1){k.splice(h,1)}}else{var g=k.length;while(g--){if(k[g].category===j){k.splice(g,1)}}}}}}},purgeListeners:function(){var h=this._events;for(var g in h){h[g]=[]}},fireEvent:function(h){var j=e.call(arguments,1);if(h=this._events[h]){for(var k=0,g=h.length;k<g;k++){h[k].apply(this,j)}}}});return b});sap.riv.module({qname:"sap.viz.mvc.UIComponent",version:"4.0.1"},[{qname:"sap.viz.base.Observable",version:"4.0.1"},{qname:"sap.viz.base.utils.LinkedHashSet",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.mvc.GestureDetector",version:"4.0.1"},{qname:"sap.viz.base.utils.TransformHelper",version:"4.0.1"}],function Setup(l,j,e,o,i){var f=jQuery;var d=e.noop;if(!f){e.error("Cannot find jQuery")}var h=0;var u=1<<0;var g=1<<1;var D=1<<2;var t=1<<3;var s=1<<4;var B=1<<5;var q=0;var p=function(){return q++};function A(H,F){var G=[{node:H,childrenItr:H.children.iterator()}];var I,H,E;while(G.length){I=G[G.length-1];H=I.node;F(H);E=I.childrenItr;if(E.hasNext()){var J=E.next();G.push({node:J,childrenItr:J.children.iterator()})}else{G.pop()}}}function z(H,F){if(this._autoresizable){var E=this.children.iterator();var G,I;while(E.hasNext()){G=E.next();I=w.call(this,G,H,F);G.frame(I)}}else{this.doLayout()}}function w(M,I,T){var K=M.frame();var L=K.x,J=K.y,Q=K.width,O=K.height;var U=L,R=I.width-L-Q,P=J,E=I.height-J-O;var V=T.width-I.width,S=T.height-I.height;var G=M._autoresizingMask;var H=u|g|D;var F=t|s|B;switch(G&H){case h:if(U!==0){L+=V*U/(U+R)}break;case u:L+=V;break;case u|D:case D:break;case g:Q+=V;break;case u|g:if(Q!==0){L+=V*U/(U+Q);Q+=V*Q/(U+Q)}break;case D|g:if(Q!==0){Q+=V*Q/(R+Q)}break;case u|g|D:if(I.width!==0){var N=V/I.width;L+=L*N;Q+=Q*N}break}switch(G&F){case h:if(P!==0){J+=S*P/(P+E)}break;case t:J+=S;break;case t|B:case B:break;case s:O+=S;break;case t|s:if(O!==0){J+=S*P/(P+O);O+=S*O/(P+O)}break;case B|s:if(O!=0){O+=S*O/(E+O)}break;case t|s|B:if(I.height){var N=S/I.height;J+=J*N;O+=O*N}break}return{x:L,y:J,height:O,width:Q}}function v(E){var F;if(E.clipToBound===false){this.container.css("overflow","visible")}if(E.hidden===true){this.container.css("display","none");this._hidden=true}if(E.autoSizingMask<32){this._autoresizingMask=+E.autoSizingMask}if(F=E.pin){this._pinX=F.x;this._pinY=F.y}if(F=E.position){this._x=F.x;this._y=F.y;this.container.css("left",this._x-this._pinX*this._width);this.container.css("top",this._y-this._pinY*this._height)}if(F=E.size){this._width=F.w||F.width;this._height=F.h||F.height;this.container.width(this._width);this.container.height(this._height)}r.call(this)}function r(){this.on({sizeChanged:n.bind(this),heightChanged:x.bind(this),widthChanged:c.bind(this),positionChanged:C.bind(this),pinChanged:b.bind(this)})}function n(F,E){this.container.width(E.width);this.container.height(E.height);if(this._pinX||this._pinY){this.container.css("left",this._x-this._pinX*E.width);this.container.css("top",this._y-this._pinY*E.height)}this.doContentResize(F,E);z.call(this,F,E)}function c(F,E){this.container.width(E);if(this._pinX){this.container.css("left",this._x-this._pinX*E)}var H={height:this._height,width:F},G={height:this._height,width:E};this.doContentResize(H,G);z.call(this,H,G)}function x(H,F){this.container.height(F);if(this._pinY){this.container.css("top",this._y-this._pinY*F)}var G={height:H,width:this._width},E={height:F,width:this._width};this.doContentResize(G,E);z.call(this,G,E)}function C(F,E){this.container.css("left",E.x-this._pinX*this._width);this.container.css("top",E.y-this._pinY*this._height)}function b(E,F){this.container.css("left",this._x-F.x*this._width);this.container.css("top",this._y-F.y*this._height)}function a(F){var G=F.visibility();if(G){F.doBeforeHide();F.fireEvent("beforeHide")}F._parentVisible=false;var E=F.children.iterator();while(E.hasNext()){a.call(F,E.next())}if(G){F.doAfterHide();F.fireEvent("afterHide")}}function k(F){var G=F.visibility();F._parentVisible=F.parent.visibility();if(!G&&F.visibility()){F.doBeforeShow();F.fireEvent("beforeShow")}var E=F.children.iterator();while(E.hasNext()){k.call(F,E.next())}if(!G&&F.visibility()){F.doAfterShow();F.fireEvent("afterShow")}}var m=l.extend({events:["widthChanged","heightChanged","sizeChanged","positionChanged","pinChanged","attached","detached","beforeShow","afterShow","beforeHide","afterHide","focusin","focusout","focus","blur","mousedown","mouseup","mouseenter","mouseleave","mousemove","click","dblclick","touchstart","touchmove","touchend","touchcancel"],constructor:function(E){E=E||{};var F=E.id?E.id+"_"+p():"UIComp_"+p();Object.defineProperties(this,{id:{value:F,enumerable:true},container:{value:f(document.createElement("div")).attr("id",F).css("position","absolute").css({overflow:"hidden","font-size":"10px","box-sizing":"border-box","-moz-box-sizing":"border-box","-ms-box-sizing":"border-box","-webkit-box-sizing":"border-box"}).data("selfComp",this),enumerable:true},root:{value:undefined,writable:true,enumerable:true},parent:{value:undefined,writable:true,enumerable:true},children:{value:new j(function(G){return G.id}),enumerable:true},gestureDetectors:{value:[],enumerable:true}});this._attached=false;this._hidden=false;this._parentVisible=false;this._autoresizable=true;this._autoresizingMask=h;this._x=0;this._y=0;this._width=1;this._height=1;this._pinX=0.5;this._pinY=0.5;v.call(this,E)},markAttached:function(){this._attached=true;if(this.visibility()){this.doBeforeShow();this.fireEvent("beforeShow")}var E=this.children.iterator();while(E.hasNext()){E.next().markAttached()}if(this.visibility()){this.doAfterShow();this.fireEvent("AfterShow")}},markDetached:function(){var F=this.visibility();this._attached=false;if(F){this.doBeforeHide();this.fireEvent("beforeHide")}var E=this.children.iterator();while(E.hasNext()){E.next().markDetached()}if(F){this.doAfterHide();this.fireEvent("AfterHide")}},markHide:function(){if(this._hidden===false){var F=this.visibility();if(F){this.doBeforeHide();this.fireEvent("beforeHide")}this._hidden=true;this.container.css("display","none");var E=this.children.iterator();while(E.hasNext()){a.call(this,E.next())}if(F){this.doAfterHide();this.fireEvent("afterHide")}}return this},markShow:function(){if(this._hidden===true){this._hidden=false;if(this.visibility()){this.doBeforeShow();this.fireEvent("beforeShow")}this.container.css("display","block");var E=this.children.iterator();while(E.hasNext()){k.call(E.next())}if(this.visibility()){this.doAfterShow();this.fireEvent("afterShow")}}return this},clipToBound:function(E){if(arguments.length){this.container.css("overflow",E?"hidden":"visible");return this}else{return this.container.css("overflow")==="hidden"}},visibility:function(){return !this._hidden&&this._attached&&this._parentVisible},autoResizable:function(E){if(arguments.length){this._autoresizable=autoresize&&true;return this}else{return this._autoresizable&&true}},autoResizingMask:function(E){if(arguments.length){if(E<32){this._autoresizingMask=+E}return this}else{return this._autoresizingMask}},pagePosition:function(){var E=this.container.offset();return{x:E.left,y:E.top}},position:function(E,F){if(arguments.length===0){return{x:this._x,y:this._y}}if(arguments.length===1){F=E.y;E=E.x}E=+E;F=+F;if(this._x!==E||this._y!==F){this.fireEvent("positionChanged",{x:this._x,y:this._y},{x:this._x=E,y:this._y=F})}return this},size:function(F,E){if(!arguments.length){return{width:this._width,height:this._height}}if(arguments.length===1){E=F.height;F=F.width}E=+E;F=+F;if(F!==this._width||E!==this._height){this.fireEvent("sizeChanged",{width:this._width,height:this._height},{width:this._width=F,height:this._height=E})}return this},width:function(E){if(!arguments.length){return this._width}E=+E;if(this._width!==E&&E>0){this.fireEvent("sizeChanged",{width:this._width,height:this._height},{width:this._width=E,height:this._height})}return this},height:function(E){if(!arguments.length){return this._height}E=+E;if(this._height!==E&&E>0){this.fireEvent("sizeChanged",{width:this._width,height:this._height},{width:this._width,height:this._height=E})}return this},pin:function(E,F){if(!arguments.length){return{x:this._pinX,y:this._pinY}}if(arguments.length===1){F=E.y;E=E.x}E=+E;F=+F;if(E!==this._pinX||F!==this._pinY){this.fireEvent("pinChanged",{x:this._pinX,y:this._pinY},{x:this._pinX=E,y:this._pinY=F})}return this},frame:function(F,J,G,E){if(!arguments.length){return{x:this._x-this._pinX*this._width,y:this._y-this._pinY*this._height,width:this._width,height:this._height}}if(arguments.length===1){J=F.y;G=F.width;E=F.height;F=F.x}var I=F+G*this._pinX,H=J+E*this._pinY;if(G!==this._width||E!==this._height){this.fireEvent("sizeChanged",{width:this._width,height:this._height},{width:this._width=G,height:this._height=E})}if(I!==this._x||H!==this._y){this.fireEvent("positionChanged",{x:this._x,y:this._y},{x:this._x=I,y:this._y=H})}return this},append:function(E){if(E){if(E.parent!==undefined){E.detach()}E.parent=this;if(this.root){A(E,function(F){F.root=this}.bind(this.root))}this.children.add(E);this.container.append(E.container);if(this._attached){E.markAttached()}return this}},appendTo:function(E){E.append(this);return this},detach:function(){if(this.parent){this.parent.children.remove(this);this.container.detach();this.parent=undefined;A(this,function(E){E.root=undefined});this.markDetached()}return this},before:function(E){E.insertBefore(this);return this},insertBefore:function(F){if(F&&F.parent&&F!==this){if(this.parent){this.detach()}var E=F.parent;this.parent=E;if(E.root){A(this,function(G){G.root=this}.bind(E.root))}E.children.insertBefore(this,F);this.container.insertBefore(F.container);if(this._attached){this.markAttached()}}return this},after:function(E){E.insertAfter(this);return this},insertAfter:function(F){if(F&&F.parent&&F!==this){if(this.parent){this.detach()}var E=F.parent;this.parent=E;if(E.root){A(this,function(G){G.root=this}.bind(E.root))}E.children.insertAfter(this,F);this.container.insertAfter(F.container);if(this._attached){this.markAttached()}}return this},bringToFront:function(){var E=this.parent;if(E){if(E.children.last()!==this){E.children.moveToLast(this);this.container.detach();this.container.appendTo(subComp.container)}}return this},sendToBack:function(){var E=this.parent;if(E){if(E.children.first()!==this){E.children.moveToFirst(this);this.container.detach();this.container.prependTo(subComp.container)}}return this},pointFrom:function(E,L,K){if(arguments.length===1){L=E.y;E=E.x;K=false}if(arguments.length===2){if(isNaN(E)){K=L;L=E.y;E=E.x}else{K=false}}E=+E;L=+L;K.root||(K=false);var G=this.root;if(G){K||(K=G);var H=0,F=0,I=this,J;while(I!==G&&I!==K){J=I.frame();H+=J.x;F+=J.y;I=I.parent}if(I!==K){I=K;while(I!==G&&I!==this){J=I.frame();E+=J.x;L+=J.y;I=I.parent}if(I===this){return{x:E,y:L}}}return{x:E-H,y:L-F}}return{x:E,y:L}},pointTo:function(E,H,G){if(arguments.length===1){H=E.y;E=E.x;from=false}if(arguments.length===2){if(isNaN(E)){from=H;H=E.y;E=E.x}else{from=false}}E=+E;H=+H;var F=this.root;if(F){G||(G=F);return G.pointFrom(E,H,this)}return{x:E,y:H}},fireFocusEvent:function(E){this.fireEvent(E.type,E);if(this.parent&&E.shouldBubble()){E.currentTarget=this.parent;this.parent.fireEvent(E)}},fireMouseEvent:function(E){this.fireEvent(E.type,E);if(this.parent&&E.shouldBubble()){E.currentTarget=this.parent;E.currentLocalXY={x:E.currentLocalXY.x+this._x-this._pinX*this._width,y:E.currentLocalXY.y+this._y-this._pinY*this._height};this.parent.fireMouseEvent(E)}},fireTouchEvent:function(E){this.fireEvent(E.type,E);if(this.parent&&E.shouldBubble()){E.currentTarget=this.parent;this.parent.fireTouchEvent(E)}},purgeListeners:function(){this._super();r.call(this)},un:function(E){this._super.apply(this,arguments);if(arguments.length===1){switch(E){case"sizeChanged":this.on("sizeChanged",n.bind(this));break;case"heightChanged":this.on("heightChanged",x.bind(this));break;case"widthChanged":this.on("widthChanged",c.bind(this));break;case"positionChanged":this.on("positionChanged",C.bind(this));break;case"pinChanged":this.on("pinChanged",b.bind(this));break}}},addGestureDetector:function(E){if(E instanceof o){E.watchedComponent=this;this.gestureDetectors.push(E)}},removeGestureDetector:function(G){for(var F=0,E=this.gestureDetectors.length;F<E;F++){if(this.gestureDetectors[F]===G){this.gestureDetectors.splice(F,1);G.watchedComponent=undefined;E--}}},hitTest:function(F,K){if(arguments.length=1){K=F.y;F=F.x}var I=[{comp:this,subCompsItr:this.children.iterator(true)}];var G,J;while(I.length){G=I[I.length-1];J=G.subCompsItr;G=G.comp;if(G.visibility()){if(J.hasNext()){var H=J.next();I.push({comp:H,subCompsItr:H.children.iterator(true)});continue}else{var E=G.pointFrom(F,K,this);if(E.x>=0&&E.y>=0&&E.x<G.width()&&E.y<G.height()&&G.pointContent(F,K)){return G}}I.pop()}else{I.pop()}}},pointContent:function(E,F){return true},doLayout:d,doContentResize:d,doBeforeHide:d,doAfterHide:d,doBeforeShow:d,doAfterShow:d,doDestroy:d,destroy:function(){this.doDestroy();A(this,function(E){E.detach();E.purgeListeners()})}});m.Autosizing={None:h,FlexibleLeftMargin:u,FlexibleWidth:g,FlexibleRightMargin:D,FlexibleTopMargin:t,FlexibleHeight:s,FlexibleBottomMargin:B};return m});sap.riv.module({qname:"sap.viz.mvc.UIController",version:"4.0.1"},[{qname:"sap.viz.base.Class",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.mvc.UIComponent",version:"4.0.1"}],function Setup(a,e,b){var c=e.noop;var g=300,f=150;var d=a.define({constructor:function(h){Object.defineProperties(this,{application:{value:h,writable:false,enumerable:true,configurable:false},rootUIComponent:{value:new (this.constructor.prototype.RootComponentClass||b)({size:{width:g,height:f},listeners:{beforeShow:this.beforeUIComponentAppear.bind(this),beforeHide:this.beforeUIComponentDisappear.bind(this),afterShow:this.afterUIComponentAppear.bind(this),afterHide:this.afterUIComponentDisappear.bind(this)}}),writable:true,enumerable:true}})},initialize:c,fireAppEvent:function(h,i){this.application.fireEvent(h,i)},beforeUIComponentAppear:c,afterUIComponentAppear:c,beforeUIComponentDisappear:c,afterUIComponentDisappear:c,doThemeApplied:c,doThemeUpdated:c,destroy:function(){this.rootUIComponent.destroy()}});return d});sap.riv.module({qname:"sap.viz.mvc.Event",version:"4.0.1"},[{qname:"sap.viz.base.Class",version:"4.0.1"}],function Setup(b){var a=b.define({constructor:function(c,e,d){this.type=c;this.target=e;this.currentTarget=e;this.timestamp=Date.now();this.load=undefined;this._canBubbling=d!==undefined?d:true},isInBubbling:function(){return this.target.id!==this.currentTarget.id},shouldBubble:function(){return this._canBubbling},stopPropagation:function(){this._canBubbling=false}});return a});sap.riv.module({qname:"sap.viz.mvc.TouchEvent",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.mvc.Event",version:"4.0.1"}],function Setup(j,k){var e=jQuery;if(!e){j.error("Cannot find jQuery")}var b=function(m,n,l,o){this.identifier=m;this.target=n;this.localXY=l;this.pageXY=o};var c=function(l,m){this.tA=l,this.tM=m};var h=c.prototype;h.length=function(){return this.tA.length};h.item=function(l){if(l>=0&&(l<this.tA.length)){return this.tA[l]}};h.identifiedTouch=function(l){if(l){return this.tM[l]}};var a=k.extend({constructor:function(m,q,o,p,n,l){this.touches=p;this.targetTouches=n;this.changedTouches=l}});var d=function(p){var m=[],q={};for(var o=0,n,r,l=p.length;o<l;o++){n=i(p.item(o));if(n){r=f(p.item(o),n);m.push(r);q[r.identifier]=r}}return new c(m,q)};var g=function(p){var m=[],q={};for(var o=0,n,r,l=p.length;o<l;o++){n=i(p[o]);if(n){r=f(p[o],n);m.push(r);q[r.identifier]=r}}return new c(m,q)};var i=function(m){var l=e(m.target);while(l.length&&!l.data("selfComp")){l=l.parent()}return l.data("selfComp")};var f=function(o,m){var n=m.pagePosition();var l={x:o.pageX-n.x,y:o.pageY-n.y};return new b(o.identifier,m,l,{x:o.pageX,y:o.pageY})};a.buildFrom3TouchArray=function(s,q,o,t,r,p){var m=g(o);var l=g(r);var n=g(t);return new a(s,q,p,m,l,n)};a.buildFromDomTouchEvent=function(o,r,l,q){var n=d(l.touches);var p=d(l.targetTouches);var m=d(l.changedTouches);return new a(o,r,q,n,p,m)};return a});sap.riv.module({qname:"sap.viz.mvc.MouseEvent",version:"4.0.1"},[{qname:"sap.viz.mvc.Event",version:"4.0.1"}],function Setup(a){var b=a.extend({constructor:function(d,f,e,c,g){this.relatedTarget=undefined;this.targetLocalXY=c;this.currentLocalXY=c;this.pageXY=g}});return b});sap.riv.module({qname:"sap.viz.base.utils.LinkedHashMap",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(e){function d(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._head}else{this._cursor=this._cursor.next}this._count--;return true}else{return false}}function f(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._last}else{this._cursor=this._cursor.prev}this._count--;return true}else{return false}}var c=function(h,i){this._lhm=h;this._reverse=i||false;this._count=h._length;this._cursor=this._reverse?this._lhm._last:this._lhm._head;if(this._reverse){this.hasMore=f}else{this.hasMore=d}};var b=c.prototype;b.hasMore=e.noop;b.next=function(){var h={key:this._cursor.key,value:this._cursor.value};return h};b.nextValue=function(){return this._cursor.value};b.nextKey=function(){return this._cursor.key};b.reset=function(){this._count=this._lhm._length};b.remove=function(){return this._lhm.remove(this._cursor.key)};var g=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};var a=g.prototype;a.add=function(j,l){var h=this._map;var i=null;var k={prev:null,key:j,value:l,next:null};if(!this._length){this._head=this._last=k}if(!h.hasOwnProperty(j)){h[j]=k;this._length++;k.prev=this._last;this._last.next=k;this._last=k;this._last.next=this._head;this._head.prev=this._last}else{i=h[j].value;h[j].value=l}return i};a.addAll=function(h){var i=h.getIterator();var j;while(i.hasMore()){j=i.next();this.add(j.key,j.value)}};a.insertBefore=function(i,n,k){var h=this._map;if(!h.hasOwnProperty(i)&&h.hasOwnProperty(k)){var l={prev:null,key:i,value:n,next:null};var j=h[k];if(j!==this._head){l.prev=j.prev;j.prev.next=l}else{this._head=l;l.prev=this._last}l.next=j;j.prev=l;h[i]=l;this._length++;return n}};a.insertAfter=function(i,n,l){var h=this._map;if(!h.hasOwnProperty(i)&&h.hasOwnProperty(l)){var k={prev:null,key:i,value:n,next:null};var j=h[l];if(j!==this._last){k.next=j.next;j.next.prev=k}else{this._last=k;this._last.next=this._head}j.next=k;k.prev=j;h[i]=k;this._length++;return n}};a.replace=function(k,i,j){var h=this._map;if(!h.hasOwnProperty(i)&&h.hasOwnProperty(k)){var l={prev:null,key:i,value:j,next:null};var n=h[k];l.prev=n.prev;l.next=n.next;n.prev.next=l;n.next.prev=l;if(this._head===n){this._head=l}if(this._last===n){this._last=l}h[i]=l;delete h[k];return n.value}};a.get=function(i){var h=this._map;if(h.hasOwnProperty(i)){return h[i].value}return null};a.next=function(i){var h=this._map;if(h.hasOwnProperty(i)){return h[i].next}return null};a.prev=function(i){var h=this._map;if(h.hasOwnProperty(i)){return h[i].prev}return null};a.getFirstInsert=function(){return this._head?this._head.value:null};a.getLastInsert=function(){return this._last?this._last.value:null};a.moveToLast=function(i){var h=this._map;if(h.hasOwnProperty(i)&&this._last.key!==i){var j=h[i];j.prev.next=j.next;j.next.prev=j.prev;j.prev=this._last;j.next=this._last.next;this._last.next=j;this._last=j;this._head=j.next;this._head.prev=j}};a.moveToFirst=function(i){var h=this._map;if(h.hasOwnProperty(i)&&this._head.key!==i){var j=h[i];j.prev.next=j.next;j.next.prev=j.prev;j.next=this._head;j.prev=this._head.prev;this._head.prev=j;this._head=j;this._last=j.prev;this._last.next=j}};a.has=function(i){var h=this._map;return h.hasOwnProperty(i)};a.remove=function(j){var h=this._map;var i;if(h.hasOwnProperty(j)){var k=h[j];i=k.value;if(k===this._head){this._head=k.next}if(k===this._last){this._last=k.prev}k.prev.next=k.next;k.next.prev=k.prev;delete h[j];this._length--;if(this._length===0){this._head=this._last=undefined}return i}};a.purgeAll=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};a.isEmpty=function(){return this._length==0};a.length=function(){return this._length};a.getIterator=function(h){return new c(this,h)};a.keys=function(){var h=this.getIterator(),i=[];while(h.hasMore()){i.push(h.nextKey())}return i};a.values=function(){var i=this.getIterator(),h=[];while(i.hasMore()){h.push(i.nextValue())}return h};return g});sap.riv.module({qname:"sap.viz.base.utils.DomWatcher",version:"4.0.1"},[{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.base.utils.LinkedHashMap",version:"4.0.1"}],function Setup(k,s){var j=0;var i=1;var f=function(){return j++};var m=function(){return i++};var p=function(v){for(var w in v){if(v.hasOwnProperty(w)){return false}}return true};var n=function(w,x){var v=null;if(window.getComputedStyle){v=window.getComputedStyle(w,null)[x]}else{if(w.currentStyle){v=w.currentStyle[x]}}return v};var q=function(v,w){if(!this._data){this._data={}}if(arguments.length===2){this._data[v]=w}else{return this._data[v]}};var o=new s();var r=function(x){var v;var A=x.srcElement||x.target;var w=q.call(A,"domId");if(!w){return}var z=o.get(w).getIterator();while(z.hasMore()){v=z.nextValue();v.checkChange()}};var a=function(z){var v=u.get(z);var x=v.domElem;var w=q.call(x,"domId");if(!w){w=m();q.call(x,"domId",w);o.add(w,new s())}o.get(w).add(v.id,v);if(!q.call(x,"eventHandler")){if(typeof(x.onpropertychange)=="object"){x.attachEvent("onpropertychange",r)}else{if(k.isFirefox()&&parseFloat(k.version())>3.6){x.addEventListener("DOMAttrModified",r)}}q.call(x,"eventHandler",r)}};var b=function(v){var z=v.domElem;var x=q.call(z,"domId");if(!x){return}if(o.get(x).has(v.id)){o.get(x).remove(v.id)}if(o.get(x).isEmpty()){var w=q.call(z,"eventHandler");if(typeof(z.onpropertychange)=="object"){z.detachEvent("onpropertychange",w)}else{if(k.isFirefox()&&parseFloat(k.version())>3.6){z.removeEventListener("DOMAttrModified",w)}}q.call(z,"eventHandler",null)}};var e=undefined;var u=new s();var g=function(){var w=u.getIterator();var v;while(w.hasMore()){v=w.nextValue();v.checkChange()}};var h=function(v){if(!e){e=setInterval(g,100)}if(!u.has(v.id)){u.add(v.id,v)}};var t=function(v){if(u.has(v)){u.remove(v)}if(u.isEmpty()){clearInterval(e);e=undefined}};var l=function(v){var w=v.domElem;if(typeof(w.onpropertychange)=="object"||(k.isFirefox()&&parseFloat(k.version())>3.6)){a(v.id)}else{h(v)}};var c=function(D){var w=u.get(D);if(!w){return}var C=w.domElem;if(!w.callback){return}var B=false;var z=0;var A=[];for(var v=w.cssProps.length;z<v;z++){var x=n(C,w.cssProps[z]);if(w.lastestVals[z]!=x){w.lastestVals[z]=x;B=true;A.push(w.cssProps[z])}}if(B){w.callback(A)}};var d={watch:function(C,A,B){var D=f();var x=function(){c(D)};var w={id:D,domElem:C,cssProps:A.split(","),lastestVals:[A.split(",").length],callback:B,checkChange:x};for(var z=0,v=w.cssProps.length;z<v;z++){w.lastestVals[z]=n(C,w.cssProps[z])}if(!u.has(w.id)){u.add(w.id,w)}l(w);return D},unwatch:function(z){var v=u.get(z);if(v){var x=v.domElem;try{if(typeof(x.onpropertychange)=="object"||(k.isFirefox()&&parseFloat(k.version())>3.6)){b(v)}else{t(v.id)}}catch(w){}}}};return(d)});sap.riv.module({qname:"sap.viz.mvc.VizFrame",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.mvc.UIComponent",version:"4.0.1"},{qname:"sap.viz.mvc.GestureDetector",version:"4.0.1"},{qname:"sap.viz.base.utils.DomWatcher",version:"4.0.1"},{qname:"sap.viz.mvc.Event",version:"4.0.1"},{qname:"sap.viz.mvc.MouseEvent",version:"4.0.1"},{qname:"sap.viz.mvc.TouchEvent",version:"4.0.1"},{qname:"sap.viz.base.Math",version:"4.0.1"}],function Setup(g,l,m,c,t,f,u,j){var q=Array.prototype.push;var h=jQuery;var n=g.error;if(!h){n("Cannot find jQuery")}function d(v){while(v=v.parentNode){if(v===document){return true}}return false}function r(w){var x=w._holder;if(x.css("position")=="static"||x.css("position")=="fix"){var v=x.position();w.frame({x:v.left,y:v.top,width:x.width(),height:x.height()})}else{w.frame({x:0,y:0,width:x.width(),height:x.height()})}}function b(v){var w=h(v.target);while(!w.data("selfComp")){w=w.parent()}return w.data("selfComp")}var a=m.TransitionState;function e(){var v=s.bind(this);this.container.bind("click",v);this.container.bind("dblclick",v);this.container.bind("focusin",v);this.container.bind("focusout",v);this.container.bind("focus",v);this.container.bind("blur",v);this.container.bind("mousedown",v);this.container.bind("mouseup",v);this.container.bind("mouseenter",v);this.container.bind("mouseleave",v);this.container.bind("mousemove",v);this.container.bind("DOMNodeInsertedIntoDocument",o.bind(this));this.container.bind("DOMNodeRemovedFromDocument",p.bind(this))}function o(){var v=s.bind(this);this.container.bind("touchstart",v);this.container.bind("touchmove",v);this.container.bind("touchend",v);this.container.bind("touchcancel",v)}function p(){this.container.unbind("touchstart");this.container.unbind("touchmove");this.container.unbind("touchend");this.container.unbind("touchcancel")}function s(N){N.preventDefault();var x=b(N),Q;switch(N.type){case"mousemove":if(x){var A=x.pagePosition();var G={x:N.pageX-A.x,y:N.pageY-A.y};if(this._msTracking.length){if(this._msTracking[this._msTracking.length-1]!==x){var H=[];var S=x;while(S){H.push(S);S=S.parent}var w=0,C=false,K=j.min(this._msTracking.length,H.length);while(true){var B=undefined;if(!C&&this._msTracking[w]===H[H.length-1-w]){w++;C=w===K}else{while(this._msTracking.length>w){B=this._msTracking.pop();Q=new f("mouseleave",B,false,B.pointFrom(G,x),{x:N.pageX,y:N.pageY});Q.relatedTarget=x;Q.load=N.load;B.fireMouseEvent(Q)}while(w<H.length){var S=H.shift();B=this._msTracking[H.length-1];this._msTracking[H.length]=S;Q=new f("mouseenter",S,false,S.pointFrom(G,x),{x:N.pageX,y:N.pageY});Q.relatedTarget=B;Q.load=N.load;S.fireMouseEvent(Q)}break}}}}else{var S=x,Q;do{this._msTracking.push(S);Q=new f("mouseenter",S,false,G,{x:N.pageX,y:N.pageY});Q.load=N.load;S.fireMouseEvent(Q);S=S.parent}while(S);this._msTracking.reverse()}Q=new f("mousemove",x,true,G,{x:N.pageX,y:N.pageY});Q.load=N.load;x.fireMouseEvent(Q)}else{while(this._msTracking.length){var B=this._msTracking.pop();var F=this.pagePosition();Q=new f("mouseleave",B,false,{x:N.pageX-F.x,y:N.pageY-F.y},{x:N.pageX,y:N.pageY});Q.load=N.load;B.fireMouseEvent(Q)}}break;case"mouseleave":while(this._msTracking.length){var B=this._msTracking.pop();var M=B.pagePosition();Q=new f("mouseleave",B,false,{x:N.pageX-M.x,y:N.pageY-M.y},{x:N.pageX,y:N.pageY});Q.load=N.load;B.fireMouseEvent(Q)}break;case"mouseup":if(x){var A=x.pagePosition();Q=new f("mouseup",x,true,{x:N.pageX-A.x,y:N.pageY-A.y},{x:N.pageX,y:N.pageY});Q.load=N.load;x.fireMouseEvent(Q)}break;case"mousedown":if(x){var A=x.pagePosition();Q=new f("mousedown",x,true,{x:N.pageX-A.x,y:N.pageY-A.y},{x:N.pageX,y:N.pageY});Q.load=N.load;x.fireMouseEvent(Q)}break;case"dblclick":if(x){if(this._focusedComp){if(this._focusedComp.id!==x.id){Q=new t("blur",this._focusedComp,false);Q.load=N.load;this._focusedComp.fireFocusEvent(Q);Q=new t("focusout",this._focusedLayer,true);Q.load=N.load;this._focusedComp.fireFocusEvent(Q);this._focusedComp=x;Q=new t("focus",this._focusedComp,false);Q.load=N.load;this._focusedComp.fireFocusEvent(Q);Q=new t("focusin",this._focusedComp,true);Q.load=N.load;this._focusedComp.fireFocusEvent(Q)}}else{this._focusedComp=x;Q=new t("focus",this._focusedComp,false);Q.load=N.load;this._focusedComp.fireFocusEvent(Q);Q=new t("focusin",this._focusedComp,true);Q.load=N.load;this._focusedComp.fireFocusEvent(Q)}var A=x.pagePosition();Q=new f("dblclick",this._focusedComp,true,{x:N.pageX-A.x,y:N.pageY-A.y},{x:N.pageX,y:N.pageY});Q.load=N.load;this._focusedComp.fireMouseEvent(Q)}else{if(this._focusedComp){Q=new t("blur",this._focusedLayer,false);Q.load=N.load;this._focusedComp.fireFocusEvent(Q);Q=new t("focusout",this._focusedLayer,true);Q.load=N.load;this._focusedComp.fireFocusEvent(Q);this._focusedComp=undefined}}break;case"click":if(x){if(this._focusedComp){if(this._focusedComp.id!==x.id){Q=new t("blur",this._focusedComp,false);Q.load=N.load;this._focusedComp.fireFocusEvent(Q);Q=new t("focusout",this._focusedComp,true);Q.load=N.load;this._focusedComp.fireFocusEvent(Q);this._focusedComp=x;Q=new t("focus",this._focusedComp,false);Q.load=N.load;this._focusedComp.fireFocusEvent(Q);Q=new t("focusin",this._focusedComp,true);Q.load=N.load;this._focusedComp.fireFocusEvent(Q)}}else{this._focusedComp=x;Q=new t("focus",this._focusedComp,false);Q.load=N.load;this._focusedComp.fireFocusEvent(Q);Q=new t("focusin",this._focusedComp,true);Q.load=N.load;this._focusedComp.fireFocusEvent(Q)}var A=x.pagePosition();Q=new f("click",this._focusedComp,true,{x:N.pageX-A.x,y:N.pageY-A.y},{x:N.pageX,y:N.pageY});Q.load=N.load;this._focusedComp.fireMouseEvent(Q)}else{if(this._focusedComp){Q=new t("blur",this._focusedComp,false);Q.load=N.load;this._focusedComp.fireFocusEvent(Q);Q=new t("focusout",this._focusedComp,true);Q.load=N.load;this._focusedComp.fireFocusEvent(Q);this._focusedComp=undefined}}break;case"touchstart":for(var O=0,E,z=N.originalEvent.changedTouches,P=z.length;O<P;O++){E=z.item(O);this._touchSeqTracking[E.identifier]=false}i.call(this,x,N.originalEvent);Q=u.buildFromDomTouchEvent("touchstart",x,N.originalEvent);Q.load=N.load;x.fireTouchEvent(Q);break;case"touchmove":if(!i.call(this,x,N.originalEvent)){Q=u.buildFromDomTouchEvent("touchmove",x,N.originalEvent);Q.load=N.load;x.fireTouchEvent(Q)}break;case"touchend":i.call(this,x,N.originalEvent);var v=[],J=[],D=[],L=[];for(var O=0,E,z=N.originalEvent.changedTouches,P=z.length;O<P;O++){E=z.item(O);this._touchSeqTracking[E.identifier]===true?J.push(E):v.push(E);delete this._touchSeqTracking[E.identifier]}if(v.length){for(var O=0,E,R=N.originalEvent.targetTouches,P=R.length;O<P;O++){E=R.item(O);L.push(E)}for(var O=0,E,I=N.originalEvent.touches,P=I.length;O<P;O++){E=I.item(O);D.push(E)}Q=u.buildFrom3TouchArray("touchcancel",x,D,J,L);Q.load=N.load;x.fireTouchEvent(Q);Q=u.buildFrom3TouchArray("touchend",x,D,v,L);Q.load=N.load;x.fireTouchEvent(Q)}else{Q=u.buildFromDomTouchEvent("touchcancel",x,N.originalEvent);Q.load=N.load;x.fireTouchEvent(Q)}break;case"touchcancel":i.call(this,x,N.originalEvent);for(var O=0,E,z=N.originalEvent.changedTouches,P=z.length;O<P;O++){E=z.item(O);delete this._touchSeqTracking[E.identifier]}Q=u.buildFromDomTouchEvent("touchcancel",x,N.originalEvent);Q.load=N.load;x.fireTouchEvent(Q);break}}function i(C,B){var G=[];var E=C;do{q.apply(G,E.gestureDetectors)}while(E=E.parent);var x=false,w,I=false;for(var A=0,v,H,D=G.length;A<D;A++){H=G[A];switch(B.type){case"touchstart":H.touchBegin(B);break;case"touchmove":H.touchMove(B);break;case"touchend":H.touchEnd(B);break;case"touchcancel":H.touchCancel(B);break}v=H.state;w=(v===a.Began)||(v===a.Changed)||(v===a.Recognized);x=x||w;I=I||(w&&H.cancelTouches())}if(I){for(var A=0,z,F=B.changedTouches,D=F.length;A<D;A++){z=F.item(A);this._touchSeqTracking[z.identifier]=true}}return x}var k=l.extend({constructor:function(v){v=v||{};if(v.holder){this._holder=h(v.holder);this._holder.bind("DOMNodeInsertedIntoDocument",function(){this.markAttached()}.bind(this));this._holder.bind("DOMNodeRemovedFromDocument",function(){this.markDetached()}.bind(this));this.pin({x:0,y:0});this._msTracking=[];this._touchSeqTracking={};r(this);this.clipToBound(false);e.call(this);this.container.appendTo(this._holder);this.markDetached();this.markHide();if(d(this._holder.get(0))){this.markAttached()}if(this._holder.css("display")==="none"||this._holder.css("visibility")==="hidden"){this._parentVisible=false;this.markHide()}else{this._parentVisible=true;this.markShow()}this._watcherTaskId=c.watch(this._holder.get(0),"position,display",function(x){for(var z=0,w=x.length;z<w;z++){switch(x[z]){case"position":r(this);break;case"display":if(this._holder.css("display")==="none"){this._parentVisible=false;this.markHide()}else{this._parentVisible=true;this.markShow()}break}}}.bind(this));this.root=this}else{n("you have to provide a container for viz frame")}},doDestroy:function(){c.unwatch(this._watcherTaskId);this._holder.unbind("DOMNodeInsertedIntoDocument");this._holder.unbind("DOMNodeRemovedFromDocument");this.container.unbind()},destroy:function(){this._super();this.container.detach()}});return k});sap.riv.module({qname:"sap.viz.mvc.ImageManager",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(d){var b=function(g){this._imgEl=g};b.prototype.getBitmap=function(){return this._imgEl};b.prototype.width=function(g){if(g!==undefined){this._imgEl.width=g;return this}return this._imgEl.width};b.prototype.height=function(g){if(g!==undefined){this._imgEl.height=g;return this}return this._imgEl.height};b.prototype.intrinsicHeight=function(){return this._imgEl.naturalHeight};b.prototype.intrinsicWidth=function(){return this._imgEl.naturalWidth};b.prototype.url=function(){return this._imgEl.src};var c={};var f={};var a={};var e={loadImage:function(j,g,i){if(j&&g){i=i||d.noop;if(f.hasOwnProperty(j)){if(c[f[j]]){i(true);return}}var h=new Image();h.onabort=h.onerror=function(){i(false,{id:j,url:g})};h.onload=function(){var l=h.src;if(!c.hasOwnProperty(l)){var k=new b(h);f[j]=l;a[l]={ids:{id:j},length:1};c[l]=k}else{f[j]=h.src;a[l].ids[j]=j;a[l].length++}i(true,{id:j,url:g})}.bind(this);h.src=g}},loadImages:function(o,n,m){n=n||d.noop;m=m||d.noop;var l=o.length;if(l==0){m(true)}else{var k=0;var h=function(i,p){k++;if(k<l){n(k/l,i,p)}else{m(true,p)}};for(var j=0,g=o.length;j<g;j++){e.loadImage(o[j].id,o[j].url,h)}}},hasImage:function(g){return f.hasOwnProperty(g)},getImage:function(g){if(f.hasOwnProperty(g)){return c[f[g]]}},disposeImage:function(h){if(f.hasOwnProperty(h)){var g=f[h];delete f[h];delete a[g].ids[h];a[g].length--;if(!a[g].length){delete a[g];delete c[g]}}}};return e});sap.riv.module({qname:"sap.viz.mvc.ThemeManager",version:"4.0.1"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.base.Observable",version:"4.0.1"}],function Setup(c,a){var b=new (a.extend({events:["defaultThemeChanged","themeSettingChanged"],constructor:function(d){this._themeReg={}},defaultTheme:function(e){if(e!==undefined){if(this._defaultTheme!==e&&this.hasThemeInstalled(e)){var d=this._defaultTheme;this._defaultTheme=e;this.fireEvent("defaultThemeChanged",d,e)}return this}return this._defaultTheme},hasThemeInstalled:function(d){return this._themeReg.hasOwnProperty(d)},installTheme:function(d,e){if(!this._themeReg.hasOwnProperty(d)){this._themeReg[d]=c.extend({},e)}},getThemeSettings:function(d){if(this._themeReg.hasOwnProperty(d)){return c.extend({},this._themeReg[d])}},updateThemeSetting:function(g,e,f){if(this._themeReg.hasOwnProperty(g)){var d=this._themeReg[g][e];this._themeReg[g][e]=f;this.fireEvent("themeSettingChanged",g,e,d,f)}}}))();return b});sap.riv.module({qname:"sap.viz.mvc.VizApplication",version:"4.0.1"},[{qname:"sap.viz.base.Observable",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.mvc.ThemeManager",version:"4.0.1"},{qname:"sap.viz.mvc.ImageManager",version:"4.0.1"},{qname:"sap.viz.mvc.VizFrame",version:"4.0.1"},{qname:"sap.viz.mvc.UIComponent",version:"4.0.1"},{qname:"sap.viz.mvc.UIController",version:"4.0.1"},{qname:"sap.viz.base.Logger",version:"4.0.1"}],function Setup(i,m,l,e,n,g,f,p){var o=m.noop,k=m.error,a=m.unimplemented,h=Array.prototype.push;var c=0;function b(){return c++}var d=g.Autosizing;var j=i.extend({images:[],RootControllerClass:f,constructor:function(r){if(!arguments.length){k("You have to specify the options to initialize")}var s=r.holder,v=r.id;if(!s){k("You have to specify the holder for the visualization")}delete r.holder;delete r.id;var q=this.constructor.prototype;if(!(q.RootControllerClass)){k("Cannot initialize without a root UIController")}this.appWillLaunch.apply(this,[r]);var u=l.defaultTheme();Object.defineProperties(this,{id:{value:v?v+"_"+b():"VizApp_"+b(),writable:false},vizFrame:{value:new n({holder:s}),writable:false},theme:{get:function(){return u},set:function(w){u=w;if(l.hasThemeInstalled(w)){u!==w;this.controller.doThemeApplied(u)}return this}}});l.on("defaultThemeChanged",function(w,x){if(this._theme===w){this._theme=x;this.controller.doThemeApplied(x)}}.bind(this),this.id);l.on("themeSettingChanged",function(A,x,w,z){if(this._theme===A){this.controller.doThemeUpdated(x,w,z)}}.bind(this),this.id);var t=[];if(this.hasOwnProperty("images")&&this.images){h.apply(t,this.images)}h.apply(t,q.images);e.loadImages(t,undefined,function(){var w=new q.RootControllerClass(this);Object.defineProperty(this,"controller",{value:w,writable:false,enumerable:true,configurable:false});this.vizFrame.append(w.rootUIComponent);this.controller.initialize(r);this.appDidFinishLaunching.apply(this,[r]);w.rootUIComponent.autoResizingMask(d.FlexibleWidth|d.FlexibleHeight);w.rootUIComponent.frame(0,0,this.vizFrame.width(),this.vizFrame.height())}.bind(this))},appWillLaunch:o,appDidFinishLaunching:o,getMetadata:a,getPropertyValues:a,setPropertyValues:a,destroy:function(){l.un("defaultThemeChanged",this.id);l.un("themeSettingChanged",this.id);this.controller.destroy();this.vizFrame.destroy()}});return j});sap.riv.module({qname:"sap.viz.core",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.mvc.UIController",version:"4.0.1"},{qname:"sap.viz.mvc.UIComponent",version:"4.0.1"},{qname:"sap.viz.mvc.VizApplication",version:"4.0.1"},{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.Constants",version:"4.0.1"},{qname:"sap.viz.load",version:"4.0.1"},{qname:"sap.viz.util.append",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"},{qname:"sap.viz.data.feed.feeder",version:"4.0.1"},{qname:"sap.viz.data.handler.BaseDataHandler",version:"4.0.1"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.config",version:"4.0.1"},{qname:"sap.viz.style.Manager",version:"4.0.1"},{qname:"sap.viz.TemplateManager",version:"4.0.1"},{qname:"sap.viz.style.Sheet",version:"4.0.1"},{qname:"sap.viz.util.fn.dombuilder",version:"4.0.1"},{qname:"sap.viz.util.fn.domposition",version:"4.0.1"}],function Setup(o,k,r,w,a,m,u,f,l,E,j,z,h,q,x,A,C,e,n,B,b,D,t){function s(H){var G={};for(var F in H){if(H.hasOwnProperty(F)){if(H[F].supportedValueType==="Object"){G[F]=s(H[F].supportedValues)}else{G[F]=H[F].defaultValue}}}return G}function g(J,H){var I=J,F={};if(H.general&&I.layout){I.general={};I.general.layout=$.extend(true,{},I.layout);delete I.layout}F=r.extend(true,{},I);for(var G in I){if(I.hasOwnProperty(G)){if(typeof H==="object"&&H.hasOwnProperty(G)){if(I[G]!==null&&typeof I[G]==="object"&&!(I[G] instanceof Array)){F[G]=g(I[G],H[G])}else{if((typeof H[G]!=="undefined"&&H[G] instanceof Array&&I[G] instanceof Array)||(typeof H[G]!=="undefined"&&typeof H[G]!=="object")){F[G]=H[G]}}}}}if(F.general){F.layout=$.extend(true,{},F.general.layout);delete F.general}return F}function v(I,M){var G=f.viz.get(M).allProperties();var K={};var L;var F={};var J,H;for(J in I){if(I.hasOwnProperty(J)){if(I[J].properties&&!o.isEmptyObject(I[J].properties())){if(J.indexOf("[")>-1){if(parseInt(J[J.indexOf("[")+1],10)>0){continue}else{L=J.substring(0,J.indexOf("["))+J.substring(J.indexOf("]")+1)}}else{L=J}for(H in G){if(G.hasOwnProperty(H)){if(G[H].moduleRefPath===L){F=s(G[H]);K[H]=g(F,I[J].properties())}}}}}}return K}var d=m.extend({initialize:function(F){this._config=F.config;this._data=F.data;this._modules={};this._selections={};this._properties=F.options;this._dispatch=d3.dispatch("dataTruncation");this._i18nListener={fn:this._localeChanged,scope:this};C.addListener(this._i18nListener);if(this._data.emptyDataset()){return}this._shadowSVGContainer=d3.select(document.createElement("div"));this._shadowSVG=this._shadowSVGContainer.append("svg");this._canvas=d3.select(document.createElement("canvas")).style("width",0).style("height",0);this.container.prepend(this._canvas.node());var J=e.get(this._config.id)||{};this._max_svg=e.enableCanvg()&&J.max_svg?J.max_svg:Number.POSITIVE_INFINITY;this._max_canvas=e.enableCanvg()&&J.max_canvas?J.max_canvas:Number.POSITIVE_INFINITY;this._root=d3.select(this.container[0]);this._component_status="svg";var K=k.guid("sap-viz");this._root.attr("class",K);this._id=K;this._properties=this._mergeProperties({},this._properties);this._styleSheets=[];this._styleManager=new n(this._styleSheets);var I={styleManager:this._styleManager.child(undefined,undefined,"div")};var H=this;this._selections=D(this._root,this._config.modules);if(this._data.dataPointCount()>this._max_svg){this._shadowSVG=this._selections.root.remove();this._selections.root=this._shadowSVGContainer.select("svg");this._component_status="canvg"}this._modules=(function(){var L={};$.each(H._config.modules,function(M,P){var Q=h(P.id,I,M,H._selections[M]?H._selections[M].node().nodeName:undefined),O=P.data?H._data.createDataAdapterForModule(P.data):H._data,N={};L[M]=Q.data?Q.data(O):Q;if(P.modules){if(P.configure){N[P.configure.propertyCategory]=P.properties}if(L[M].container){L[M].container(H._root.node())}if(L[M].parent){L[M].parent(H._selections[M])}L[M].config(P).properties(r.extend(true,{},N,H._properties))}else{L[M].properties(r.extend(true,{},P.properties,H._properties[P.configure.propertyCategory]))}});return L})();for(var G in this._modules){if(this._modules.hasOwnProperty(G)){this._modules=this._flatten(G,this._modules[G])}}this._domposition(this.size());this.css(F.css);if(this._modules.root.dispatch&&this._modules.root.dispatch()["ready"]){this._modules.root.dispatch().on("ready.sap.core",function(){H._exportToCanvas.apply(H)})}this._attachEvents(F)},_flatten:function(J,G,M){var L=M||".",I={},H=[{key:J,value:G}];(function F(O,R){var Q=R.modules(),P={},S=O;for(var N in Q){if(Q.hasOwnProperty(N)){P={key:O+L+N,value:Q[N]};H.push(P);if(Q[N].modules){F(S+L+N,Q[N])}}}})(J,G);for(var K=0;K<H.length;K++){I[H[K].key]=H[K].value}return I},_attachEvents:function(F){var G=F.events;for(var H in G){if(G.hasOwnProperty(H)){this.attachEvent(H,G[H].fn,G[H].scope)}}},attachEvent:function(Q,N,P){var H=this.modules(),M={};var L=this._dispatch;var I=Q.indexOf(".");var F=I>0?Q.substring(0,I):Q;if(L[F]){L.on(F,function(){N.apply(P,arguments)})}for(var G in H){if(H.hasOwnProperty(G)){var K=G.split("."),J=K.length-1;if(H[G].dispatch&&H[G].dispatch()[F]){for(var O=0;O<=J;O++){if(M[O]&&M[O][K.slice(0,O).toString()]){break}}if(O>J){if(!M[K.length]){M[K.length]={}}M[K.length][K.toString()]=H[G];H[G].dispatch().on(Q,function(){N.apply(P,arguments)})}}}}},_getRootKey:function(){if(this._rootKey){return this._rootKey}for(var F in this._modules){if(this._modules.hasOwnProperty(F)&&l.get(this._config.modules[F].id).type!==E.Type.Controller&&l.get(this._config.modules[F].id).type!==E.Type.Behavior&&F.indexOf(".")<0){return(this._rootKey=F)}}},_getRootContainer:function(){if(this._rootContainer){return this._rootContainer}for(var F in this._config.modules){if(this._config.modules.hasOwnProperty(F)&&l.get(this._config.modules[F].id).type===E.Type.Container){return(this._rootContainer=this._modules[F])}}},_domposition:function(G){var H=this._getRootKey();var F={};F[H]={bounds:{x:0,y:0,width:G.width,height:G.height}};t(F,this._selections)},_doLayout:function(F,G){this._domposition(F);this._getRootContainer().size(F,G)},_updateProperties:function(){this._properties=this._mergeProperties(this._properties);var F=this._config.modules;for(var G in F){if(F.hasOwnProperty(G)){if(l.get(F[G].id).type===E.Type.Container){this._modules[G].properties(this._properties);continue}if(F[G].configure&&F[G].configure.propertyCategory){this._modules[G].properties(this._properties[F[G].configure.propertyCategory])}}}},_mergeProperties:function(G,H){var F={};F=r.extend(true,{},G,H);return this._mergeCanvgProperties(F)||F},_mergeCanvgProperties:function(G){if(e.enableCanvg()&&this._data.dataPointCount()>=this._max_svg){var F={};F.plotArea={animation:{dataLoading:false,dataUpdating:false}};return r.extend(true,{},G,F)}},render:function(){if(this._data.emptyDataset()){return}this._relayout(this.size());this._paint()},_localeChanged:function(){this._getRootContainer().data(this._data);this._updateProperties();this.render()},properties:function(G){if(!arguments.length){return v(this._modules,this._config.id)}this._properties=this._mergeProperties(this._properties,G);var F=this._config.modules;for(var H in F){if(F.hasOwnProperty(H)){if(l.get(F[H].id).type===E.Type.Container){this._modules[H].properties(this._properties)}else{if(!F[H].configure){continue}this._modules[H].properties(this._properties[F[H].configure.propertyCategory])}}}this._modules=this._flatten(this._getRootKey(),this._getRootContainer())},css:function(G){if(G===undefined){var H="";this._styleSheets.forEach(function(I){H+=I.source});return H}if(G){var F=new b(G,this._id);this._styleManager.applyCSS(F);this._styleSheets.push(F)}},data:function(F){if(!arguments.length){return this._data}this._data=F;this._updateProperties();if(e.enableCanvg()&&this._data.dataPointCount()>=this._max_svg&&this._component_status==="svg"){this._selections[this._getRootKey()].remove();this._shadowSVG=this._shadowSVGContainer.select("svg");this._shadowSVG.remove();if(this._shadowSVGContainer.select("svg").node()===null){this._shadowSVGContainer.node().appendChild(this._selections[this._getRootKey()].node())}else{$(this._selections[this._getRootKey()].node()).insertBefore(this._shadowSVGContainer.select("svg").node())}if(d3.select(this.container.get(0)).select("svg").node()===null){this.container.get(0).appendChild(this._shadowSVG.node())}else{$(this._shadowSVG.node()).insertBefore(d3.select(this.container.get(0)).select("svg").node())}this._component_status="canvg"}else{if(e.enableCanvg()&&this._data.dataPointCount()<this._max_svg&&this._component_status==="canvg"){this._canvas.node().getContext("2d").clearRect(0,0,this._canvas.node().width,this._canvas.node().height);this._canvas.style("width",0),this._canvas.style("height",0);this._canvas.attr("width",0),this._canvas.attr("height",0);this._shadowSVG=d3.select(this.container.get(0)).select("svg");this._selections[this._getRootKey()]=this._shadowSVGContainer.select("svg");this._selections[this._getRootKey()].remove();$(this._selections[this._getRootKey()].node()).insertBefore(this._shadowSVG.node());this._shadowSVGContainer.insert("svg","svg").attr("width",this.size().width).attr("height",this.size().height);this._shadowSVG.remove();this._shadowSVG=this._selections[this._getRootKey()];this._component_status="svg"}}this._getRootContainer().data(this._data);this._getRootContainer().refresh();this._modules=this._flatten(this._getRootKey(),this._getRootContainer())},modules:function(){return this._modules},_relayout:function(F){this._doLayout(F);this._wire();this._doLayout(F,true)},doContentResize:function(G,F){this._super("doContentResize",G,F);this.render()},_expandDependencyDefs:function(Q){var I=[];var K=Q.sourceModule;var N=Q.targetModule;var G=this._expandModulePath(K);var M=this._expandModulePath(N);if(G.length>1&&M.length>1){if(G.length!==M.length){w.error("Error on resolving dependency:"+K+","+N)}else{for(var J=0,L=G.length;J<L;J++){I.push({sourceModule:G[J],targetModule:M[J],source:Q.source,target:Q.target,type:Q.type,listener:Q.listener})}}}else{for(var F=0,O=G.length;F<O;F++){for(var H=0,P=M.length;H<P;H++){I.push({sourceModule:G[F],targetModule:M[H],source:Q.source,target:Q.target,type:Q.type,listener:Q.listener})}}}return I},_expandModulePath:function(R){var H=R.split(".");var F=[];var G=[];for(var L=0,M=H.length;L<M;L++){var K=0,Q=F.length;do{var P=Q>0?[F[K],H[L]].join("."):H[L];if(o.isArray(this._modules[P])){for(var J=0,O=this._modules[P].length;J<O;J++){if(this._modules[P][J]){var N=Q>0?[F[K],H[L]+"["+J+"]"].join("."):H[L]+"["+J+"]";G.push(N)}}}else{G.push(P)}K++}while(K<Q);var I=F;F=[].concat(G);G.length=0;I.length=0}return F},_expandModules:function(){var H=this._modules;var G=[];for(var J in H){if(H.hasOwnProperty(J)){var F=H[J];if(o.isArray(F)){for(var I=0;I<F.length;I++){G[J+"["+I+"]"]=F[I]}}else{G[J]=F}}}return G},_wire:function(){var L=this._config.dependencies,P,J;var N=L.attributes||[],Q=L.events||[];var I,K;var G=this._expandModules();for(J=0;J<N.length;J++){P=N[J];if(P===null){continue}I=this._expandDependencyDefs(P);for(var H=0,O=I.length;H<O;H++){K=I[H];if(G[K.sourceModule]&&G[K.targetModule]){if(typeof G[K.sourceModule][K.source]==="function"&&typeof G[K.targetModule][K.target]==="function"){G[K.targetModule][K.target](G[K.sourceModule][K.source]())}else{w.error("dependency configuration error")}}else{w.error("dependency configuration error")}}}for(J=0;J<Q.length;J++){P=Q[J];I=this._expandDependencyDefs(P);for(var F=0,M=I.length;F<M;F++){K=I[F];if(G[K.targetModule]&&G[K.sourceModule]){if(typeof G[K.targetModule][K.listener]==="function"&&typeof G[K.sourceModule]==="function"){if(typeof G[K.sourceModule].dispatch==="function"){G[K.sourceModule].dispatch().on(K.type+"."+K.targetModule+"."+F,G[K.targetModule][K.listener])}else{w.error("dependency configuration error:"+K.sourceModule+" does not support event!")}}else{w.error("dependency configuration error")}}else{w.error("dependency configuration error: source or target does not exist!")}}}},_paint:function(){this._selections[this._getRootKey()].call(this._getRootContainer())},_exportToCanvas:function(){if(e.enableCanvg()&&this._component_status==="canvg"){this._selections[this._getRootKey()].attr("height",this.size().height);this._selections[this._getRootKey()].attr("width",this.size().width);this._shadowSVG.attr("height",0);this._shadowSVG.attr("width",0);this._shadowSVGContainer.selectAll("title").remove();if(canvg){canvg(this._canvas.node(),this._shadowSVGContainer.html(),{ignoreMouse:true,ignoreAnimation:true});if(this._data.dataPointCount()>this._max_canvas){this._dispatch.dataTruncation()}}}},getSupportedEvents:function(){var G=[];var F=this._config.modules;function H(J){for(var I in J){if(J.hasOwnProperty(I)){if(!J[I]){continue}var K=f.module.get(J[I].id);if(K&&K.events){G.push({sourceId:J[I].id,source:{},evtTypes:K.events})}if(J[I].modules){H(J[I].modules)}}}}H(F);return G},doDestroy:function(){C.removeListener(this._i18nListener);this.detach();this._styleSheets.forEach(function(F){F.destroy()})}});var p=a.extend({RootComponentClass:d,_parseOptions:function(F){if(!f.viz.get(F.vizType)){w.error("Invalid vizType")}this._dataset=F.dataset?F.dataset:{};this._options=F.option;this._vizType=F.vizType;this._dataFeeding=F.feeding;this._css=F.css;this._events=F.events},initUIComponent:function(G){this._parseOptions(G);var F=f.viz.get(this._vizType);this.rootUIComponent.initialize({data:this._dataset,dataFeeding:this._dataFeeding,config:F,options:this._options,clipToBound:true,css:this._css,events:this._events})},getSupportedEvents:function(){return this.rootUIComponent.getSupportedEvents()},setDataset:function(F){this.rootUIComponent.data(F)},doThemeChanged:function(){this.rootUIComponent.themeChanged()},updateProperties:function(F){this.rootUIComponent.properties(F)},getProperties:function(){return this.rootUIComponent.properties()},css:function(){return this.rootUIComponent.css.apply(this.rootUIComponent,arguments)},render:function(){this.rootUIComponent.render()},doAfterShow:function(){var G=this.rootUIComponent.properties();var H;if(!G.plotArea||!G.plotArea.animation||!G.plotArea.animation.dataLoading){if(!this.rootUIComponent.modules()){return}var I=this.rootUIComponent.modules()["main.plot"];if(o.isArray(I)){for(var F=0;F<I.length;F++){if(o.isExist(I[F])){H=I[F].modules()["plot"].doAfterShow;if(o.isExist(H)){H()}}}}else{H=I.doAfterShow;if(o.isExist(H)){H()}}}}});var c=u.extend({RootControllerClass:p,appDidFinishLaunching:function(G){var F=G.launchOptions;this._vc_vizType=F.vizType;this._vc_dataset=F.data.rawData;this._vc_feeding=F.feeding;this._vc_properties=F.options;var I=e.get(this._vc_vizType)?e.get(this._vc_vizType):{};this.max_canvas=e.enableCanvg()&&I.max_canvas?I.max_canvas:Number.POSITIVE_INFINITY;var H=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas);this.controller.initUIComponent({vizType:this._vc_vizType,dataset:H,option:F.options,css:F.css,events:F.events})},_vc_createAdapter:function(L,F,J,H){var N=q(f.viz.get(L).allFeeds(true),F,J);var P=new x(N,F,H);var Q=N.getFeeds();var M=new A(N.getBindingInfo());M.fakeData(F.hasFakeData());M.emptyDataset(F.isEmptyDataset());M.dataPointCount(F.getDataPointCount());var G,O;for(var I=0,K=Q.length;I<K;I++){G=Q[I].feedId();O=P.getFeedValues(G);if(O!==null){if(Q[I].type()==="Dimension"){M.addAnalysisAxis({values:O,index:Q[I].getIndex()-1})}else{M.addMeasureValuesGroup({values:O,index:Q[I].getIndex()-1})}}}return M},css:function(){return this.controller.css.apply(this.controller,arguments)},size:function(F){if(F!==undefined){this.vizFrame.size(F);return this}else{return this.vizFrame.size()}},update:function(H){if(H){var F=false;if(H.properties){if(this.controller){this._vc_properties=H.properties;this.controller.updateProperties(this._vc_properties);F=true}}if(H.css){this.controller.css(H.css);F=true}if(H.data||H.feeding){if(H.data){this._vc_dataset=H.data}if(H.feeding){this._vc_feeding=H.feeding}var G=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas);this.controller.setDataset(G);F=true}if(F){this.controller.render()}}},getSupportedEvents:function(){return this.controller.getSupportedEvents()},setDataset:function(G){this._vc_dataset=G;var F=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding);this.controller.setDataset(F)},getDataset:function(){return this._vc_dataset},updateProperties:function(F){if(this._controller){this._vc_properties=F;this.controller.updateProperties(this._vc_properties)}},getProperties:function(){return this.controller.getProperties()}});var i={constructor:function(){},instances:[],createViz:function(K){var H={},G=K.feeding,L=this;var F={constructor:function(){},on:function(O,N,M){H[O]={callback:N,scope:M};this.app.controller.rootUIComponent.attachEvent(O,N,M);return this},size:function(M){if(!arguments.length){return this.app.size()}this.app.size(M);return this},data:function(N){if(!arguments.length){return this.app.getDataset()}this.update({data:N});for(var M in H){if(H.hasOwnProperty(M)){this.on(M,H[M].callback,H[M].scope)}}return this},properties:function(M){if(!arguments.length){return this.app.getProperties()}this.update({properties:M});return this},css:function(M){if(!arguments.length){return this.app.css()}this.update({css:M});return this},feeding:function(M){if(!arguments.length){return G}G=M;this.update({feeding:M});return this},update:function(M){if(M){if(o.isDefined(M.feeding)){G=M.feeding}this.app.update(M)}return this},destroy:function(){L.instances.splice(L.instances.indexOf(this),1);this.app.destroy()},toJSON:function(){var M={};M.type=K.type;M.data={type:"crosstable",val:F.app.getDataset().data()};M.properties=this.app.properties();M.css=this.css();M.feeding=G;M.size=this.app.size();return M}};var J=B.current();var I=K.type;F.app=new c({holder:K.container,launchOptions:{vizType:I,options:r.extend(true,null,J.props(I),K.options),css:(J.css||"")+(K.css||""),data:{rawData:K.data},feeding:K.feeding||K.dataFeeding,events:K.events}});Object.defineProperty(F,"type",{value:I,enumerable:true});L.instances.push(F);return F},destroyViz:function(){for(var G=-1,F=arguments.length;++G<F;){arguments[G].destroy()}},loadViz:function(H,F){var G={};G.container=F;G.type=H.type;G.options=H.properties;G.data=H.data;G.css=H.css;G.feeding=H.feeding;this.createViz(G)},exportViz:function(F){return F.toJSON()}};return i});sap.riv.module({qname:"sap.viz.ccl",version:"4.0.1",exported:true},[{qname:"sap.viz.core",version:"4.0.1"},{qname:"sap.viz.data.CrosstableDataset",version:"4.0.1"}],function Setup(c,b){var a={constructor:function(){return},loadViz:function(f,d){var e={};e.container=d;e.type=f.type;e.options=f.properties;e.data=new b();e.data.setData(f.data.val);e.css=f.css;e.feeding=f.feeding;return c.createViz(e)}};return a});sap.riv.module({qname:"sap.viz.env",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.Logger",version:"4.0.1"},{qname:"sap.viz.config",version:"4.0.1"},{qname:"sap.viz.Locale",version:"4.0.1"}],function Setup(b,c,d,h){var g=function(i){if(b.isExist(i)){c.setLevel(i)}};var a=function(m){if(!m){return}if(m.enable){c.enable()}if(!m.appenders){return}for(var n=0,k=m.appenders.length;n<k;n++){var j=m.appenders[n];if(j.appenderKey){c.addAppender(j.appenderKey,j.appender)}else{c.addAppender(j.appender)}}};var e=function(i,j){h.locale(i.locale,j)};var f={constructor:function(){},initialize:function(i,j){if(!i){return}a(i.log);if(i.locale){e(i,j)}else{if(j){j.call()}}d.enableCanvg(i.enableCanvg)},setLoggerEnable:function(i){if(i===true){c.enable()}else{if(i===false){c.disable()}}},addLogAppender:function(){if(arguments.length===1){return c.addAppender(arguments[0])}else{if(arguments.length===2){return c.addAppender(arguments[0],arguments[1])}}},removeLogAppender:function(i){return c.removeAppender(i)}};return f});sap.riv.module({qname:"sap.viz.util.LogAnalyzer",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.LinkedHashMap",version:"4.0.1"}],function Setup(d){var h;var i={};var e={};var g={};var c=new d();var b=/Chart\[(.+?)\]\sinitializing\./;var a=/Chart\[(.+?)\]application\[(.+?)\]\sinitialized\./;var f=/application\[(.+?)\]component\[(.+?)\]\sinitialized\./;var n=/chartComponent\[(.+?)\]subComponent\[(.+?)\]initialized\./;var o=/layer\[(.+?)\]rendering\send\./;var k=/#(\d+)#/;function m(q){while(q.hasMore()){if(q.nextValue()===-1){return false}}return true}function l(t){var q=t[0];var s=t.length;for(var r=1;r<s;r++){q=t[r]>q?t[r]:q}return q}function p(t,q,s,r){return"#"+t+"#"+r}var j={analyze:function(v,s,A,E){if(A!=="perf"){return}var w=p(v,s,A,E);var t=b.exec(w);if(t){var F=k.exec(w)[1];i[t[1]]=F;h=h||F;return}t=f.exec(w);if(t){g[t[2]]=t[1];return}t=a.exec(w);if(t){e[t[2]]=t[1];return}t=n.exec(w);if(t){if(!c.has(t[1])){c.add(t[1],new d())}c.get(t[1]).add(t[2],-1);return}t=o.exec(w);if(t){var x=k.exec(w)[1];var B=c.getIterator();while(B.hasMore()){var z=B.next();var C=z.value;if(C.has(t[1])&&C.get(t[1])===-1){C.add(t[1],x);var D=C.getIterator();if(m(D)){D.reset();var G=[];while(D.hasMore()){G.push(D.nextValue())}var q=e[g[z.key]];var r=i[q],u=x;c.remove(z.key);return("chart["+q+"] start time:"+r+" end time:"+u+" time consume["+(u-r)+"] total consume["+(u-h)+"]")}}}}}};return j});sap.viz.lang.langManager.register({id:"dev",value:{IDS_DEFAULTMND:"All Measures",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_ISNOVALUE:"No value",IDS_BARCHART:"Bar Chart",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_LINECHART:"Line Chart",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_VERTICALBARCHART:"Column Chart",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_WATERFALLCHART:"Waterfall Chart",IDS_DONUTCHART:"Donut Chart",IDS_PIECHART:"Pie Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_SCATTERCHART:"Scatter Plot",IDS_BASECHART:"Base Chart",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_BASESINGLECHART:"Base Single Chart",IDS_HEATMAPCHART:"Heat Map",IDS_TREEMAPCHART:"Tree Map",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_MULTIDONUTCHART:"Multiple Donut Chart",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_MULTILINECHART:"Multiple Line Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_RADARCHART:"Radar Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_MEKKOCHART:"Mekko chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Mekko Chart",IDS_PERCENTAGEMEKKOCHART:"100% Mekko Chart",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Mekko Chart",IDS_AREACHART:"Area Chart",IDS_PERCENTAGEAREACHART:"100% Area Chart",IDS_HORIZONTALAREACHART:"Horizontal Area Chart",IDS_PERCENTAGEHORIZONTALAREACHART:"100% Horizontal Area Chart",IDS_MULTIAREACHART:"Multiple Area Chart",IDS_MULTIHORIZONTALAREACHART:"Multiple Horizontal Area Chart",IDS_MULTIPERCENTAGEAREACHART:"Multiple 100% Area Chart",IDS_MULTIPERCENTAGEHORIZONTALAREACHART:"Multiple 100% Horizontal Area Chart",IDS_3D_BAR:"3D Bar Chart",IDS_3D_COLUMN:"3D Column Chart",IDS_PIEWITHDEPTHCHART:"Pie With Depth Chart",IDS_DONUTWITHDEPTHCHART:"Donut With Depth Chart",IDS_REGIONCOLOR:"Region Color",IDS_PRIMARYVALUES:"Primary Values",IDS_SECONDARYVALUES:"Secondary Values",IDS_AXISLABELS:"Axis Labels",IDS_RECTANGLETITLE:"Rectangle Title",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_TAGNAME:"Tags Name",IDS_TAGWEIGHT:"Tags Weight",IDS_TAGFAMILY:"Tags Family",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_REGIONSHAPE:"Region Shape",IDS_BUBBLEWIDTH:"Bubble Width",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_RADARAXES:"Radar Axes",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_PIESECTORSIZE:"Sector Size",IDS_PIEDEPTHSIZE:"Depth Size",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_SELECTABILITY:"selectability",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_DRAWINGEFFECT:"drawingEffect",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_ANIMATION:"animation",IDS_DATALOADING:"dataLoading",IDS_DATAUPDATING:"dataUpdating",IDS_BAR:"bar",IDS_LINE:"line",IDS_WIDTH:"width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MARKER:"marker",IDS_VISIBLE:"visible",IDS_SHAPE:"shape",IDS_SIZE:"size",IDS_HEADERVISIBLE:"headerVisible",IDS_AXISVISIBLE:"axisVisible",IDS_GRIDVISIBLE:"gridVisible",IDS_COLUMNSEQUENCE:"columnSequence",IDS_COLUMNCONFIG:"columnConfig",IDS_STARTCOLUMN:"startColumn",IDS_LABEL:"label",IDS_VALUEFORMAT:"valueFormat",IDS_ENDCOLUMN:"endColumn",IDS_HIGHCOLUMN:"highColumn",IDS_LOWCOLUMN:"lowColumn",IDS_LINECONFIG:"lineConfig",IDS_MARKERS:"markers",IDS_FILLVISIBLE:"fillVisible",IDS_REFINEVISIBLE:"reflineVisible",IDS_MODE:"mode",IDS_TITLE:"title",IDS_TEXT:"text",IDS_GRIDLINE:"gridline",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_TYPE:"type",IDS_FORMAT:"format",IDS_POSITION:"position",IDS_BORDER:"border",IDS_STARTCOLOR:"startcolor",IDS_ENDCOLOR:"endcolor",}});